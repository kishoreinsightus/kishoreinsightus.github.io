{"version":3,"sources":["./node_modules/file-saver/dist/FileSaver.min.js","./src/app/general-concept-topic/general-topic-content-manage.component.html","./src/app/general-concept-topic/general-topic-question-create.component.html","./src/app/general-concept-topic/general-topic-question-manage.component.html","./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.html","./src/app/question-builder/matchlist/matchlist.component.html","./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.html","./src/app/question-builder/mcq-standard/mcq-standard.component.html","./src/app/question-builder/pick-question-type/pick-question-type.component.html","./src/app/syllabus-lesson-topic/addl-resource/addl-resource-manage.component.html","./src/app/syllabus-lesson-topic/lesson-topic/lesson-topic-manage.component.html","./src/app/syllabus-lesson-topic/prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component.html","./src/app/syllabus-lesson-topic/topic-content/topic-content-manage.component.html","./src/app/syllabus-lesson-topic/topic-question/topic-question-create.component.html","./src/app/syllabus-lesson-topic/topic-question/topic-question-details.component.html","./src/app/syllabus-lesson-topic/topic-question/topic-question-manage.component.html","./src/app/syllabus-lesson-topic/topic-question/topic-question-update.component.html","./src/app/curriculum/curriculum.service.ts","./src/app/general-concept-topic/general-concept-topic.service.ts","./src/app/general-concept-topic/general-topic-content-manage.component.ts","./src/app/general-concept-topic/general-topic-question-create.component.ts","./src/app/general-concept-topic/general-topic-question-manage.component.ts","./src/app/general-concept-topic/index.ts","./src/app/general-subject/general-subject.service.ts","./src/app/organisation/organisation.service.ts","./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.scss","./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.ts","./src/app/question-builder/cloze/question-preview.directive.ts","./src/app/question-builder/matchlist/matchlist.component.ts","./src/app/question-builder/mcq-choicematrix/index.ts","./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.scss","./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.ts","./src/app/question-builder/mcq-choicematrix/update-answers.directive.ts","./src/app/question-builder/mcq-standard/index.ts","./src/app/question-builder/mcq-standard/mcq-standard.component.ts","./src/app/question-builder/mcq-standard/mcq-standard.service.ts","./src/app/question-builder/mcq-standard/update-answers.directive.ts","./src/app/question-builder/pick-question-type/pick-question-type.component.ts","./src/app/question-builder/question-builder.module.ts","./src/app/question-builder/question-builder.service.ts","./src/app/shared/constants/common.constants.ts","./src/app/subject/subject.service.ts","./src/app/syllabus-lesson-topic/addl-resource/addl-resource-manage.component.ts","./src/app/syllabus-lesson-topic/index.ts","./src/app/syllabus-lesson-topic/lesson-topic/lesson-topic-manage.component.ts","./src/app/syllabus-lesson-topic/prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component.ts","./src/app/syllabus-lesson-topic/syllabus-lesson-topic.module.ts","./src/app/syllabus-lesson-topic/syllabus-lesson-topic.route.ts","./src/app/syllabus-lesson-topic/syllabus-lesson-topic.service.ts","./src/app/syllabus-lesson-topic/topic-content/topic-content-manage.component.ts","./src/app/syllabus-lesson-topic/topic-question/topic-question-create.component.ts","./src/app/syllabus-lesson-topic/topic-question/topic-question-details.component.ts","./src/app/syllabus-lesson-topic/topic-question/topic-question-manage.component.ts","./src/app/syllabus-lesson-topic/topic-question/topic-question-update.component.ts"],"names":[],"mappings":"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","file":"default~general-concept-topic-general-concept-topic-module~syllabus-lesson-topic-syllabus-lesson-topic-module-es2015.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGeneralSubjectGrade\\\"\\r\\n                (change)=\\\"onGeneralSubjectGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"subjects\\\" bindLabel=\\\"title\\\" placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-xxl-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-4 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                    Expand all\\r\\n                </span>\\r\\n                <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                    Collapse all\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"tree-scroll\\\">\\r\\n            <div id=\\\"treeView\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-8 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div>\\r\\n                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Concept,\\r\\n                <i class=\\\"fa fa-file ml-2\\\"></i> - Topic, <i class=\\\"fa fa-times text-danger ml-2\\\"></i> - No content is\\r\\n                mapped\\r\\n            </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\r\\n            <p><b>Subject name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Subject description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n            <p><b>Concept name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Concept description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n            <div class=\\\"d-flex mx-0 row justify-content-between align-items-center\\\">\\r\\n                <div class=\\\"col-xxl-12 px-0\\\">\\r\\n                    <p><b>Topic description</b></p>\\r\\n                    <p class=\\\"mb-2\\\">{{nodeDescription}}</p>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex align-items-start justify-content-end  w-100\\\">\\r\\n                <div class=\\\"btn btn-primary text-white mb-2\\\" (click)=\\\"addContent()\\\">\\r\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add content\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"d-flex flex-wrap w-100\\\" *ngIf=\\\"topicContents\\\">\\r\\n                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"dragTable\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Select</th>\\r\\n                            <th>Order number</th>\\r\\n                            <th>Title</th>\\r\\n                            <th>Active Web URL</th>\\r\\n                            <th>Actions</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody id=\\\"dragBody\\\">\\r\\n                        <tr *ngFor=\\\"let topiccontent of topicContents;trackBy: trackId;let topicIndex = index\\\">\\r\\n                            <td data-column=\\\"Select\\\" title=\\\"{{topiccontent.id}}\\\">\\r\\n                                <div class=\\\"checkbox\\\">\\r\\n                                    <input type=\\\"checkbox\\\" id=\\\"{{topiccontent.id}}\\\"\\r\\n                                        (change)=\\\"checkSelectedContents($event)\\\" class=\\\"checkAll\\\">\\r\\n                                    <label for=\\\"{{topiccontent.id}}\\\"></label>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                {{topiccontent.orderNumber}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Title\\\">\\r\\n                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\" {{topiccontent.content.title}}\\\">\\r\\n                                    {{topiccontent.content.title}}\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Active Web URL\\\">\\r\\n                                <a class=\\\"btn btn-link text-ellipsis\\\" href=\\\"{{topiccontent.content.webUrl}}\\\"\\r\\n                                    target=\\\"_blank\\\">\\r\\n                                    {{topiccontent.content.webUrl}}\\r\\n                                </a>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Actions\\\">\\r\\n                                <div class=\\\"d-flex\\\">\\r\\n                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                        (click)=\\\"viewContent(topiccontent.content.id)\\\" tooltip=\\\"View content\\\">\\r\\n                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                    </a>\\r\\n                                    <a class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                        (click)=\\\"editContent(topiccontent.content.id)\\\" tooltip=\\\"Edit content\\\">\\r\\n                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"topicContents.length > 0\\\">\\r\\n                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"resetSelectedTopicContent()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"deleteTopicContents()\\\">\\r\\n                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\"\\r\\n                        (click)=\\\"updateTopicContentsWithOrderNumber()\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalTopicContent\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\" [formGroup]=\\\"topicContentForm\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    {{modalTitleName}} content\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeTopicContentModalWithOutSaving()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\r\\n                    <div class=\\\"form-group mb-2\\\">\\r\\n                        <label class=\\\"col-form-label\\\">Title\\r\\n                        </label>\\r\\n                        <input type=\\\"text\\\" placeholder=\\\"Enter content name (min length: 3 and max length: 75)\\\"\\r\\n                            class=\\\"form-control\\\" formControlName=\\\"contentTitle\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n                            inputRestriction=\\\"alphabetsNumbersWithMinus\\\" />\\r\\n                        <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                            Allowed characters - Alphabets, Numbers and One special character (-)\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\" form-group mb-2\\\">\\r\\n                        <label class=\\\"col-form-label\\\">Description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n                        </label>\\r\\n                        <textarea class=\\\"form-control description-form\\\"\\r\\n                            placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\"\\r\\n                            formControlName=\\\"contentDescription\\\"></textarea>\\r\\n                        <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                            Allowed characters - Alphabets, Numbers and Special characters\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Content type\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"contentType\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select content type\\\" [(ngModel)]=\\\"selectedContentType\\\"\\r\\n                        [searchable]=\\\"false\\\">\\r\\n                    </ng-select>\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Content source\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"contentSource\\\" [disabled]=\\\"disableDropdown\\\"\\r\\n                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\" placeholder=\\\"Select content source\\\"\\r\\n                        [(ngModel)]=\\\"selectedContentSource\\\" [searchable]=\\\"false\\\">\\r\\n                    </ng-select>\\r\\n                </div> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource\\\"> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\r\\n                            <label class=\\\"col-form-label\\\">File\\r\\n                            </label>\\r\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                <input type=\\\"file\\\" (change)=\\\"onDocumentFileChanges($event)\\\" id=\\\"documentFile\\\" />\\r\\n                                <label class=\\\"custom-file-label\\\" for=\\\"documentFile\\\">\\r\\n                                    <i>\\r\\n                                        {{fileName}}\\r\\n                                    </i></label>\\r\\n                            </div>\\r\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                <input type=\\\"file\\\" alife-file-to-base64 (onFileChanged)=\\\"onVideoFileChanges($event)\\\"\\r\\n                                    id=\\\"videoFile\\\" />\\r\\n                                <label class=\\\"custom-file-label\\\" for=\\\"videoFile\\\">\\r\\n                                    <i>\\r\\n                                        {{fileName}}\\r\\n                                    </i></label>\\r\\n                            </div>\\r\\n                            <div class=\\\" d-flex w-100\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                    Only PDF will allow Max file size - 100 MB\\r\\n                                </div>\\r\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                    Max file size - 200 MB\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"d-flex w-100 my-2\\\">\\r\\n                                <div *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadVideoFile()\\\"\\r\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\r\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadDocumentFile()\\\"\\r\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\r\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"showFileAction\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n                                    <a class=\\\"btn btn-info mr-2\\\" (click)=\\\"downloadFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\r\\n                                        <i class=\\\"fa fa-download mr-2\\\"></i>{{uploadedFileName}}\\r\\n                                    </a>\\r\\n                                    <div *ngIf=\\\" modalTitleName !=='View'\\\">\\r\\n                                        <a class=\\\" btn btn-danger\\\" (click)=\\\"deleteUploadedFile()\\\"\\r\\n                                            *ngIf=\\\"uploadedFileName\\\">\\r\\n                                            <i class=\\\"fa fa-trash mr-2\\\"></i>Delete file\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name !== 'File upload'\\\"> -->\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl1\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher1\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl1\\\" [checked]=\\\"checkUrl1\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl1\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\r\\n                                    (Optional)\\r\\n                                </span>\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl2\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher2\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl2\\\" [checked]=\\\"checkUrl2\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl2\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\r\\n                                    (Optional)\\r\\n                                </span>\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl3\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher3\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl3\\\" [checked]=\\\"checkUrl3\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl3\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- </div> -->\\r\\n                    <!-- </div> -->\\r\\n                </div>\\r\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                        <p><b>Title </b></p>\\r\\n                        <p>{{contentDetails.content.title}}</p>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\" *ngIf=\\\"contentDetails.content.description\\\">\\r\\n                        <p><b>Description</b></p>\\r\\n                        <p>{{contentDetails.content.description}}</p>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url1\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 1</b></p>\\r\\n                            <p>{{contentDetails.content.url1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 1</b></p>\\r\\n                            <p>{{contentDetails.content.publisher1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 1</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url1\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl1\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url1\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url2\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 2</b></p>\\r\\n                            <p>{{contentDetails.content.url2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 2</b></p>\\r\\n                            <p>{{contentDetails.content.publisher2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 2</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url2\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl2\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url2\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url3\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 3</b></p>\\r\\n                            <p>{{contentDetails.content.url3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 3</b></p>\\r\\n                            <p>{{contentDetails.content.publisher3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 3</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url3\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl3\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url3\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" (click)=\\\"resetTopicContent()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Reset\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\r\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"saveTopicContent()\\\" [disabled]=\\\"validateContent\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                        Save\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'Edit'\\\">\\r\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"updateTopicContents()\\\" [disabled]=\\\"validateContent\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                        Save\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicContentModal()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Close\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"stepperTab\\\">\\r\\n    <ul id=\\\"progressbar\\\">\\r\\n        <li class=\\\"active\\\">\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n        </li>\\r\\n    </ul>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 1 - Select question type - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12\\\">\\r\\n                <pick-question-type></pick-question-type>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"next btn btn-success float-right\\\" [disabled]=\\\"validateQuestionType\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row mb-2\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2 alert-warning p-3\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 2 - Build question - <span class=\\\"text-primary\\\">{{topicName}}</span>\\r\\n                </p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mx-3\\\">\\r\\n                <div class=\\\"form-group mb-2 row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question category</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let category of questionCategory\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{category.name}}\\\" name=\\\"assessmentCategory\\\"\\r\\n                                (click)=\\\"onSelectQuestionCategory(category.tag)\\\" [checked]=\\\"category.checked\\\">\\r\\n                            <label for=\\\"{{category.name}}\\\">{{category.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group  row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question complexity level</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let level of questionComplexityLevel\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{level.name}}\\\" name=\\\"complexityLevel\\\" [checked]=\\\"level.checked\\\"\\r\\n                                (click)=\\\"onSelectComplexityLevel(level.value)\\\">\\r\\n                            <label for=\\\"{{level.name}}\\\">{{level.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"w-100\\\">\\r\\n            <router-outlet></router-outlet>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 3 - Add solution content (Optional) - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2\\\">\\r\\n                <label for=\\\"\\\">Solution content</label>\\r\\n                <ckeditor class=\\\"w-100\\\" [config]=\\\"editorSolutionConfig\\\" [(ngModel)]=\\\"solutionContent\\\"\\r\\n                    #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\r\\n                    [required]=\\\"true\\\">\\r\\n                </ckeditor>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" (click)=\\\"loadPreviewQuestion()\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 4 - Summary - <span class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"w-100\\\">\\r\\n            <div\\r\\n                *ngIf='questionType === \\\"MCQ_SINGLE\\\" || questionType === \\\"MCQ_MULTIPLE\\\" || questionType === \\\"MCQ_TRUE_FALSE\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row mb-3 p-3\\\">\\r\\n                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2  font-18\\\"\\r\\n                        *ngFor=\\\"let choice of questionResource.Choices;let i = index\\\">\\r\\n                        <div [ngClass]=\\\"{'radio': type === 'radio','checkbox': type === 'checkbox'}\\\">\\r\\n                            <input type=\\\"{{type}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" disabled readonly>\\r\\n                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                        </div>\\r\\n                        <label for=\\\"{{choice.ChoiceId}}\\\">\\r\\n                            <p [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></p>\\r\\n                        </label>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <div class=\\\"text-dark\\\" *ngFor=\\\"let data of answers;let checkIndex =index\\\">\\r\\n                            <span [MathJax]=\\\"data | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf='questionType === \\\"MCQ_CHOICE_MATRIX\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <table class=\\\"border-collapse my-2 font-18 p-3\\\" style=\\\"pointer-events: none\\\">\\r\\n                    <tr class=\\\"bg-lightgray\\\">\\r\\n                        <td></td>\\r\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                            <p [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></p>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of questionResource.Choices\\\">\\r\\n                        <td>\\r\\n                            <p [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></p>\\r\\n                        </td>\\r\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                            <div class=\\\"radio\\\">\\r\\n                                <input type=\\\"radio\\\" disabled readonly [id]=\\\"option.OptionId+choice.ChoiceId\\\"\\r\\n                                    name=\\\"{{ choice.ChoiceId }}\\\">\\r\\n                                <label for=\\\"{{option.OptionId+choice.ChoiceId}}\\\"></label>\\r\\n                            </div>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </table>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <span *ngIf=\\\"answers.length > 0\\\">\\r\\n                            <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                                -\\r\\n                                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                                {{checkIndex  === answers.length - 1? ' ' : ','}}\\r\\n                            </span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf='questionType === \\\"MCQ_MATCH_LIST\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <ng-container *ngFor=\\\"let answer of answers\\\">\\r\\n                    <div class=\\\"choice-container\\\">\\r\\n                        <div class=\\\"item\\\">\\r\\n                            <div class=\\\"choice--group\\\">\\r\\n                                <div class=\\\"choice--label\\\">\\r\\n                                    <p [MathJax]=\\\"answer.choiceName  | sanitizeHtml\\\"></p>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"line-circle\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"item\\\">\\r\\n                            <div class=\\\"drag--container\\\">\\r\\n                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\r\\n                                    [MathJax]=\\\"answer.optionName  | sanitizeHtml\\\">\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </ng-container>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\r\\n                        <span *ngIf=\\\"answers.length > 0\\\">\\r\\n                            <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                                -\\r\\n                                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"showSaveQuestion\\\">\\r\\n            <button class=\\\"btn btn-success float-right ml-2\\\" (click)=\\\"saveQuestion()\\\" [disabled]=\\\"showAddQuestion\\\">\\r\\n                <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                Save question\\r\\n            </button>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"showAddQuestion\\\">\\r\\n            <button class=\\\"btn btn-info float-right\\\" (click)=\\\"addQuestion()\\\">\\r\\n                <i class=\\\"fa fa-plus-circle mr-2\\\"></i>\\r\\n                Add one more question\\r\\n            </button>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"previous btn btn-danger float-right mr-2\\\" (click)=\\\"resetPreviewQuestions()\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGeneralSubjectGrade\\\"\\r\\n                (change)=\\\"onGeneralSubjectGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"subjects\\\" bindLabel=\\\"title\\\" placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-xxl-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-4 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                    Expand all\\r\\n                </span>\\r\\n                <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                    Collapse all\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"tree-scroll\\\">\\r\\n            <div id=\\\"treeView\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-8 mb-3 py-3\\\">\\r\\n\\r\\n        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div>\\r\\n                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Concept,\\r\\n                <i class=\\\"fa fa-file ml-2\\\"></i> - Topic, <i class=\\\"fa fa-times text-danger ml-2\\\"></i> - No question is\\r\\n                mapped\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\r\\n            <p><b>Subject name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Subject description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n            <p><b>Concept name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Concept description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n            <div class=\\\"w-100\\\">\\r\\n                <p><b>Topic description</b></p>\\r\\n                <p class=\\\"mb-2\\\">{{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex align-items-start flex-wrap justify-content-md-between justify-content-lg-end w-100\\\">\\r\\n                <div class=\\\"btn btn-info mb-2 mr-2\\\" (click)=\\\"openPreviewQuestionModal()\\\" *ngIf=\\\"questions.length > 0\\\">\\r\\n                    <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\r\\n                    <span class=\\\"badge badge-light\\\">{{questions.length}}</span>\\r\\n                </div>\\r\\n                <div class=\\\"btn btn-success mb-2 mr-2\\\" (click)=\\\"openSimulateQuestionModal()\\\"\\r\\n                    *ngIf=\\\"questions.length > 0\\\">\\r\\n                    <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\r\\n                    <span class=\\\"badge badge-light\\\">{{questions.length}}</span>\\r\\n                </div>\\r\\n                <a class=\\\"btn btn-primary text-white mb-2 mr-2\\\" target=\\\"_blank\\\"\\r\\n                    [routerLink]=\\\"['/general-concept-and-topic',topicId,'general-topic-question-create']\\\">\\r\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new question\\r\\n                </a>\\r\\n                <div class=\\\"btn btn-warning text-white mb-2\\\" (click)=\\\"loadUpdatedTopicQuestions()\\\">\\r\\n                    <i class=\\\"fa fa-refresh mr-2\\\"></i> Refresh\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"accordion\\\" id=\\\"questions\\\">\\r\\n                <div class=\\\"mb-2 acd-group\\\" *ngFor=\\\"let question of questions;let index=index\\\">\\r\\n                    <div class=\\\"card-header border\\\">\\r\\n                        <h5 class=\\\"mb-0\\\">\\r\\n                            <a href=\\\"#questionDetail{{question.id}}\\\"\\r\\n                                class=\\\"btn-block text-left text-muted acd-heading collapsed d-flex\\\"\\r\\n                                data-toggle=\\\"collapse\\\" aria-expanded=\\\"false\\\">\\r\\n                                <div style=\\\"width: 99%;\\\" [MathJax]=\\\"question.questionText\\\">\\r\\n                                </div>\\r\\n                            </a>\\r\\n                        </h5>\\r\\n                    </div>\\r\\n                    <div id=\\\"questionDetail{{question.id}}\\\" class=\\\"collapse\\\" data-parent=\\\"#questions\\\">\\r\\n                        <div class=\\\"card-body p-3\\\">\\r\\n                            <div class=\\\"d-flex justify-content-between mb-2\\\">\\r\\n                                <div>\\r\\n                                    <b>Question type</b> : {{question.questionType}}\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                    <b>Question category</b> : {{question.questionCategory}}\\r\\n                                </div>\\r\\n                                <div>\\r\\n                                    <b>Completexity level</b> : {{question.complexityLevel}}\\r\\n                                </div>\\r\\n                                NOTE: Select question category and complexity Level dropdown will come**\\r\\n                            </div>\\r\\n                            <div class=\\\"d-flex justify-content-end w-100\\\">\\r\\n                                <a class=\\\"btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                    target=\\\"_blank\\\"\\r\\n                                    [routerLink]=\\\"['/general-concept-and-topic', question.id, 'general-topic-question-view' ]\\\">\\r\\n                                    <i class=\\\"fa fa-eye mr-2\\\"></i> View\\r\\n                                </a>\\r\\n                                <a class=\\\"btn btn-success mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                    target=\\\"_blank\\\"\\r\\n                                    [routerLink]=\\\"['/general-concept-and-topic', question.id, 'general-topic-question-edit' ]\\\">\\r\\n                                    <i class=\\\"fa fa-edit mr-2\\\"></i> Edit\\r\\n                                </a>\\r\\n                                <a class=\\\"btn btn-danger mb-2 mr-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                    (click)=\\\"deleteTopicQuestions(question.id)\\\">\\r\\n                                    <i class=\\\"fa fa-trash mr-2\\\"></i> Delete\\r\\n                                </a>\\r\\n                                <a class=\\\"btn btn-success mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                    (click)=\\\"updateQuestion()\\\">\\r\\n                                    <i class=\\\"fa fa-save mr-2\\\"></i> Save\\r\\n                                </a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"simulateQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"simulateQuestionModal\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Simulate question - {{nodeName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div id=\\\"questionSimulateIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\r\\n                    data-interval=\\\"false\\\">\\r\\n                    <div class=\\\"carousel-inner\\\">\\r\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\r\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\r\\n                            <div\\r\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\r\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\r\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\r\\n                                                (change)=\\\"onSelectMCQSingleAnswer(questiondata.id,choice.ChoiceId)\\\">\\r\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\"\\r\\n                                                (click)=\\\"onSelectMCQMultipleAnswer(questiondata.id,choice.ChoiceId,$event)\\\">\\r\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <label for=\\\"{{choice.ChoiceId}}\\\"\\r\\n                                            [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></label>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div cdkDropListGroup>\\r\\n                                    <div class=\\\"example-container d-flex justify-content-between flex-nowrap mb-2\\\">\\r\\n                                        <div class=\\\"mcq-left mr-2\\\">\\r\\n                                            <div class=\\\"match-list\\\" data-value=\\\"questiondata.choices\\\">\\r\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.choices\\\"\\r\\n                                                    [MathJax]=\\\"item.ChoiceText  | sanitizeHtml\\\"></div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!-- <div class=\\\"line-circle w-auto\\\" *ngFor=\\\"let item of viewModel.Choices\\\" id=\\\"{{item}}\\\"></div> -->\\r\\n                                        <div class=\\\"mcq-right ml-2\\\">\\r\\n                                            <div cdkDropList [cdkDropListData]=\\\"questiondata.options\\\" class=\\\"match-list\\\"\\r\\n                                                (cdkDropListDropped)=\\\"updatedDropList(questiondata.id, $event)\\\">\\r\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.options\\\" cdkDrag\\r\\n                                                    [MathJax]=\\\"item.OptionText  | sanitizeHtml\\\">\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\r\\n                                    <tr class=\\\"bg-lightgray\\\">\\r\\n                                        <td></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                    <tr style=\\\"background: none !important;\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\r\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <div class=\\\"radio\\\">\\r\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\r\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\"\\r\\n                                                    (click)=\\\"onSelectChoiceMatrixAnswer(questiondata.id,choice.ChoiceId, option.OptionId)\\\">\\r\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n                                            </div>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\r\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\" (click)=\\\"previousQuestion()\\\">\\r\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-info mx-2 mb-2\\\" (click)=\\\"checkAnswerStatus(questiondata.id)\\\">\\r\\n                                    <i class=\\\"fa fa-check mr-2\\\"></i>Check answer\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-success mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\"\\r\\n                                    (click)=\\\"nextQuestion()\\\">\\r\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"previewQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"previewQuestionModal\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Preview question - {{nodeName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div id=\\\"questionPreviewIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\r\\n                    data-interval=\\\"false\\\">\\r\\n                    <div class=\\\"carousel-inner\\\">\\r\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\r\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\r\\n                            <div\\r\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\r\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\r\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\r\\n                                                [answers]=\\\"questiondata.answers\\\" disabled readonly>\\r\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\" disabled\\r\\n                                                readonly [answers]=\\\"questiondata.answers\\\">\\r\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <label for=\\\"{{choice.ChoiceId}}\\\"\\r\\n                                            [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></label>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <ng-container *ngFor=\\\"let answer of questiondata.answers;\\\">\\r\\n                                    <div class=\\\"choice-container\\\">\\r\\n                                        <div class=\\\"item\\\">\\r\\n                                            <div class=\\\"choice--group\\\">\\r\\n                                                <div class=\\\"choice--label\\\">\\r\\n                                                    <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"line-circle\\\">\\r\\n                                        </div>\\r\\n                                        <div class=\\\"item\\\">\\r\\n                                            <div class=\\\"drag--container\\\">\\r\\n                                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\r\\n                                                    [MathJax]=\\\"answer.optionName | sanitizeHtml\\\">\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </ng-container>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\r\\n                                            class=\\\"d-flex text-dark flex-nowrap\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> <span>-</span>\\r\\n                                            <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ' ,'}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\r\\n                                    <tr class=\\\"bg-lightgray\\\">\\r\\n                                        <td></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                    <tr style=\\\"background: none !important;\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\r\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <div class=\\\"radio\\\">\\r\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\r\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\" disabled readonly>\\r\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n                                            </div>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                </table>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\r\\n                                            class=\\\"d-flex text-dark flex-nowrap\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> <span>-</span>\\r\\n                                            <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\r\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\">\\r\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-success ml-2  mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\">\\r\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewmodel\\\">\\r\\n    <p class=\\\"font-20 font-bold\\\">Question</p>\\r\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\r\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"  [required]=\\\"true\\\">\\r\\n    </ckeditor>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-20 font-bold\\\">Response</p>\\r\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewmodel.Options\\\">\\r\\n        <div class=\\\"editor\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #choiceInput=\\\"ngModel\\\"\\r\\n                placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" \\r\\n                [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n        </div>\\r\\n        <div class=\\\"delete d-flex align-items-end ml-4 font-20 text-danger\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\r\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"drag--container\\\">\\r\\n    <p class=\\\"font-20 font-bold\\\">Preview</p>\\r\\n    <div [questionPreview]=\\\"viewmodel.Question\\\" class=\\\"preview-panel\\\">\\r\\n    </div>\\r\\n    <div class=\\\"option--container options zone\\\">\\r\\n        <span *ngFor=\\\"let option of viewmodel.Options\\\" [attr.data-option-id]=\\\"option.OptionId\\\" class=\\\"option--item\\\"\\r\\n            [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"> </span>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\r\\n    <button class=\\\"btn btn-danger mr-2\\\" type=\\\"submit\\\" (click)=\\\"cancel()\\\">\\r\\n        <i class=\\\"fa fa-times mr-2\\\"></i> Cancel</button>\\r\\n    <button class=\\\"btn btn-success\\\" type=\\\"submit\\\" (click)=\\\"saveQuestion()\\\">\\r\\n        <i class=\\\"fa fa-save mr-2\\\"></i> Save Question</button>\\r\\n</div>\"","export default \"<div class=\\\"row my-2\\\">\\r\\n    <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\r\\n        <h5 class=\\\"font-16\\\">Compose question - Match list</h5>\\r\\n        <div>\\r\\n            <a class=\\\"btn btn-warning text-white mb-2 mr-2\\\" target=\\\"_blank\\\" [routerLink]=\\\"['/lesson-topic','ocr']\\\">\\r\\n                <i class=\\\"fa fa-cog mr-2\\\"></i>OCR tool\\r\\n            </a>\\r\\n            <a target=\\\"_blank\\\" class=\\\"btn btn-info\\\" routerLink=\\\"./topic-question-sample\\\">\\r\\n                <i class=\\\"fa fa-question-circle mr-2\\\"></i>View sample questions\\r\\n            </a>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\r\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\r\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n    </ckeditor>\\r\\n    <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!questionInput.valid\\\">\\r\\n        Question is required\\r\\n    </span>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-16\\\">Left side option</p>\\r\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n        <div class=\\\"mcq-stem\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\" #choiceInput=\\\"ngModel\\\"\\r\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n\\r\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\r\\n                Left side option is required\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-center ml-3 font-20 text-danger delete-icon\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\r\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add left option</button>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-16\\\">Right side option</p>\\r\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n        <div class=\\\"mcq-stem\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #optionInput=\\\"ngModel\\\"\\r\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!optionInput.valid\\\">\\r\\n                Right side option is required\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-center ml-4 font-20 text-danger delete-icon\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\r\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add right option</button>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"drag--container mb-2\\\">\\r\\n    <p class=\\\"font-16\\\">Setting up answers</p>\\r\\n\\r\\n    <div cdkDropListGroup>\\r\\n        <div class=\\\"example-container d-flex justify-content-between flex-nowrap mb-2\\\">\\r\\n            <div class=\\\"mcq-left mr-2\\\">\\r\\n                <div class=\\\"match-list\\\" data-value=\\\"viewModel.Choices\\\">\\r\\n                    <div class=\\\"list-box\\\" *ngFor=\\\"let item of viewModel.Choices\\\"\\r\\n                        [MathJax]=\\\"item.ChoiceText | sanitizeHtml\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!-- <div class=\\\"line-circle w-auto\\\" *ngFor=\\\"let item of viewModel.Choices\\\" id=\\\"{{item}}\\\"></div> -->\\r\\n            <div class=\\\"mcq-right ml-2\\\">\\r\\n                <div cdkDropList [cdkDropListData]=\\\"viewModel.Options\\\" class=\\\"match-list\\\"\\r\\n                    (cdkDropListDropped)=\\\"updatedDropList($event)\\\">\\r\\n                    <div class=\\\"list-box\\\" *ngFor=\\\"let item of viewModel.Options\\\" cdkDrag\\r\\n                        [MathJax]=\\\"item.OptionText | sanitizeHtml\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"mb-3 font-18\\\">\\r\\n        <div class=\\\"border-success p-3 alert-success\\\">\\r\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\r\\n            <span *ngIf=\\\"answers.length > 0\\\">\\r\\n                <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                    <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                    -\\r\\n                    <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                    {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\"","export default \"<div class=\\\"row my-2\\\">\\r\\n    <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\r\\n        <h5 class=\\\"font-16\\\">Compose question - Choice matrix question</h5>\\r\\n        <div>\\r\\n            <a class=\\\"btn btn-warning text-white mb-2 mr-2\\\" target=\\\"_blank\\\" [routerLink]=\\\"['/lesson-topic','ocr']\\\">\\r\\n                <i class=\\\"fa fa-cog mr-2\\\"></i>OCR tool\\r\\n            </a>\\r\\n            <a target=\\\"_blank\\\" class=\\\"btn btn-info\\\" routerLink=\\\"./topic-question-sample\\\">\\r\\n                <i class=\\\"fa fa-question-circle mr-2\\\"></i>View sample questions\\r\\n            </a>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\r\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n    </ckeditor>\\r\\n    <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!questionInput.valid\\\">\\r\\n        Question is required\\r\\n    </span>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-16\\\">Stems</p>\\r\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n        <div class=\\\"mcq-stem\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [required]=\\\"true\\\" [(ngModel)]=\\\"choice.ChoiceText\\\"\\r\\n                #choiceInput=\\\"ngModel\\\" placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\">\\r\\n            </ckeditor>\\r\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\r\\n                Stem is required\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n    <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\r\\n        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add stem</button>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-16\\\">Options</p>\\r\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n        <div class=\\\"mcq-stem\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #optionInput=\\\"ngModel\\\"\\r\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!optionInput.valid\\\">\\r\\n                Option is required\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n    <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\r\\n        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-block my-2\\\">\\r\\n    <p class=\\\"font-16\\\">Setting up answers</p>\\r\\n</div>\\r\\n\\r\\n<table class=\\\"table-matrix my-2\\\">\\r\\n    <tr class=\\\"bg-lightgray\\\">\\r\\n        <td></td>\\r\\n        <td *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n            <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\r\\n        </td>\\r\\n    </tr>\\r\\n    <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\r\\n        <td *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n            <div class=\\\"radio\\\">\\r\\n                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\" [choicematrix]=\\\"viewModel.Answers\\\"\\r\\n                    [optionid]=\\\"option.OptionId\\\" [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\"\\r\\n                    (click)=\\\"markAsAnswer(choice, option)\\\">\\r\\n                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n            </div>\\r\\n        </td>\\r\\n    </tr>\\r\\n</table>\\r\\n\\r\\n<div class=\\\"mb-3 font-18\\\">\\r\\n    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\r\\n        <span *ngIf=\\\"answers.length > 0\\\">\\r\\n            <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                -\\r\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n        </span>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\r\\n    <div class=\\\"row my-2\\\">\\r\\n        <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\r\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_SINGLE'\\\">\\r\\n                <p class=\\\"font-16\\\">Compose question - MCQ single answer</p>\\r\\n            </div>\\r\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_MULTIPLE'\\\">\\r\\n                <p class=\\\"font-16\\\">Compose question - MCQ multiple answers</p>\\r\\n            </div>\\r\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n                <p class=\\\"font-16\\\">Compose question - MCQ true or false</p>\\r\\n            </div>\\r\\n            <div>\\r\\n                <a class=\\\"btn btn-warning text-white mb-2 mr-2\\\" target=\\\"_blank\\\"\\r\\n                    [routerLink]=\\\"['/lesson-topic','ocr']\\\">\\r\\n                    <i class=\\\"fa fa-cog mr-2\\\"></i>OCR tool\\r\\n                </a>\\r\\n                <a target=\\\"_blank\\\" class=\\\"btn btn-info mb-2\\\" routerLink=\\\"./topic-question-sample\\\">\\r\\n                    <i class=\\\"fa fa-question-circle mr-2\\\"></i>View sample questions\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n        <div class=\\\"col-xxl-12\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\"\\r\\n                #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\r\\n                [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n        </div>\\r\\n        <span class=\\\"text-danger font-15 my-2 mx-3\\\" *ngIf=\\\"!questionInput.valid\\\">\\r\\n            Question is required\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"mb-3\\\">\\r\\n        <p class=\\\"font-16\\\">Choices</p>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 mb-2 my-2 d-flex\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n        <div class=\\\"mcq-choice d-flex align-items-center\\\"\\r\\n            [ngClass]=\\\"{'radio': choiceType === 'radio','checkbox': choiceType === 'checkbox'}\\\">\\r\\n            <input type=\\\"{{choiceType}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"viewModel.Answers\\\"\\r\\n                [choiceid]=\\\"choice.ChoiceId\\\" (click)=\\\"markAsAnswer(choice.ChoiceId)\\\">\\r\\n            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-question\\\">\\r\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\" #choiceInput=\\\"ngModel\\\"\\r\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\r\\n            </ckeditor>\\r\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\r\\n                Choice is required\\r\\n            </span>\\r\\n        </div>\\r\\n        <div class=\\\"mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end delete-icon\\\">\\r\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\r\\n        <div class=\\\"btn btn-info\\\" *ngIf=\\\"viewModel.QuestionType !== 'MCQ_TRUE_FALSE'\\\" (click)=\\\"addChoice()\\\">\\r\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Choice</div>\\r\\n    </div>\\r\\n    <div class=\\\"mb-3 font-18\\\">\\r\\n        <div class=\\\"border-success p-3 alert-success\\\">\\r\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\r\\n            <span *ngIf=\\\"answers.length > 0\\\">\\r\\n                <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                    <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\r\\n                    {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"d-flex justify-content-between align-items-start flex-wrap\\\">\\r\\n    <div *ngFor=\\\"let type of questionTypes;let i=index;\\\">\\r\\n        <label for=\\\"{{type.id}}\\\">\\r\\n            <div class=\\\"d-flex p-2\\\" (click)=\\\"navigateToUrl(type.router)\\\">\\r\\n                <div class=\\\"radio\\\">\\r\\n                    <input type=\\\"radio\\\" id=\\\"{{type.id}}\\\" [checked]=\\\"type.checked\\\" name=\\\"mcq\\\">\\r\\n                    <label for=\\\"{{type.id}}\\\"></label>\\r\\n                </div>\\r\\n                <div>\\r\\n                    <div class=\\\"mcq-header\\\">\\r\\n                        <p class=\\\"text-white p-2\\\">\\r\\n                            {{type.name}}\\r\\n                        </p>\\r\\n                    </div>\\r\\n                    <div class=\\\"mcq-img p-2\\\">\\r\\n                        <img src=\\\"{{type.imgsrc}}\\\" alt=\\\"{{type.name}}\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </label>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" id=\\\"curriculumDropdown\\\">\\r\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\r\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\r\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\r\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-lg-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-4 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                    Expand all\\r\\n                </span>\\r\\n                <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                    Collapse all\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"tree-scroll\\\">\\r\\n            <div id=\\\"treeView\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-8 mb-2 py-2\\\">\\r\\n        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div>\\r\\n                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Unit,\\r\\n                <i class=\\\"fa fa-file ml-2\\\"></i> - Lesson, <i class=\\\"fa fa-times text-danger ml-2\\\"></i> - No resource is\\r\\n                mapped\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\r\\n            <p><b>Subject name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Subject description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\r\\n            <p><b>Unit name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Unit description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\r\\n            <div class=\\\"w-100\\\">\\r\\n                <p><b>Lesson objective</b></p>\\r\\n                <p class=\\\"mb-2\\\">{{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div class=\\\"d-flex w-100 justify-content-between mb-2 flex-wrap\\\">\\r\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\r\\n                    <p class=\\\"font-20 mb-3\\\">Study material preference for {{nodeName}}</p>\\r\\n                    <div class=\\\"row m-0 mb-2\\\">\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"ContentCE\\\" name=\\\"content\\\" [checked]=\\\"checkContentCE\\\"\\r\\n                                (change)=\\\"checkContentPreference($event)\\\">\\r\\n                            <label for=\\\"ContentCE\\\">Default</label>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"OwnContent\\\" name=\\\"content\\\" [checked]=\\\"checkOwnContent\\\"\\r\\n                                (change)=\\\"checkContentPreference($event)\\\">\\r\\n                            <label for=\\\"OwnContent\\\">Use\\r\\n                                our own study material</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row m-0\\\">\\r\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n                            <div class=\\\"btn btn-success\\\" (click)=\\\"saveContentPreference()\\\">\\r\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"tab w-100\\\">\\r\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\r\\n                        <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Default </a>\\r\\n                        </li>\\r\\n                        <li class=\\\"nav-item\\\" *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                            <a class=\\\"nav-link show\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by organizations</a>\\r\\n                        </li>\\r\\n                        <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own study material </a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                    <div class=\\\"tab-content\\\">\\r\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\r\\n                            aria-labelledby=\\\"home-tab\\\">\\r\\n                            <div class=\\\"row mb-2\\\" *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addAddlessonResources()\\\">\\r\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\r\\n                                        study material\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"addlResource\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\r\\n                                    id=\\\"dragTable\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                                                Select</th>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Resource category</th>\\r\\n                                            <th>Content type</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody id=\\\"dragBody\\\">\\r\\n                                        <tr\\r\\n                                            *ngFor=\\\"let resource of addlResource;trackBy: trackId;let topicIndex = index\\\">\\r\\n                                            <td data-column=\\\"Select\\\" data-column=\\\"Select\\\" id=\\\"{{resource.id}}\\\"\\r\\n                                                *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                                                <div class=\\\"checkbox\\\">\\r\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{resource.id}}\\\" id=\\\"{{resource.id}}2\\\"\\r\\n                                                        (change)=\\\"checkSelectedContents($event)\\\" class=\\\"checkAll\\\">\\r\\n                                                    <label for=\\\"{{resource.id}}2\\\"></label>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                                {{resource.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{resource.content.title}}\\\">\\r\\n                                                    {{resource.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Resource category\\\">\\r\\n                                                {{resource.content.tag}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Content type\\\">\\r\\n                                                {{resource.content.contentType}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewAddlResource(resource.id)\\\"\\r\\n                                                        tooltip=\\\"View study material\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                    <a class=\\\"btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"editAddlResource(resource.id)\\\"\\r\\n                                                        tooltip=\\\"Edit study material\\\"\\r\\n                                                        *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                                <div *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                                    <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"addlResource.length > 0\\\">\\r\\n                                        <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableGenAction\\\"\\r\\n                                            (click)=\\\"resetSelectedAddlResource()\\\">\\r\\n                                            <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                                        </button>\\r\\n                                        <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableGenAction\\\"\\r\\n                                            (click)=\\\"deleteAddlResource()\\\">\\r\\n                                            <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                                        </button>\\r\\n                                        <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateGenAction\\\"\\r\\n                                            (click)=\\\"updateAddlResourceWithOrderNumber()\\\">\\r\\n                                            <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"profile-tab\\\"\\r\\n                            *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_STUDYMATERIAL_ADMIN']\\\">\\r\\n                            <div class=\\\"col-12 filterbg py-2 px-4 rounded my-4\\\">\\r\\n                                <div class=\\\"filtericon font-20\\\">\\r\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\r\\n                                </div>\\r\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\r\\n                                    <ng-select [items]=\\\"organisations\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                                        bindLabel=\\\"name\\\" placeholder=\\\"Select organisation\\\"\\r\\n                                        [(ngModel)]=\\\"selectedOrganisation\\\" class=\\\"w-100\\\">\\r\\n                                    </ng-select>\\r\\n                                </div>\\r\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-success\\\" (click)=\\\"getOrgGeneralAddlResourceByOrganisation()\\\">\\r\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"orgGeneralAddlResource\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Resource category</th>\\r\\n                                            <th>Content type</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let resource of orgGeneralAddlResource;trackBy: trackId;\\\">\\r\\n                                            <td data-column=\\\"Order number\\\">\\r\\n                                                {{resource.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{resource.content.title}}\\\">\\r\\n                                                    {{resource.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Resource category\\\">\\r\\n                                                {{resource.content.tag}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Content type\\\">\\r\\n                                                {{resource.content.contentType}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewOrgAddlResource(resource.id)\\\"\\r\\n                                                        tooltip=\\\"View study material\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\r\\n                            <div class=\\\"row mb-2\\\">\\r\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addOwnAddlResources()\\\">\\r\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\r\\n                                        resources\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"ownAddlResource\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\r\\n                                    id=\\\"ownContentDragTable\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Select</th>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Resource category</th>\\r\\n                                            <th>Content type</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody id=\\\"ownContentDragBody\\\">\\r\\n                                        <tr *ngFor=\\\"let resource of ownAddlResource;trackBy: trackId;\\\">\\r\\n                                            <td data-column=\\\"Select\\\" data-column=\\\"Select\\\" id=\\\"{{resource.id}}\\\">\\r\\n                                                <div class=\\\"checkbox\\\">\\r\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{resource.id}}\\\" id=\\\"{{resource.id}}1\\\"\\r\\n                                                        (change)=\\\"checkSelectedOwnContents($event)\\\"\\r\\n                                                        class=\\\"checkAllOwnContents\\\">\\r\\n                                                    <label for=\\\"{{resource.id}}1\\\"></label>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                                {{resource.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{resource.content.title}}\\\">\\r\\n                                                    {{resource.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Resource category\\\">\\r\\n                                                {{resource.content.tag}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Content type\\\">\\r\\n                                                {{resource.content.contentType}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewOwnAddlResource(resource.id)\\\"\\r\\n                                                        tooltip=\\\"View study material\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                    <a class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"editOwnAddlResource(resource.id)\\\"\\r\\n                                                        tooltip=\\\"Edit study material\\\">\\r\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"ownAddlResource.length > 0\\\">\\r\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\r\\n                                        (click)=\\\"resetSelectedOwnAddlResource()\\\">\\r\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                                    </button>\\r\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\r\\n                                        (click)=\\\"deleteOwnAddlResource()\\\">\\r\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                                    </button>\\r\\n                                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\"\\r\\n                                        (click)=\\\"updateOwnAddlResourceWithOrderNumber()\\\">\\r\\n                                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\r\\n                                    </button>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"additionalResourceModal\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" [formGroup]=\\\"lessonResourceForm\\\"\\r\\n        role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    {{modalTitleName}} study material\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeLessonResourceModalWithOutSaving()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Title\\r\\n                    </label>\\r\\n                    <input type=\\\"text\\\" placeholder=\\\"Enter content name (min length: 3 and max length: 75)\\\"\\r\\n                        class=\\\"form-control\\\" formControlName=\\\"contentTitle\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n                        inputRestriction=\\\"alphabetsNumbersWithMinus\\\" />\\r\\n                    <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                        Allowed characters - Alphabets, Numbers and One special character (-)\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Description <span class=\\\"text-muted\\\"\\r\\n                            *ngIf=\\\"modalTitleName !== 'View'\\\">(Optional)</span>\\r\\n                    </label>\\r\\n                    <textarea class=\\\"form-control description-form\\\"\\r\\n                        placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\"\\r\\n                        formControlName=\\\"contentDescription\\\" minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\r\\n                    <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                        Allowed characters - Alphabets, Numbers and Special characters\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Resource category\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"resourceCategory\\\" [disabled]=\\\"disableDropdown\\\"\\r\\n                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\" placeholder=\\\"Select resource category\\\"\\r\\n                        [(ngModel)]=\\\"selectedCategory\\\" formControlName=\\\"resourceCategory\\\">\\r\\n                    </ng-select>\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Content type\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"contentType\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select content type\\\" [(ngModel)]=\\\"selectedContentType\\\"\\r\\n                        formControlName=\\\"contentType\\\" [searchable]=\\\"false\\\">\\r\\n                    </ng-select>\\r\\n                </div>\\r\\n                <div *ngIf=\\\"selectedContentType\\\">\\r\\n                    <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                        <label class=\\\"col-form-label\\\">Web URL\\r\\n                        </label>\\r\\n                        <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                            placeholder=\\\"Enter web url(min length: 3 and max length: 2048)\\\" formControlName=\\\"webSource\\\"\\r\\n                            minlength=\\\"3\\\" maxlength=\\\"2048\\\">\\r\\n                        <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                            Allowed characters - Alphabets, Numbers and Special characters\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                        <label class=\\\"col-form-label\\\">File\\r\\n                        </label>\\r\\n                        <div class=\\\"custom-file\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                            <input type=\\\"file\\\" (change)=\\\"onDocumentFileChanges($event)\\\" id=\\\"documentFile\\\" />\\r\\n                            <label class=\\\"custom-file-label\\\" for=\\\"documentFile\\\">\\r\\n                                <i>\\r\\n                                    {{fileName}}\\r\\n                                </i></label>\\r\\n                        </div>\\r\\n                        <div class=\\\" d-flex w-100\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Only PDF will allow Max file size - 100 MB\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex w-100 my-2\\\">\\r\\n                            <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadDocumentFile()\\\"\\r\\n                                    *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\r\\n                                    <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\r\\n                                </button>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"showFileAction\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n                                <a class=\\\"btn btn-info mr-2\\\" (click)=\\\"downloadFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\r\\n                                    <i class=\\\"fa fa-download mr-2\\\"></i>{{uploadedFileName}}\\r\\n                                </a>\\r\\n                                <div *ngIf=\\\"modalTitleName !=='View'\\\">\\r\\n                                    <a class=\\\" btn btn-danger\\\" (click)=\\\"deleteUploadedFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\r\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete file\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\r\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"resetLessonResource()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Reset\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'Edit'\\\">\\r\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"updateAddlResource()\\\"\\r\\n                        [disabled]=\\\"lessonResourceForm.invalid\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                        Save\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalActionName === 'AddlResource'\\\">\\r\\n                    <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\r\\n                        <button class=\\\"btn btn-success\\\" (click)=\\\"saveAddlResource()\\\"\\r\\n                            [disabled]=\\\"lessonResourceForm.invalid\\\">\\r\\n                            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                            Save\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalActionName === 'OwnAddlResource'\\\">\\r\\n                    <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\r\\n                        <button class=\\\"btn btn-success\\\" (click)=\\\"saveOwnAddlResource()\\\"\\r\\n                            [disabled]=\\\"lessonResourceForm.invalid\\\">\\r\\n                            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                            Save\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\r\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"closeLessonResourceModal()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Close\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\r\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\r\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\r\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-lg-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-4 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                <span *ngIf=\\\"enableExpandSubjectNode === false\\\">\\r\\n                    Expand all\\r\\n                </span>\\r\\n                <span *ngIf=\\\"enableExpandSubjectNode === true\\\">\\r\\n                    Collapse all\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"tree-scroll\\\">\\r\\n            <div id=\\\"treeView\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-8 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div>\\r\\n                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Unit,\\r\\n                <i class=\\\"fa fa-file ml-2\\\"></i> - Lesson, <i class=\\\"fa fa-times ml-2\\\"></i> - No topic is\\r\\n                mapped\\r\\n            </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\r\\n            <p><b>Subject name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Subject description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\r\\n            <p><b>Unit name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Unit description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\r\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center\\\">\\r\\n                <div class=\\\"mb-2\\\">\\r\\n                    <h4 class=\\\"font-24 mb-2\\\">{{nodeName}}</h4>\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-start\\\">\\r\\n                    <a class=\\\"btn btn-primary text-white mb-2\\\" (click)=\\\"addNewGeneralTopicMapping()\\\">\\r\\n                        <i class=\\\"fa fa-cog mr-2\\\"></i> Add new general topic\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"lessonTopicsList\\\">\\r\\n                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"dragTable\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Select</th>\\r\\n                            <th>Order number</th>\\r\\n                            <th>General topic name</th>\\r\\n                            <th>New topic name</th>\\r\\n                            <th>Video count</th>\\r\\n                            <th>Question count</th>\\r\\n                            <th>Primary applicable grade</th>\\r\\n                            <th>Action</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody id=\\\"dragBody\\\">\\r\\n                        <tr *ngFor=\\\"let lesson of lessonTopicsList;trackBy: trackId;\\\">\\r\\n                            <td data-column=\\\"Select\\\" title=\\\"{{lesson.id}}\\\">\\r\\n                                <div class=\\\"checkbox\\\">\\r\\n                                    <input type=\\\"checkbox\\\" title=\\\"{{lesson.id}}\\\" id=\\\"{{lesson.id}}\\\"\\r\\n                                        (change)=\\\"checkSelectedTopics($event)\\\" class=\\\"checkAll\\\">\\r\\n                                    <label for=\\\"{{lesson.id}}\\\"></label>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                {{lesson.orderNumber}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"General topic name\\\">\\r\\n                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{lesson.generalTopicName}}\\\">\\r\\n                                    {{lesson.generalTopicName}}\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"New topic name\\\">\\r\\n                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{lesson.topicName}}\\\">\\r\\n                                    {{lesson.topicName}}\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Video count\\\">\\r\\n                                {{lesson.topicContentCount}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Question count\\\">\\r\\n                                {{lesson.questionsCount}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                {{lesson.baseGrade}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Action\\\">\\r\\n                                <div class=\\\"d-flex\\\">\\r\\n                                    <a class=\\\"btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                        (click)=\\\"editLessonTopic(lesson.id)\\\" tooltip=\\\"Edit lesson topic name\\\">\\r\\n                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"lessonTopicsList.length > 0\\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"resetSelectedTopic()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-danger mx-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"deleteLessonTopics()\\\">\\r\\n                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\" (click)=\\\"updateLessonTopics()\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i> Update order\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"addNewTopicMappingModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"addNewTopicMappingModal\\\"\\r\\n    aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Add new general topic mapping - {{nodeName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicMapping()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n                    <div class=\\\"filtericon font-20\\\">\\r\\n                        <i class=\\\"fa fa-filter\\\"></i>\\r\\n                    </div>\\r\\n                    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n                        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n                            <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGeneralSubjectGrade\\\"\\r\\n                                (change)=\\\"onGeneralSubjectGradeChange()\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n                            <ng-select [items]=\\\"generalSubjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                                bindLabel=\\\"title\\\" placeholder=\\\"Select general subject\\\"\\r\\n                                [(ngModel)]=\\\"selectedGeneralSubject\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n                        <div class=\\\"col-lg-2\\\">\\r\\n                            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\r\\n                                (click)=\\\"loadGeneralSubjectTree()\\\">\\r\\n                                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xxl-3\\\">\\r\\n                        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubjectTree.length > 1\\\">\\r\\n                            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleGeneralSubjectTreeNodes()\\\">\\r\\n                                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === false\\\">\\r\\n                                    Expand all\\r\\n                                </span>\\r\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === true\\\">\\r\\n                                    Collapse all\\r\\n                                </span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tree-scroll\\\">\\r\\n                            <div id=\\\"generalSubjectTreeView\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xxl-9\\\">\\r\\n                        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\"\\r\\n                            *ngIf=\\\"generalSubjectTree.length > 1\\\">\\r\\n                            <div>\\r\\n                                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> -\\r\\n                                Concept,\\r\\n                                <i class=\\\"fa fa-file ml-2\\\"></i> - Topic\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'root'\\\">\\r\\n                            <p><b>Subject name</b></p>\\r\\n                            <p>{{nodeName}}</p>\\r\\n                            <p><b>Subject description</b></p>\\r\\n                            <p>{{nodeDescription}}</p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"modalNodeType === 'concept'\\\" class=\\\"p-3\\\">\\r\\n                            <div class=\\\"my-2\\\">\\r\\n                                <p><b>Concept name</b> - {{nodeName}}</p>\\r\\n                                <p><b>Concept description</b> - {{nodeDescription}}</p>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"generalSubTopicsList\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Select</th>\\r\\n                                            <th>Topic name</th>\\r\\n                                            <th>Topic description</th>\\r\\n                                            <th>Primary applicable grade</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let topic of generalSubTopicsList;\\\">\\r\\n                                            <td data-column=\\\"Select\\\">\\r\\n                                                <label for=\\\"{{topic.id}}+123\\\">\\r\\n                                                    <div class=\\\"checkbox\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"{{topic.id}}\\\" id=\\\"{{topic.id}}+123\\\"\\r\\n                                                            (change)=\\\"checkNewlyAddedTopics($event)\\\"\\r\\n                                                            [checked]=\\\"topic.disabled\\\" [disabled]=\\\"topic.disabled\\\">\\r\\n                                                        <label for=\\\"{{topic.id}}+123\\\"></label>\\r\\n                                                    </div>\\r\\n                                                </label>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic name\\\">\\r\\n                                                {{topic.data.name}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic description\\\">\\r\\n                                                {{topic.data.description}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                                {{topic.data.baseGrade}}\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                            <div class=\\\"d-flex justify-content-end my-2\\\">\\r\\n                                <button class=\\\"btn btn-info\\\" [disabled]=\\\"addToListAction\\\" (click)=\\\"addTopicToList()\\\">\\r\\n                                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add to list\\r\\n                                </button>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"selectedGeneralSubTopicsList\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Topic name</th>\\r\\n                                            <th>Topic description</th>\\r\\n                                            <th>Primary applicable grade</th>\\r\\n                                            <th>Action</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let topic of selectedGeneralSubTopicsList;\\\">\\r\\n                                            <td data-column=\\\"Topic name\\\">\\r\\n                                                {{topic.data.name}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic description\\\">\\r\\n                                                {{topic.data.description}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                                {{topic.data.baseGrade}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Action\\\">\\r\\n                                                <div class=\\\"btn btn-outline-danger\\\"\\r\\n                                                    (click)=\\\"removeFromNewTopicList(topic.id)\\\">\\r\\n                                                    <i class=\\\"fa fa-trash\\\"></i>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'topic'\\\">\\r\\n                            <p><b>Topic name</b></p>\\r\\n                            <p>{{nodeName}}</p>\\r\\n                            <p><b>Topic description</b></p>\\r\\n                            <p>{{nodeDescription}}</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicMappingModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n                <div class=\\\"btn btn-success\\\" (click)=\\\"saveLessonTopicMapping()\\\">\\r\\n                    <i class=\\\"fa fa-save mr-2\\\"></i> Save\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"editLessonTopicModal\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\" [formGroup]=\\\"lessonTopicForm\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Edit lesson topic\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicName()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">General topic name</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"generalTopicName\\\" />\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">New topic name</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"newTopicName\\\"\\r\\n                        placeholder=\\\"Enter new topic name (minlength: 3 and maxlength: 75)\\\"\\r\\n                        inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\" />\\r\\n                    <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                        Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"resetEditLessonTopicModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                    Reset\\r\\n                </button>\\r\\n                <button class=\\\"btn btn-success\\\" (click)=\\\"updateLessonTopicName()\\\">\\r\\n                    <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                    Save\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\r\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\r\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\r\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-lg-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-4 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                <span *ngIf=\\\"enableExpandSubjectNode === false\\\">\\r\\n                    Expand all\\r\\n                </span>\\r\\n                <span *ngIf=\\\"enableExpandSubjectNode === true\\\">\\r\\n                    Collapse all\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"tree-scroll\\\">\\r\\n            <div id=\\\"treeView\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-8 mb-3 py-3\\\">\\r\\n        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n            <div>\\r\\n                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Unit,\\r\\n                <i class=\\\"fa fa-file ml-2\\\"></i> - Lesson, <i class=\\\"fa fa-times ml-2 text-danger\\\"></i> - No topic is\\r\\n                mapped\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\r\\n            <p><b>Subject name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Subject description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\r\\n            <p><b>Unit name</b></p>\\r\\n            <p>{{nodeName}}</p>\\r\\n            <p><b>Unit description</b></p>\\r\\n            <p>{{nodeDescription}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\r\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center\\\">\\r\\n                <div class=\\\"mb-2\\\">\\r\\n                    <h4 class=\\\"font-24 mb-2\\\">{{nodeName}}</h4>\\r\\n                </div>\\r\\n                <div class=\\\"d-flex align-items-start\\\">\\r\\n                    <a class=\\\"btn btn-primary text-white mb-2\\\" (click)=\\\"addNewGeneralTopicMapping()\\\">\\r\\n                        <i class=\\\"fa fa-cog mr-2\\\"></i> Add new general topic\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"lessonTopicsList\\\">\\r\\n                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"dragTable\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th>Select</th>\\r\\n                            <th>Order number</th>\\r\\n                            <th>Topic name</th>\\r\\n                            <th>Video count</th>\\r\\n                            <th>Question count</th>\\r\\n                            <th>Primary applicable grade</th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody id=\\\"dragBody\\\">\\r\\n                        <tr *ngFor=\\\"let lesson of lessonTopicsList;trackBy: trackId;\\\">\\r\\n                            <td data-column=\\\"Select\\\" title=\\\"{{lesson.id}}\\\">\\r\\n                                <div class=\\\"checkbox\\\">\\r\\n                                    <input type=\\\"checkbox\\\" title=\\\"{{lesson.id}}\\\" id=\\\"{{lesson.id}}\\\"\\r\\n                                        (change)=\\\"checkSelectedTopics($event)\\\" class=\\\"checkAll\\\">\\r\\n                                    <label for=\\\"{{lesson.id}}\\\"></label>\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                {{lesson.orderNumber}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Topic name\\\">\\r\\n                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{lesson.displayName}}\\\">\\r\\n                                    {{lesson.displayName}}\\r\\n                                </div>\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Video count\\\">\\r\\n                                {{lesson.topicContentCount}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Question count\\\">\\r\\n                                {{lesson.questionsCount}}\\r\\n                            </td>\\r\\n                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                {{lesson.baseGrade}}\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"lessonTopicsList.length > 0\\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"resetSelectedTopic()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-danger mx-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"deleteLessonTopics()\\\">\\r\\n                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\" (click)=\\\"updateLessonTopics()\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i> Update order\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"addNewPrereqTopicMappingModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\r\\n    aria-labelledby=\\\"addNewPrereqTopicMappingModal\\\" aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Add new prerequisite topic mapping - {{nodeName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicMapping()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n                    <div class=\\\"filtericon font-20\\\">\\r\\n                        <i class=\\\"fa fa-filter\\\"></i>\\r\\n                    </div>\\r\\n                    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n                        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n                            <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGeneralSubjectGrade\\\"\\r\\n                                (change)=\\\"onGeneralSubjectGradeChange()\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-xxl-3 mb-3\\\">\\r\\n                            <ng-select [items]=\\\"generalSubjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                                bindLabel=\\\"title\\\" placeholder=\\\"Select general subject\\\"\\r\\n                                [(ngModel)]=\\\"selectedGeneralSubject\\\">\\r\\n                            </ng-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n                        <div class=\\\"col-xxl-2\\\">\\r\\n                            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\r\\n                                (click)=\\\"loadGeneralSubjectTree()\\\">\\r\\n                                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-xxl-3\\\">\\r\\n                        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubjectTree.length > 1\\\">\\r\\n                            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleGeneralSubjectTreeNodes()\\\">\\r\\n                                <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === false\\\">\\r\\n                                    Expand all\\r\\n                                </span>\\r\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === true\\\">\\r\\n                                    Collapse all\\r\\n                                </span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tree-scroll\\\">\\r\\n                            <div id=\\\"generalSubjectTreeView\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xxl-9\\\">\\r\\n                        <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\"\\r\\n                            *ngIf=\\\"generalSubjectTree.length > 1\\\">\\r\\n                            <div>\\r\\n                                NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> -\\r\\n                                Concept,\\r\\n                                <i class=\\\"fa fa-file ml-2\\\"></i> - Topic\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'root'\\\">\\r\\n                            <p><b>Subject name</b></p>\\r\\n                            <p>{{nodeName}}</p>\\r\\n                            <p><b>Subject description</b></p>\\r\\n                            <p>{{nodeDescription}}</p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"modalNodeType === 'concept'\\\" class=\\\"p-3\\\">\\r\\n                            <div class=\\\"my-2\\\">\\r\\n                                <p><b>Concept name</b> - {{nodeName}}</p>\\r\\n                                <p><b>Concept description</b> - {{nodeDescription}}</p>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"generalSubTopicsList\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Select</th>\\r\\n                                            <th>Topic name</th>\\r\\n                                            <th>Topic description</th>\\r\\n                                            <th>Primary applicable grade</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let topic of generalSubTopicsList;\\\">\\r\\n                                            <td data-column=\\\"Select\\\">\\r\\n                                                <label for=\\\"{{topic.id}}+123\\\">\\r\\n                                                    <div class=\\\"checkbox\\\">\\r\\n                                                        <input type=\\\"checkbox\\\" name=\\\"{{topic.id}}\\\" id=\\\"{{topic.id}}+123\\\"\\r\\n                                                            (change)=\\\"checkNewlyAddedTopics($event)\\\"\\r\\n                                                            [checked]=\\\"topic.disabled\\\" [disabled]=\\\"topic.disabled\\\">\\r\\n                                                        <label for=\\\"{{topic.id}}+123\\\"></label>\\r\\n                                                    </div>\\r\\n                                                </label>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic name\\\">\\r\\n                                                {{topic.data.name}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic description\\\">\\r\\n                                                {{topic.data.description}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                                {{topic.data.baseGrade}}\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                            <div class=\\\"d-flex justify-content-end my-2\\\">\\r\\n                                <button [disabled]=\\\"addToListAction\\\" class=\\\"btn btn-info\\\" (click)=\\\"addTopicToList()\\\">\\r\\n                                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add to list\\r\\n                                </button>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"selectedGeneralSubTopicsList\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Topic name</th>\\r\\n                                            <th>Topic description</th>\\r\\n                                            <th>Primary applicable grade</th>\\r\\n                                            <th>Action</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr *ngFor=\\\"let topic of selectedGeneralSubTopicsList;\\\">\\r\\n                                            <td data-column=\\\"Topic name\\\">\\r\\n                                                {{topic.data.name}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Topic description\\\">\\r\\n                                                {{topic.data.description}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\r\\n                                                {{topic.data.baseGrade}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Action\\\">\\r\\n                                                <div class=\\\"btn btn-outline-danger\\\"\\r\\n                                                    (click)=\\\"removeFromNewTopicList(topic.id)\\\">\\r\\n                                                    <i class=\\\"fa fa-trash\\\"></i>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'topic'\\\">\\r\\n                            <p><b>Topic name</b></p>\\r\\n                            <p>{{nodeName}}</p>\\r\\n                            <p><b>Topic description</b></p>\\r\\n                            <p>{{nodeDescription}}</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicMappingModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n                <div class=\\\"btn btn-success\\\" (click)=\\\"saveLessonTopicMapping()\\\">\\r\\n                    <i class=\\\"fa fa-save mr-2\\\"></i> Save\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\r\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\r\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\r\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\" (change)=\\\"onSubjectChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedSubject\\\">\\r\\n            <ng-select [items]=\\\"lessonList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"text\\\"\\r\\n                placeholder=\\\"Select lesson\\\" [(ngModel)]=\\\"selectedLesson\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-lg-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"getLessonTopicList()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row d-flex justify-content-between align-items-center\\\" *ngIf=\\\"showTopicHeading\\\">\\r\\n    <div class=\\\"col-xxl-3\\\">\\r\\n        <h5 class=\\\"font-20 mb-2\\\">Lesson topics</h5>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-9 d-flex justify-content-between flex-wrap\\\">\\r\\n        <div class=\\\"badge-lightBlue col-xxl-4 p-2 rounded mb-2\\\">\\r\\n            NOTE : <i class=\\\"fa fa-file ml-2\\\"></i> - Topic, <i class=\\\"fa fa-times text-danger ml-2\\\"></i> - No content is\\r\\n            mapped\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-4 d-flex justify-content-end mb-2 p-0\\\">\\r\\n            <div class=\\\"btn btn-primary\\\" (click)=\\\"openSubjectTreeModal()\\\">\\r\\n                <i class=\\\"fa fa-eye mr-2\\\"></i>\\r\\n                View subject tree\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-3\\\">\\r\\n        <div id=\\\"topicsList\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-9\\\">\\r\\n        <div class=\\\"w-100\\\" *ngIf=\\\"topicDescription\\\">\\r\\n            <p><b>Topic description</b></p>\\r\\n            <p class=\\\"mb-2\\\">{{topicDescription}}</p>\\r\\n        </div>\\r\\n        <div class=\\\"py-2\\\" *ngIf=\\\"showContentMapping\\\">\\r\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap\\\">\\r\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\r\\n                    <p class=\\\"font-20 mb-3\\\">Content preference for {{topicName}}</p>\\r\\n                    <div class=\\\"row m-0 mb-2\\\">\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"ContentCE\\\" name=\\\"content\\\" [checked]=\\\"checkContentCE\\\"\\r\\n                                (change)=\\\"checkContentPreference($event)\\\">\\r\\n                            <label for=\\\"ContentCE\\\">Default</label>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"OwnContent\\\" name=\\\"content\\\" [checked]=\\\"checkOwnContent\\\"\\r\\n                                (change)=\\\"checkContentPreference($event)\\\">\\r\\n                            <label for=\\\"OwnContent\\\">Use\\r\\n                                our own content</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row m-0\\\">\\r\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n                            <div class=\\\"btn btn-success\\\" (click)=\\\"saveContentPreference()\\\">\\r\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"tab w-100\\\">\\r\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\r\\n                        <!-- <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Default </a>\\r\\n                        </li> -->\\r\\n                        <li class=\\\"nav-item\\\" *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_VIDEO_ADMIN']\\\">\\r\\n                            <a class=\\\"nav-link show active\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\"\\r\\n                                role=\\\"tab\\\" aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by organizations</a>\\r\\n                        </li>\\r\\n                        <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own\\r\\n                                content </a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                    <div class=\\\"tab-content\\\">\\r\\n                        <!-- <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\r\\n                            aria-labelledby=\\\"home-tab\\\">\\r\\n                            <div *ngIf=\\\"generalTopicContents\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Active Web URL</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr\\r\\n                                            *ngFor=\\\"let topicContent of generalTopicContents;trackBy: trackId;let topicIndex = index\\\">\\r\\n                                            <td data-column=\\\"Order number\\\">\\r\\n                                                {{topicContent.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{topicContent.content.title}}\\\">\\r\\n                                                    {{topicContent.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Active Web URL\\\">\\r\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\r\\n                                                    href=\\\"{{topicContent.content.webUrl}}\\\" target=\\\"_blank\\\">\\r\\n                                                    {{topicContent.content.webUrl}}\\r\\n                                                </a>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewCETopicContent(topicContent.id)\\\"\\r\\n                                                        tooltip=\\\"View content\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div> -->\\r\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\"\\r\\n                            aria-labelledby=\\\"profile-tab\\\" *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_VIDEO_ADMIN']\\\">\\r\\n                            <div class=\\\"col-12 filterbg py-2 px-4 rounded my-4\\\">\\r\\n                                <div class=\\\"filtericon font-20\\\">\\r\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\r\\n                                </div>\\r\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\r\\n                                    <ng-select [items]=\\\"organisations\\\" class=\\\"w-100\\\"\\r\\n                                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                                        placeholder=\\\"Select organisation\\\" [(ngModel)]=\\\"selectedOrganisation\\\">\\r\\n                                    </ng-select>\\r\\n                                </div>\\r\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\r\\n                                        (click)=\\\"getOrgTopicContentByOrgId()\\\">\\r\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n\\r\\n                            <div *ngIf=\\\"orgGeneralTopicContents\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Active Web URL</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody>\\r\\n                                        <tr\\r\\n                                            *ngFor=\\\"let orgcontent of orgGeneralTopicContents;trackBy: trackId;let topicIndex = index\\\">\\r\\n                                            <td data-column=\\\"Order number\\\">\\r\\n                                                {{orgcontent.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{orgcontent.content.title}}\\\">\\r\\n                                                    {{orgcontent.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Active Web URL\\\">\\r\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\r\\n                                                    href=\\\"{{orgcontent.content.webUrl}}\\\" target=\\\"_blank\\\">\\r\\n                                                    {{orgcontent.content.webUrl}}\\r\\n                                                </a>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewOrgTopicContent(orgcontent.id)\\\"\\r\\n                                                        tooltip=\\\"View content\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\r\\n                            <div class=\\\"row mb-2\\\">\\r\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addOwnTopicContent()\\\">\\r\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\r\\n                                        content\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"ownTopicContents\\\">\\r\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\r\\n                                    id=\\\"dragTable\\\">\\r\\n                                    <thead>\\r\\n                                        <tr>\\r\\n                                            <th>Select</th>\\r\\n                                            <th>Order number</th>\\r\\n                                            <th>Title</th>\\r\\n                                            <th>Active Web URL</th>\\r\\n                                            <th>Actions</th>\\r\\n                                        </tr>\\r\\n                                    </thead>\\r\\n                                    <tbody id=\\\"dragBody\\\">\\r\\n                                        <tr\\r\\n                                            *ngFor=\\\"let topicContent of ownTopicContents;trackBy: trackId;let topicIndex = index\\\">\\r\\n                                            <td data-column=\\\"Select\\\" title=\\\"{{topicContent.id}}\\\">\\r\\n                                                <div class=\\\"checkbox\\\">\\r\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{topicContent.id}}\\\"\\r\\n                                                        id=\\\"{{topicContent.id}}+1\\\" class=\\\"checkAll\\\"\\r\\n                                                        (change)=\\\"checkSelectedOwnContents($event)\\\">\\r\\n                                                    <label for=\\\"{{topicContent.id}}+1\\\"></label>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\r\\n                                                {{topicContent.orderNumber}}\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Title\\\">\\r\\n                                                <div class=\\\"w-auto text-clip\\\" tooltip=\\\"{{topicContent.content.title}}\\\">\\r\\n                                                    {{topicContent.content.title}}\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Active Web URL\\\">\\r\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\r\\n                                                    href=\\\"{{topicContent.content.webUrl}}\\\" target=\\\"_blank\\\">\\r\\n                                                    {{topicContent.content.webUrl}}\\r\\n                                                </a>\\r\\n                                            </td>\\r\\n                                            <td data-column=\\\"Actions\\\">\\r\\n                                                <div class=\\\"d-flex\\\">\\r\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"viewOwnTopicContent(topicContent.id)\\\"\\r\\n                                                        tooltip=\\\"View content\\\">\\r\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                                    </a>\\r\\n                                                    <a class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center\\\"\\r\\n                                                        (click)=\\\"editOwnTopicContent(topicContent.id)\\\"\\r\\n                                                        tooltip=\\\"Edit content\\\">\\r\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                                    </a>\\r\\n                                                </div>\\r\\n                                            </td>\\r\\n                                        </tr>\\r\\n                                    </tbody>\\r\\n                                </table>\\r\\n                                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"ownTopicContents.length > 0\\\">\\r\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\r\\n                                        (click)=\\\"resetSelectedOwnTopicContent()\\\">\\r\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n                                    </button>\\r\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\r\\n                                        (click)=\\\"deleteOwnTopicContents()\\\">\\r\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\r\\n                                    </button>\\r\\n                                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\"\\r\\n                                        (click)=\\\"updateOwnTopicContentsWithOrderNumber()\\\">\\r\\n                                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\r\\n                                    </button>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"topicContentModal\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" [formGroup]=\\\"topicContentForm\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    {{modalTitleName}} content\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeTopicContentModalWithOutSaving()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\r\\n                    <div class=\\\"form-group mb-2\\\">\\r\\n                        <label class=\\\"col-form-label\\\">Title\\r\\n                        </label>\\r\\n                        <input type=\\\"text\\\" placeholder=\\\"Enter content name (min length: 3 and max length: 75)\\\"\\r\\n                            class=\\\"form-control\\\" formControlName=\\\"contentTitle\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n                            inputRestriction=\\\"alphabetsNumbersWithMinus\\\" />\\r\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                            Allowed characters - Alphabets, Numbers and One special character (-)\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\" form-group mb-2\\\">\\r\\n                        <label class=\\\"col-form-label\\\">Description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n                        </label>\\r\\n                        <textarea class=\\\"form-control description-form\\\"\\r\\n                            placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\"\\r\\n                            formControlName=\\\"contentDescription\\\"></textarea>\\r\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                            Allowed characters - Alphabets, Numbers and Special characters\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- <div class=\\\"form-group mb-2\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Content type\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"contentType\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select content type\\\" [(ngModel)]=\\\"selectedContentType\\\"\\r\\n                        [searchable]=\\\"false\\\">\\r\\n                    </ng-select>\\r\\n                </div>\\r\\n                <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType\\\">\\r\\n                    <label class=\\\"col-form-label\\\">Content source\\r\\n                    </label>\\r\\n                    <ng-select [items]=\\\"contentSource\\\" [disabled]=\\\"disableDropdown\\\"\\r\\n                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\" placeholder=\\\"Select content source\\\"\\r\\n                        [(ngModel)]=\\\"selectedContentSource\\\" [searchable]=\\\"false\\\">\\r\\n                    </ng-select>\\r\\n                </div> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource\\\"> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\r\\n                            <label class=\\\"col-form-label\\\">File\\r\\n                            </label>\\r\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                <input type=\\\"file\\\" (change)=\\\"onDocumentFileChanges($event)\\\" id=\\\"documentFile\\\" />\\r\\n                                <label class=\\\"custom-file-label\\\" for=\\\"documentFile\\\">\\r\\n                                    <i>\\r\\n                                        {{fileName}}\\r\\n                                    </i></label>\\r\\n                            </div>\\r\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                <input type=\\\"file\\\" alife-file-to-base64 (onFileChanged)=\\\"onVideoFileChanges($event)\\\"\\r\\n                                    id=\\\"videoFile\\\" />\\r\\n                                <label class=\\\"custom-file-label\\\" for=\\\"videoFile\\\">\\r\\n                                    <i>\\r\\n                                        {{fileName}}\\r\\n                                    </i></label>\\r\\n                            </div>\\r\\n                            <div class=\\\" d-flex w-100\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                    Only PDF will allow Max file size - 100 MB\\r\\n                                </div>\\r\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                    Max file size - 200 MB\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"d-flex w-100 my-2\\\">\\r\\n                                <div *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\r\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadVideoFile()\\\"\\r\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\r\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\r\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadDocumentFile()\\\"\\r\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\r\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\r\\n                                        </button>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div *ngIf=\\\"showFileAction\\\" class=\\\"d-flex justify-content-between\\\">\\r\\n                                    <a class=\\\"btn btn-info mr-2\\\" (click)=\\\"downloadFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\r\\n                                        <i class=\\\"fa fa-download mr-2\\\"></i>{{uploadedFileName}}\\r\\n                                    </a>\\r\\n                                    <div *ngIf=\\\" modalTitleName !=='View'\\\">\\r\\n                                        <a class=\\\" btn btn-danger\\\" (click)=\\\"deleteUploadedFile()\\\"\\r\\n                                            *ngIf=\\\"uploadedFileName\\\">\\r\\n                                            <i class=\\\"fa fa-trash mr-2\\\"></i>Delete file\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div> -->\\r\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name !== 'File upload'\\\"> -->\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl1\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher1\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl1\\\" [checked]=\\\"checkUrl1\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl1\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\r\\n                                    (Optional)\\r\\n                                </span>\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl2\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher2\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl2\\\" [checked]=\\\"checkUrl2\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl2\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"border p-2 mb-2\\\">\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\r\\n                                    (Optional)\\r\\n                                </span>\\r\\n                            </label>\\r\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\r\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl3\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Allowed characters - Alphabets, Numbers and Special characters\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2\\\">\\r\\n                            <label class=\\\"col-form-label\\\">Publisher\\r\\n                            </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\r\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher3\\\">\\r\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                                Allowed characters - Alphabets\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\r\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl3\\\" [checked]=\\\"checkUrl3\\\"\\r\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\r\\n                            <label for=\\\"webUrl3\\\">is Active</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- </div> -->\\r\\n                    <!-- </div> -->\\r\\n                </div>\\r\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                        <p><b>Title </b></p>\\r\\n                        <p>{{contentDetails.content.title}}</p>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\" *ngIf=\\\"contentDetails.content.description\\\">\\r\\n                        <p><b>Description</b></p>\\r\\n                        <p>{{contentDetails.content.description}}</p>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url1\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 1</b></p>\\r\\n                            <p>{{contentDetails.content.url1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 1</b></p>\\r\\n                            <p>{{contentDetails.content.publisher1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 1</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url1\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl1\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url1\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url2\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 2</b></p>\\r\\n                            <p>{{contentDetails.content.url2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 2</b></p>\\r\\n                            <p>{{contentDetails.content.publisher2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 2</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url2\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl2\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url2\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url3\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 3</b></p>\\r\\n                            <p>{{contentDetails.content.url3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 3</b></p>\\r\\n                            <p>{{contentDetails.content.publisher3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 3</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url3\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl3\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url3\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div *ngIf=\\\"modalTitleName === 'ViewOrg'\\\">\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                        <p><b>Title </b></p>\\r\\n                        <p>{{contentDetails.content.title}}</p>\\r\\n                    </div>\\r\\n                    <div class=\\\"d-flex justify-content-between w-100\\\" *ngIf=\\\"contentDetails.content.description\\\">\\r\\n                        <p><b>Description</b></p>\\r\\n                        <p>{{contentDetails.content.description}}</p>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url1\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 1</b></p>\\r\\n                            <p>{{contentDetails.content.url1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 1</b></p>\\r\\n                            <p>{{contentDetails.content.publisher1}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 1</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url1\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl1\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url1\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url2\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 2</b></p>\\r\\n                            <p>{{contentDetails.content.url2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 2</b></p>\\r\\n                            <p>{{contentDetails.content.publisher2}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 2</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url2\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl2\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url2\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"contentDetails.content.url3\\\">\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Web URL 3</b></p>\\r\\n                            <p>{{contentDetails.content.url3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Publisher 3</b></p>\\r\\n                            <p>{{contentDetails.content.publisher3}}</p>\\r\\n                        </div>\\r\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\r\\n                            <p><b>Active 3</b></p>\\r\\n                            <div>\\r\\n                                <div class=\\\"radio\\\">\\r\\n                                    <input type=\\\"radio\\\" id=\\\"url3\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl3\\\"\\r\\n                                        [disabled]=\\\"true\\\">\\r\\n                                    <label for=\\\"url3\\\"></label>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\r\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"resetTopicContent()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Reset\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\r\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"saveTopicContent()\\\" [disabled]=\\\"validateForm\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                        Save\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'Edit'\\\">\\r\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"updateTopicContents()\\\" [disabled]=\\\"validateForm\\\">\\r\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                        Save\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"modalTitleName === 'View'|| modalTitleName === 'ViewOrg' \\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicContentModal()\\\">\\r\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                        Close\\r\\n                    </button>\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"viewSubjectTreeModal\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    View subject tree\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n                    <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                        <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                        <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                            Expand all\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                            Collapse all\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div id=\\\"viewTree\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer d-flex justify-content-end align-items-start\\\">\\r\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                    Close\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"stepperTab\\\">\\r\\n    <ul id=\\\"progressbar\\\">\\r\\n        <li class=\\\"active\\\">\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n        </li>\\r\\n    </ul>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 1 - Select question type - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12\\\">\\r\\n                <pick-question-type></pick-question-type>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"next btn btn-success float-right\\\" [disabled]=\\\"validateQuestionType\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row mb-2\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2 alert-warning p-3\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 2 - Build question - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mx-3\\\">\\r\\n                <div class=\\\"form-group mb-2 row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question category</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let category of questionCategory\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{category.name}}\\\" name=\\\"assessmentCategory\\\"\\r\\n                                (click)=\\\"onSelectQuestionCategory(category.tag)\\\" [checked]=\\\"category.checked\\\">\\r\\n                            <label for=\\\"{{category.name}}\\\">{{category.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group  row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question complexity level</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let level of questionComplexityLevel\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{level.name}}\\\" name=\\\"complexityLevel\\\" [checked]=\\\"level.checked\\\"\\r\\n                                (click)=\\\"onSelectComplexityLevel(level.value)\\\">\\r\\n                            <label for=\\\"{{level.name}}\\\">{{level.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"w-100\\\">\\r\\n            <router-outlet></router-outlet>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 3 - Add solution content (Optional) - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2\\\">\\r\\n                <label for=\\\"\\\">Solution content</label>\\r\\n                <ckeditor class=\\\"w-100\\\" [config]=\\\"editorSolutionConfig\\\" [(ngModel)]=\\\"solutionContent\\\"\\r\\n                    #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\r\\n                    [required]=\\\"true\\\">\\r\\n                </ckeditor>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" (click)=\\\"loadPreviewQuestion()\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 4 - Summary - <span class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"w-100\\\">\\r\\n            <div\\r\\n                *ngIf='questionType === \\\"MCQ_SINGLE\\\" || questionType === \\\"MCQ_MULTIPLE\\\" || questionType === \\\"MCQ_TRUE_FALSE\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row mb-3 p-3\\\">\\r\\n                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n                        *ngFor=\\\"let choice of questionResource.Choices;let i = index\\\">\\r\\n                        <div [ngClass]=\\\"{'radio': type === 'radio','checkbox': type === 'checkbox'}\\\">\\r\\n                            <input type=\\\"{{type}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" disabled readonly>\\r\\n                            <label for=\\\"{{choice.ChoiceId}}\\\">\\r\\n                                <p [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></p>\\r\\n                            </label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                            *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                            <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\r\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf='questionType === \\\"MCQ_CHOICE_MATRIX\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <table class=\\\"border-collapse my-2 font-18 p-3\\\" style=\\\"pointer-events: none\\\">\\r\\n                    <tr class=\\\"bg-lightgray\\\">\\r\\n                        <td></td>\\r\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                            <p [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></p>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of questionResource.Choices\\\">\\r\\n                        <td>\\r\\n                            <p [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></p>\\r\\n                        </td>\\r\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                            <div class=\\\"radio\\\">\\r\\n                                <input type=\\\"radio\\\" disabled readonly [id]=\\\"option.OptionId+choice.ChoiceId\\\"\\r\\n                                    name=\\\"{{ choice.ChoiceId }}\\\">\\r\\n                                <label for=\\\"{{option.OptionId+choice.ChoiceId}}\\\"></label>\\r\\n                            </div>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </table>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                            *ngFor=\\\"let data of answers;let checkIndex =index\\\">\\r\\n                            <span [MathJax]=\\\"data.choiceName | sanitizeHtml\\\"></span> -\\r\\n                            <span [MathJax]=\\\"data.optionName | sanitizeHtml\\\"></span>\\r\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div *ngIf='questionType === \\\"MCQ_MATCH_LIST\\\"'>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <ng-container *ngFor=\\\"let answer of answers\\\">\\r\\n                    <div class=\\\"choice-container\\\">\\r\\n                        <div class=\\\"item\\\">\\r\\n                            <div class=\\\"choice--group\\\">\\r\\n                                <div class=\\\"choice--label\\\">\\r\\n                                    <p [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></p>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"line-circle\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"item\\\">\\r\\n                            <div class=\\\"drag--container\\\">\\r\\n                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\r\\n                                    [MathJax]=\\\"answer.optionName | sanitizeHtml\\\">\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </ng-container>\\r\\n                <div class=\\\"mb-3 font-18\\\">\\r\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                            *ngFor=\\\"let data of answers;let checkIndex =index\\\">\\r\\n                            <span [MathJax]=\\\"data.choiceName | sanitizeHtml\\\"></span> -\\r\\n                            <span [MathJax]=\\\"data.optionName | sanitizeHtml\\\"></span>\\r\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"showSaveQuestion\\\">\\r\\n            <button class=\\\"btn btn-success float-right ml-2\\\" (click)=\\\"saveQuestion()\\\" [disabled]=\\\"showAddQuestion\\\">\\r\\n                <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n                Save question\\r\\n            </button>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"showAddQuestion\\\">\\r\\n            <button class=\\\"btn btn-info float-right\\\" (click)=\\\"addQuestion()\\\">\\r\\n                <i class=\\\"fa fa-plus-circle mr-2\\\"></i>\\r\\n                Add one more question\\r\\n            </button>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"previous btn btn-danger float-right mr-2\\\" (click)=\\\"resetPreviewQuestions()\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n    </div>\\r\\n    <a class=\\\"btn btn-success\\\" (click)=\\\"editQuestionRoute()\\\">\\r\\n        <i class=\\\"fa fa-edit mr-2\\\"></i> Edit question\\r\\n    </a>\\r\\n</div>\\r\\n<div class=\\\"w-100 mb-2 text-primary font-18\\\">\\r\\n    {{topicName}}\\r\\n</div>\\r\\n<div *ngIf='questionType === \\\"MCQ_SINGLE\\\" || questionType === \\\"MCQ_MULTIPLE\\\" || questionType === \\\"MCQ_TRUE_FALSE\\\"'>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n        <div class=\\\"col-xxl-12\\\">\\r\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\r\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row mb-3 p-3\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n            *ngFor=\\\"let choice of questionResource.Choices;let i = index\\\">\\r\\n            <div [ngClass]=\\\"{'radio': type === 'radio','checkbox': type === 'checkbox'}\\\">\\r\\n                <input type=\\\"{{type}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"questionResource.Answers\\\"\\r\\n                    [choiceid]=\\\"choice.ChoiceId\\\" disabled readonly>\\r\\n                <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n            </div>\\r\\n            <label for=\\\"{{choice.ChoiceId}}\\\">\\r\\n                <span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span>\\r\\n            </label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"mb-3 font-18\\\">\\r\\n        <div class=\\\"border-success p-3 alert-success\\\">\\r\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\r\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div *ngIf='questionType === \\\"MCQ_CHOICE_MATRIX\\\"'>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n        <div class=\\\"col-xxl-12\\\">\\r\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\r\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <table class=\\\"border-collapse my-2 font-18 p-3\\\" style=\\\"pointer-events: none\\\">\\r\\n        <tr class=\\\"bg-lightgray\\\">\\r\\n            <td></td>\\r\\n            <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                <span [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\r\\n            </td>\\r\\n        </tr>\\r\\n        <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of questionResource.Choices\\\">\\r\\n            <td><span [MathJax]=\\\"choice.ChoiceText\\\"></span></td>\\r\\n            <td *ngFor=\\\"let option of questionResource.Options\\\">\\r\\n                <div class=\\\"radio\\\">\\r\\n                    <input type=\\\"radio\\\" disabled readonly [id]=\\\"option.OptionId+choice.ChoiceId\\\"\\r\\n                        [choicematrix]=\\\"questionResource.Answers\\\" [optionid]=\\\"option.OptionId\\\"\\r\\n                        [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\">\\r\\n                    <label for=\\\"{{option.OptionId+choice.ChoiceId}}\\\"></label>\\r\\n                </div>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </table>\\r\\n    <div class=\\\"mb-3 font-18\\\">\\r\\n        <div class=\\\"border-success p-3 alert-success\\\">\\r\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\r\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div *ngIf='questionType === \\\"MCQ_MATCH_LIST\\\"'>\\r\\n    <div class=\\\"row mb-3\\\">\\r\\n        <div class=\\\"col-xxl-12\\\">\\r\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\r\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\r\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <ng-container *ngFor=\\\"let answer of answers\\\">\\r\\n        <div class=\\\"choice-container\\\">\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"choice--group\\\">\\r\\n                    <div class=\\\"choice--label\\\">\\r\\n                        <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"line-circle\\\">\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"drag--container\\\">\\r\\n                    <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\r\\n                        [MathJax]=\\\"answer.optionName | sanitizeHtml\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n    <div class=\\\"mb-3 font-18\\\">\\r\\n        <div class=\\\"border-success p-3 alert-success\\\">\\r\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\r\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\r\\n    <div class=\\\"filtericon font-20\\\">\\r\\n        <i class=\\\"fa fa-filter\\\"></i>\\r\\n    </div>\\r\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\r\\n        <div class=\\\"col-lg-3 mb-3\\\">\\r\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\r\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\r\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\r\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\" (change)=\\\"onSubjectChange()\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedSubject\\\">\\r\\n            <ng-select [items]=\\\"lessonList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"text\\\"\\r\\n                placeholder=\\\"Select lesson\\\" [(ngModel)]=\\\"selectedLesson\\\">\\r\\n            </ng-select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\r\\n        <div class=\\\"col-lg-2\\\">\\r\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"getLessonTopicList()\\\">\\r\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row d-flex justify-content-between align-items-center\\\" *ngIf=\\\"showTopicHeading\\\">\\r\\n    <div class=\\\"col-xxl-3\\\">\\r\\n        <h5 class=\\\"font-20 mb-2\\\">Lesson topics</h5>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-9 d-flex justify-content-between flex-wrap\\\">\\r\\n        <div class=\\\"badge-lightBlue col-xxl-8 p-2 rounded mb-2\\\">\\r\\n            NOTE : <i class=\\\"fa fa-file ml-2\\\"></i> - Topic, <i class=\\\"fa fa-times ml-2 text-danger\\\"></i> - No question\\r\\n            is mapped\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-4 d-flex justify-content-end mb-2 p-0\\\">\\r\\n            <div class=\\\"btn btn-primary\\\" (click)=\\\"openSubjectTreeModal()\\\">\\r\\n                <i class=\\\"fa fa-eye mr-2\\\"></i>\\r\\n                View subject tree\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xxl-3\\\">\\r\\n        <div id=\\\"topicsList\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"col-xxl-9 mb-3\\\">\\r\\n        <div class=\\\"w-100\\\" *ngIf=\\\"topicDescription\\\">\\r\\n            <p><b>Topic description</b></p>\\r\\n            <p class=\\\"mb-2\\\">{{topicDescription}}</p>\\r\\n        </div>\\r\\n        <div class=\\\"py-2\\\" *ngIf=\\\"showQuestionMapping\\\">\\r\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap\\\">\\r\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\r\\n                    <p class=\\\"font-20 mb-3\\\">Question preference for {{topicName}}</p>\\r\\n                    <div class=\\\"row m-0 mb-2\\\">\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" class=\\\"form-check-input\\\" id=\\\"QuestionCE\\\" name=\\\"question\\\"\\r\\n                                [checked]=\\\"checkQuestionCE\\\" (change)=\\\"checkQuestionPreference($event)\\\">\\r\\n                            <label for=\\\"QuestionCE\\\">Default</label>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\r\\n                            <input type=\\\"radio\\\" class=\\\"form-check-input\\\" id=\\\"OwnQuestion\\\" name=\\\"question\\\"\\r\\n                                [checked]=\\\"checkOwnQuestion\\\" (change)=\\\"checkQuestionPreference($event)\\\">\\r\\n                            <label for=\\\"OwnQuestion\\\">Use\\r\\n                                our own question</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"row mx-0\\\">\\r\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\" (click)=\\\"saveQuestionPreference()\\\">\\r\\n                            <div class=\\\"btn btn-success\\\">\\r\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"tab w-100\\\">\\r\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\r\\n                        <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Default</a>\\r\\n                        </li>\\r\\n                        <li class=\\\"nav-item\\\" *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_QUESTIONS_ADMIN']\\\">\\r\\n                            <a class=\\\"nav-link show\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by\\r\\n                                organizations</a>\\r\\n                        </li>\\r\\n                        <li class=\\\"nav-item\\\">\\r\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\r\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own\\r\\n                                question </a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                    <div class=\\\"tab-content\\\">\\r\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\r\\n                            aria-labelledby=\\\"home-tab\\\">\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"generalTopicQuestions.length > 0\\\">\\r\\n                                <div class=\\\"col-xxl-12 flex-wrap d-flex justify-content-lg-end\\\">\\r\\n                                    <div class=\\\"btn btn-info mb-2 mr-2\\\"\\r\\n                                        (click)=\\\"openGeneralTopicPreviewQuestionModal()\\\">\\r\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\r\\n                                    </div>\\r\\n                                    <div class=\\\"btn btn-success mb-2\\\" (click)=\\\"openGeneralTopicSimulateQuestionModal()\\\">\\r\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"accordion\\\" id=\\\"generalTopicQuestions\\\">\\r\\n                                <div class=\\\"mb-2 acd-group\\\"\\r\\n                                    *ngFor=\\\"let question of generalTopicQuestions;let index=index\\\">\\r\\n                                    <div class=\\\"card-header border\\\">\\r\\n                                        <h5 class=\\\"mb-0\\\">\\r\\n                                            <a href=\\\"#questionDetail{{question.questionId}}\\\"\\r\\n                                                class=\\\"btn-block text-left text-muted acd-heading collapsed d-flex\\\"\\r\\n                                                data-toggle=\\\"collapse\\\" aria-expanded=\\\"false\\\">\\r\\n                                                <div style=\\\"width: 99%;\\\" [MathJax]=\\\"question.questionText\\\">\\r\\n                                                </div>\\r\\n                                            </a>\\r\\n                                        </h5>\\r\\n                                    </div>\\r\\n                                    <div id=\\\"questionDetail{{question.questionId}}\\\" class=\\\"collapse\\\"\\r\\n                                        data-parent=\\\"#generalTopicQuestions\\\">\\r\\n                                        <div class=\\\"card-body p-3\\\">\\r\\n                                            <div class=\\\"d-flex justify-content-between mb-2\\\">\\r\\n                                                <div>\\r\\n                                                    <b>Question category</b> : {{question.questionCategory}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Question type</b> : {{question.questionType}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Completexity level</b> : {{question.complexityLevel}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"d-flex justify-content-end w-100\\\">\\r\\n                                                <a class=\\\"btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    target=\\\"_blank\\\"\\r\\n                                                    [routerLink]=\\\"['/lesson-topic', question.id, 'general-topic-question-view']\\\">\\r\\n                                                    <i class=\\\"fa fa-eye mr-2\\\"></i> View question\\r\\n                                                </a>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"profile-tab\\\"\\r\\n                            *iusHasAnyAuthority=\\\"['SYSTEM_ADMIN','MASTER_QUESTIONS_ADMIN']\\\">\\r\\n                            <div class=\\\"w-100 filterbg py-2 px-4 rounded my-4\\\">\\r\\n                                <div class=\\\"filtericon font-20\\\">\\r\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\r\\n                                </div>\\r\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\r\\n                                    <ng-select [items]=\\\"organisations\\\" class=\\\"w-100\\\"\\r\\n                                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                                        placeholder=\\\"Select organisation\\\" [(ngModel)]=\\\"selectedOrganisation\\\">\\r\\n                                    </ng-select>\\r\\n                                </div>\\r\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n                                    <div class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\r\\n                                        (click)=\\\"getOrgTopicQuestiontByOrgId()\\\">\\r\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\" *ngIf=\\\"orgGeneralTopicQuestions.length > 0\\\">\\r\\n                                <div class=\\\"col-xxl-12 d-flex flex-wrap justify-content-lg-end\\\">\\r\\n                                    <div class=\\\"btn btn-info mb-2 mr-2\\\" (click)=\\\"openOrgTopicPreviewQuestionModal()\\\">\\r\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\r\\n                                    </div>\\r\\n                                    <div class=\\\"btn btn-success mb-2\\\" (click)=\\\"openOrgTopicSimulateQuestionModal()\\\">\\r\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"accordion\\\" id=\\\"organisationTopicQuestion\\\">\\r\\n                                <div class=\\\"mb-2 acd-group\\\"\\r\\n                                    *ngFor=\\\"let question of orgGeneralTopicQuestions;let index=index\\\">\\r\\n                                    <div class=\\\"card-header border\\\">\\r\\n                                        <h5 class=\\\"mb-0\\\">\\r\\n                                            <a href=\\\"#organisationQuestionDetail{{question.id}}\\\"\\r\\n                                                class=\\\"btn-block text-left text-muted acd-heading collapsed d-flex\\\"\\r\\n                                                data-toggle=\\\"collapse\\\" aria-expanded=\\\"false\\\">\\r\\n                                                <div style=\\\"width: 99%;\\\" [MathJax]=\\\"question.questionText\\\">\\r\\n                                                </div>\\r\\n                                            </a>\\r\\n                                        </h5>\\r\\n                                    </div>\\r\\n                                    <div id=\\\"organisationQuestionDetail{{question.id}}\\\" class=\\\"collapse\\\"\\r\\n                                        data-parent=\\\"#organisationTopicQuestion\\\">\\r\\n                                        <div class=\\\"card-body p-3\\\">\\r\\n                                            <div class=\\\"d-flex justify-content-between mb-2\\\">\\r\\n                                                <div>\\r\\n                                                    <b>Question category</b> : {{question.questionCategory}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Question type</b> : {{question.questionType}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Completexity level</b> : {{question.complexityLevel}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"d-flex justify-content-end w-100\\\">\\r\\n                                                <a class=\\\"btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    target=\\\"_blank\\\"\\r\\n                                                    [routerLink]=\\\"['/lesson-topic', question.id, 'topic-question-view' ]\\\">\\r\\n                                                    <i class=\\\"fa fa-eye mr-2\\\"></i> View question\\r\\n                                                </a>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div\\r\\n                                    class=\\\"col-xxl-12 flex-wrap d-flex justify-content-lg-end justify-content-md-between\\\">\\r\\n                                    <div class=\\\"btn btn-info mr-2 mb-2\\\" (click)=\\\"openOwnTopicPreviewQuestionModal()\\\"\\r\\n                                        *ngIf=\\\"ownTopicQuestions.length > 0\\\">\\r\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\r\\n                                    </div>\\r\\n                                    <div class=\\\"btn btn-success mr-2 mb-2\\\" (click)=\\\"openOwnTopicSimulateQuestionModal()\\\"\\r\\n                                        *ngIf=\\\"ownTopicQuestions.length > 0\\\">\\r\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\r\\n                                    </div>\\r\\n                                    <a target=\\\"_blank\\\" class=\\\"btn btn-primary mb-2 mr-2\\\"\\r\\n                                        [routerLink]=\\\"['/lesson-topic',generalTopicId,'topic-question-create']\\\">\\r\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new question\\r\\n                                    </a>\\r\\n                                    <div class=\\\"btn btn-warning mb-2\\\" (click)=\\\"loadUpdatedTopicQuestion()\\\">\\r\\n                                        <i class=\\\"fa fa-refresh mr-2\\\"></i> Refresh\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"accordion\\\" id=\\\"ownTopicQuestions\\\">\\r\\n                                <div class=\\\"mb-2 acd-group\\\" *ngFor=\\\"let question of ownTopicQuestions;let index=index\\\">\\r\\n                                    <div class=\\\"card-header border\\\">\\r\\n                                        <h5 class=\\\"mb-0\\\">\\r\\n                                            <a href=\\\"#ownquestionDetail{{question.questionId}}\\\"\\r\\n                                                class=\\\"btn-block text-left text-muted acd-heading collapsed d-flex\\\"\\r\\n                                                data-toggle=\\\"collapse\\\" aria-expanded=\\\"false\\\">\\r\\n                                                <div style=\\\"width: 99%;\\\" [MathJax]=\\\"question.questionText\\\">\\r\\n                                                </div>\\r\\n                                            </a>\\r\\n                                        </h5>\\r\\n                                    </div>\\r\\n                                    <div id=\\\"ownquestionDetail{{question.questionId}}\\\" class=\\\"collapse\\\"\\r\\n                                        data-parent=\\\"#ownTopicQuestions\\\">\\r\\n                                        <div class=\\\"card-body p-3\\\">\\r\\n                                            <div class=\\\"d-flex justify-content-between mb-2\\\">\\r\\n                                                <div>\\r\\n                                                    <b>Question type</b> : {{question.questionType}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Question category</b> : {{question.questionCategory}}\\r\\n                                                </div>\\r\\n                                                <div>\\r\\n                                                    <b>Completexity level</b> : {{question.complexityLevel}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"d-flex justify-content-end w-100\\\">\\r\\n                                                <a class=\\\"btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    target=\\\"_blank\\\"\\r\\n                                                    [routerLink]=\\\"['/lesson-topic', question.questionId, 'topic-question-view']\\\">\\r\\n                                                    <i class=\\\"fa fa-eye mr-2\\\"></i> View\\r\\n                                                </a>\\r\\n                                                <a class=\\\"btn btn-success mr-2 mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    target=\\\"_blank\\\"\\r\\n                                                    [routerLink]=\\\"['/lesson-topic', question.questionId, 'topic-question-edit']\\\">\\r\\n                                                    <i class=\\\"fa fa-edit mr-2\\\"></i> Edit\\r\\n                                                </a>\\r\\n                                                <a class=\\\"btn btn-danger  mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    (click)=\\\"deleteOwnTopicQuestions(question.id)\\\">\\r\\n                                                    <i class=\\\"fa fa-trash mr-2\\\"></i> Delete\\r\\n                                                </a>\\r\\n                                                <a class=\\\"btn btn-success mb-2 d-flex justify-content-center align-items-center\\\"\\r\\n                                                    (click)=\\\"updateQuestion(question.id)\\\">\\r\\n                                                    <i class=\\\"fa fa-trash mr-2\\\"></i> Save\\r\\n                                                </a>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"viewSubjectTreeModal\\\">\\r\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    View subject tree\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\r\\n                    <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n                        <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n                        <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                            Expand all\\r\\n                        </span>\\r\\n                        <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                            Collapse all\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div id=\\\"viewSubjectTree\\\"></div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer d-flex justify-content-end align-items-start\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n                    Close\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"simulateTopicQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\r\\n    aria-labelledby=\\\"simulateTopicQuestionModal\\\" aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Simulate question - {{topicName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div id=\\\"questionSimulateIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\r\\n                    data-interval=\\\"false\\\">\\r\\n                    <div class=\\\"carousel-inner\\\">\\r\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\r\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\r\\n                            <div\\r\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\r\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\r\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\r\\n                                                (change)=\\\"onSelectMCQSingleAnswer(questiondata.id,choice.ChoiceId)\\\">\\r\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\"\\r\\n                                                (click)=\\\"onSelectMCQMultipleAnswer(questiondata.id,choice.ChoiceId,$event)\\\">\\r\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <label [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></label>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div cdkDropListGroup>\\r\\n                                    <div class=\\\"example-container d-flex justify-content-between flex-nowrap mb-2\\\">\\r\\n                                        <div class=\\\"mcq-left mr-2\\\">\\r\\n                                            <div class=\\\"match-list\\\" data-value=\\\"questiondata.choices\\\">\\r\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.choices\\\"\\r\\n                                                    [MathJax]=\\\"item.ChoiceText  | sanitizeHtml\\\"></div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!-- <div class=\\\"line-circle w-auto\\\" *ngFor=\\\"let item of viewModel.Choices\\\" id=\\\"{{item}}\\\"></div> -->\\r\\n                                        <div class=\\\"mcq-right ml-2\\\">\\r\\n                                            <div cdkDropList [cdkDropListData]=\\\"questiondata.options\\\" class=\\\"match-list\\\"\\r\\n                                                (cdkDropListDropped)=\\\"updatedDropList(questiondata.id, $event)\\\">\\r\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.options\\\" cdkDrag\\r\\n                                                    [MathJax]=\\\"item.OptionText  | sanitizeHtml\\\">\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\r\\n                                    <tr class=\\\"bg-lightgray\\\">\\r\\n                                        <td></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <span class=\\\"text-dark\\\"\\r\\n                                                [MathJax]=\\\"option.OptionText  | sanitizeHtml\\\"></span>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                    <tr style=\\\"background: none !important;\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\r\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <div class=\\\"radio\\\">\\r\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\r\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\"\\r\\n                                                    (click)=\\\"onSelectChoiceMatrixAnswer(questiondata.id,choice.ChoiceId, option.OptionId)\\\">\\r\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n                                            </div>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\r\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\" (click)=\\\"previousQuestion()\\\">\\r\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-info mx-2 mb-2\\\" (click)=\\\"checkAnswerStatus(questiondata.id)\\\">\\r\\n                                    <i class=\\\"fa fa-check mr-2\\\"></i>Check answer\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-success mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\"\\r\\n                                    (click)=\\\"nextQuestion()\\\">\\r\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" id=\\\"previewTopicQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\r\\n    aria-labelledby=\\\"previewTopicQuestionModal\\\" aria-hidden=\\\"true\\\">\\r\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n                <h5 class=\\\"modal-title text-white\\\">\\r\\n                    Preview question - {{topicName}}\\r\\n                </h5>\\r\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <div id=\\\"questionPreviewIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\r\\n                    data-interval=\\\"false\\\">\\r\\n                    <div class=\\\"carousel-inner\\\">\\r\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\r\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\r\\n                            <div\\r\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\r\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\r\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\r\\n                                                [answers]=\\\"questiondata.answers\\\" disabled readonly>\\r\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\r\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\" disabled\\r\\n                                                readonly [answers]=\\\"questiondata.answers\\\">\\r\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\r\\n                                        </div>\\r\\n                                        <label for=\\\"{{choice.ChoiceId}}\\\"\\r\\n                                            [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></label>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer || sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <ng-container *ngFor=\\\"let answer of questiondata.answers;\\\">\\r\\n                                    <div class=\\\"choice-container\\\">\\r\\n                                        <div class=\\\"item\\\">\\r\\n                                            <div class=\\\"choice--group\\\">\\r\\n                                                <div class=\\\"choice--label\\\">\\r\\n                                                    <span [MathJax]=\\\"answer.choiceName  | sanitizeHtml\\\"></span>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"line-circle\\\">\\r\\n                                        </div>\\r\\n                                        <div class=\\\"item\\\">\\r\\n                                            <div class=\\\"drag--container\\\">\\r\\n                                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\r\\n                                                    [MathJax]=\\\"answer.optionName  | sanitizeHtml\\\">\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </ng-container>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\r\\n                                            class=\\\"text-dark d-flex flex-nowrap\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer.choiceName || sanitizeHtml\\\"></span> <span>-</span>\\r\\n                                            <span [MathJax]=\\\"answer.optionName || sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\r\\n                                <div class=\\\"row mb-3\\\">\\r\\n                                    <div class=\\\"col-xxl-12\\\">\\r\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\r\\n                                            style=\\\"line-height: 24px;\\\">\\r\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex + 1}}.&nbsp;</span>\\r\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\r\\n                                    <tr class=\\\"bg-lightgray\\\">\\r\\n                                        <td></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <span class=\\\"text-dark\\\"\\r\\n                                                [MathJax]=\\\"option.OptionText  | sanitizeHtml\\\"></span>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                    <tr style=\\\"background: none !important;\\\"\\r\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\r\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></span></td>\\r\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\r\\n                                            <div class=\\\"radio\\\">\\r\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\r\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\" disabled readonly>\\r\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n                                            </div>\\r\\n                                        </td>\\r\\n                                    </tr>\\r\\n                                </table>\\r\\n                                <div class=\\\"mb-3 font-18\\\">\\r\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\r\\n                                            class=\\\"text-dark d-flex flex-nowrap\\\"\\r\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\r\\n                                            <span [MathJax]=\\\"answer.choiceName || sanitizeHtml\\\"></span> <span>-</span>\\r\\n                                            <span [MathJax]=\\\"answer.optionName || sanitizeHtml\\\"></span>\\r\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\r\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\">\\r\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n                                </div>\\r\\n                                <div class=\\\"btn btn-success ml-2  mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\r\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\">\\r\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\r\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"stepperTab\\\">\\r\\n    <ul id=\\\"progressbar\\\">\\r\\n        <li class=\\\"active\\\">\\r\\n            <span class=\\\"bar\\\">\\r\\n            </span>\\r\\n        </li>\\r\\n        <li>\\r\\n        </li>\\r\\n    </ul>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row pb-4\\\">\\r\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 1 - Edit question - <span class=\\\"text-primary\\\">{{topicName}}</span>\\r\\n                </p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mx-3\\\">\\r\\n                <div class=\\\"form-group mb-2 row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question category</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let category of questionCategory\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{category.name}}\\\" name=\\\"assessmentCategory\\\"\\r\\n                                (click)=\\\"onSelectQuestionCategory(category.tag)\\\" [checked]=\\\"category.checked\\\">\\r\\n                            <label for=\\\"{{category.name}}\\\">{{category.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group  row d-flex justify-content-between flex-wrap mb-2\\\">\\r\\n                    <label class=\\\"font-16 mb-3\\\">Select question complexity level</label>\\r\\n                    <div class=\\\"d-flex w-100 row\\\">\\r\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let level of questionComplexityLevel\\\">\\r\\n                            <input type=\\\"radio\\\" id=\\\"{{level.name}}\\\" name=\\\"complexityLevel\\\" [checked]=\\\"level.checked\\\"\\r\\n                                (click)=\\\"onSelectComplexityLevel(level.value)\\\">\\r\\n                            <label for=\\\"{{level.name}}\\\">{{level.name}}</label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div\\r\\n            *ngIf=\\\"viewModel.QuestionType === 'MCQ_SINGLE' || viewModel.QuestionType === 'MCQ_MULTIPLE' || viewModel.QuestionType === 'MCQ_TRUE_FALSE'\\\">\\r\\n            <div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\r\\n                <div class=\\\"row my-2\\\">\\r\\n                    <div class=\\\"col-xxl-12 d-flex justify-content-between\\\">\\r\\n                        <h5 class=\\\"font-18 font-bold\\\">Compose question</h5>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row mb-3\\\">\\r\\n                    <div class=\\\"col-xxl-12\\\">\\r\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\"\\r\\n                            #questionInput=\\\"ngModel\\\">\\r\\n                        </ckeditor>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"mb-3\\\">\\r\\n                <h5 class=\\\"font-20 font-bold\\\">Choices</h5>\\r\\n            </div>\\r\\n            <div class=\\\"w-100 mb-2 my-2 d-flex\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n                <div class=\\\"mcq-choice d-flex align-items-center\\\"\\r\\n                    [ngClass]=\\\"{'radio': choiceType === 'radio','checkbox': choiceType === 'checkbox'}\\\">\\r\\n                    <input type=\\\"{{choiceType}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"viewModel.Answers\\\"\\r\\n                        [choiceid]=\\\"choice.ChoiceId\\\" (click)=\\\"markAsMCQAnswer(choice.ChoiceId)\\\">\\r\\n                    <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\r\\n                </div>\\r\\n                <div class=\\\"mcq-question\\\">\\r\\n                    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\"\\r\\n                        #questionInput=\\\"ngModel\\\">\\r\\n                    </ckeditor>\\r\\n                </div>\\r\\n                <div class=\\\"mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end\\\">\\r\\n                    <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\r\\n                <div class=\\\"btn btn-info\\\" *ngIf=\\\"viewModel.QuestionType !== 'MCQ_TRUE_FALSE'\\\" (click)=\\\"addChoice()\\\">\\r\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Choice</div>\\r\\n            </div>\\r\\n            <div class=\\\"my-3 font-18\\\">\\r\\n                <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                    <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                        *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                        <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\r\\n                        {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"viewModel.QuestionType ==='MCQ_CHOICE_MATRIX'\\\">\\r\\n            <div class=\\\"row my-2\\\">\\r\\n                <div class=\\\"col-xxl-12 d-flex justify-content-between\\\">\\r\\n                    <h5 class=\\\"font-18 font-bold\\\">Compose question</h5>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"row mb-3\\\">\\r\\n                <div class=\\\"col-xxl-12\\\">\\r\\n                    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\">\\r\\n                    </ckeditor>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"w-100 d-block my-2\\\">\\r\\n                <p class=\\\"font-20 font-bold\\\">Stems</p>\\r\\n                <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n                    <div class=\\\"mcq-stem\\\">\\r\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\">\\r\\n                        </ckeditor>\\r\\n                    </div>\\r\\n                    <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteStem(choice.ChoiceId)\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n                <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\r\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add stem</button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"w-100 d-block my-2\\\">\\r\\n                <p class=\\\"font-20 font-bold\\\">Options</p>\\r\\n                <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n                    <div class=\\\"mcq-stem\\\">\\r\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\">\\r\\n                        </ckeditor>\\r\\n                    </div>\\r\\n                    <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\r\\n                <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\r\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"w-100 d-block my-2\\\">\\r\\n                <p class=\\\"font-20 font-bold\\\">Setting up answers</p>\\r\\n            </div>\\r\\n\\r\\n            <table class=\\\"table-matrix my-2\\\">\\r\\n                <tr class=\\\"bg-lightgray\\\">\\r\\n                    <td></td>\\r\\n                    <td *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n                        <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n                <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\r\\n                    <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\r\\n                    <td *ngFor=\\\"let option of viewModel.Options\\\">\\r\\n                        <div class=\\\"radio\\\">\\r\\n                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\r\\n                                [choicematrix]=\\\"viewModel.Answers\\\" [optionid]=\\\"option.OptionId\\\"\\r\\n                                [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\"\\r\\n                                (click)=\\\"markAsMatrixAnswer(choice, option)\\\">\\r\\n                            <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </table>\\r\\n\\r\\n            <div class=\\\"mb-3 font-18\\\">\\r\\n                <div class=\\\"border-success p-3 alert-success\\\">\\r\\n                    <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\r\\n                        *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\r\\n                        <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\r\\n                        <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\r\\n                        {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"viewModel.QuestionType === 'MCQ_MATCH_LIST'\\\">\\r\\n            <match-list [questionResource]=\\\"viewModel\\\"></match-list>\\r\\n        </div>\\r\\n\\r\\n        <button class=\\\"next btn btn-success float-right\\\" (click)=\\\"loadQuestionResource()\\\">\\r\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n        </button>\\r\\n\\r\\n    </fieldset>\\r\\n\\r\\n    <fieldset>\\r\\n        <div class=\\\"row mb-2\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2 alert-warning p-3\\\">\\r\\n                <p class=\\\"font-20 text-warning\\\">Step 2 - Edit solution content - <span\\r\\n                        class=\\\"text-primary\\\">{{topicName}}</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xxl-12 mb-2\\\">\\r\\n                <label for=\\\"\\\">Solution content</label>\\r\\n                <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"solutionContent\\\"\\r\\n                    #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\r\\n                    [required]=\\\"true\\\">\\r\\n                </ckeditor>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" (click)=\\\"updateQuestion()\\\">\\r\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n            Save question\\r\\n        </button>\\r\\n\\r\\n        <button class=\\\"btn btn-danger ml-2 float-right next\\\" (click)=\\\"resetQuestion()\\\">\\r\\n            <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\r\\n        </button>\\r\\n\\r\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\r\\n        </div>\\r\\n    </fieldset>\\r\\n</div>\"","import { Injectable } from '@angular/core';\r\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { Observable } from 'rxjs';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { curriculum, curriculumSearch, curriculumAffiliations } from '../shared/constants/service.constants';\r\nimport { IOrganisationSubSchool } from '../shared/model/common/organisation-sub-school.model';\r\n\r\ntype EntityResponseType = HttpResponse<ICurriculum>;\r\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\r\ntype curriculumAffiliationArrayResponseType = HttpResponse<IOrganisationSubSchool[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CurriculumService {\r\n    public curriculumResourceUrl = environment.API_URL + curriculum;\r\n    public curriculumResourceUrlSearch = environment.API_URL + curriculumSearch;\r\n    public curriculumAffiliationResourceUrlSearch = environment.API_URL + curriculumAffiliations;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    getCurriculumByCurriculumId(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false,\r\n            \"status\": ACTIVE\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    deleteCurriculum(id: number): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getAffiliationsByCurriculumId(id: number): Observable<curriculumAffiliationArrayResponseType> {\r\n        return this.http.get<IOrganisationSubSchool[]>(`${this.curriculumAffiliationResourceUrlSearch}/${id}`, { observe: 'response' });\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { IGeneralTopicQuestion } from '../shared/model/content/general-topic.question.model';\r\nimport { IGeneralTopicContent } from '../shared/model/content/general-topic-content.model';\r\nimport { content, question, generalTopicContent, generalTopicContentDetails, generalTopicQuestionDetails } from '../shared/constants/service.constants';\r\n\r\ntype EntityResponseType = HttpResponse<IGeneralTopicQuestion>;\r\ntype contentEntityResponseType = HttpResponse<IGeneralTopicContent>;\r\ntype contentArrayResponseType = HttpResponse<IGeneralTopicContent[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralConceptAndTopicService {\r\n    public contentResourceUrl = environment.API_URL + content;\r\n    public questionResourceUrl = environment.API_URL + question;\r\n    public topicContentResourceUrl = environment.API_URL + generalTopicContent;\r\n    public generalTopicContentResourceUrl = environment.API_URL + generalTopicContentDetails;\r\n    public generalTopicQuestionResourceUrl = environment.API_URL + generalTopicQuestionDetails;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    getTopicContentList(id: number): Observable<contentEntityResponseType> {\r\n        return this.http.get<IGeneralTopicContent>(`${this.generalTopicContentResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getTopicQuestionList(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<IGeneralTopicQuestion>(`${this.generalTopicQuestionResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getContentByContentId(id: number): Observable<contentEntityResponseType> {\r\n        return this.http.get<IGeneralTopicContent>(`${this.contentResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    updateContent(content: IGeneralTopicContent): Observable<contentEntityResponseType> {\r\n        return this.http.put<IGeneralTopicContent>(this.contentResourceUrl, content, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    saveTopicContent(topicContents: IGeneralTopicContent): Observable<contentEntityResponseType> {\r\n        return this.http.post<IGeneralTopicContent>(this.topicContentResourceUrl, topicContents, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateTopicContents(topicContents: IGeneralTopicContent[]): Observable<contentArrayResponseType> {\r\n        return this.http.put<IGeneralTopicContent[]>(this.topicContentResourceUrl, topicContents, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteTopicContents(contentIds): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.topicContentResourceUrl}/${\"batch\"}/${contentIds}`, { observe: 'response' });\r\n    }\r\n\r\n    saveTopicQuestion(question: IGeneralTopicQuestion): Observable<EntityResponseType> {\r\n        return this.http.post<IGeneralTopicQuestion>(this.questionResourceUrl, question, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteTopicQuestion(questionId): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.questionResourceUrl}/${questionId}`, { observe: 'response' });\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router } from '@angular/router';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralConceptAndTopicService } from './general-concept-topic.service';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { IGeneralTopicContent } from '../shared/model/content/general-topic-content.model';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { GeneralSubjectService } from '../general-subject/general-subject.service';\r\nimport { FileManagementService } from '../shared/file-management/file-management.service';\r\nimport { saveAs } from 'file-saver'\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./general-topic-content-manage.component.html\",\r\n    providers: [GeneralConceptAndTopicService, CoreErrorHandler]\r\n})\r\nexport class GeneralTopicContentManageComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    topicContentForm: FormGroup;\r\n    subjects: IGeneralSubject[];\r\n    subjectTree: IGeneralSubject[] = [];\r\n    topicContents: IGeneralTopicContent[] = [];\r\n    allGrades: any[] = [];\r\n    contentDetails: IGeneralTopicContent = {};\r\n    contentSource: any[] = [];\r\n    contentType: any[] = [];\r\n    contentIds: any[] = [];\r\n    nodeType: string;\r\n    nodeName: string;\r\n    nodeDescription: string;\r\n    modalTitleName: string;\r\n    contentId: number;\r\n    topicId: number;\r\n    validateContent: boolean;\r\n    checkOrderNumChange: boolean;\r\n    enableExpandNode: boolean;\r\n    disableDropdown: boolean;\r\n    activeUrl: string;\r\n    checkUrl1: boolean;\r\n    checkUrl2: boolean;\r\n    checkUrl3: boolean;\r\n    disableUrl: boolean;\r\n    updateAction: boolean;\r\n    tableAction: boolean;\r\n    selectedSubject: any;\r\n    selectedContentSource: any;\r\n    selectedContentType: any;\r\n    selectedGeneralSubjectGrade: any;\r\n    fileName: string;\r\n    uploadedFileName: string;\r\n    uploadedFilePath: any;\r\n    fileType: any;\r\n    selectedFile: any = null;\r\n    showFileAction: boolean;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        private generalSubjectService: GeneralSubjectService,\r\n        private generalTopicContentService: GeneralConceptAndTopicService,\r\n        public formBuilder: FormBuilder,\r\n        public pluginService: PluginService,\r\n        public commonService: CommonService,\r\n        private changeDetectRef: ChangeDetectorRef,\r\n        public fileService: FileManagementService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.enableExpandNode = false;\r\n        this.topicContents = [];\r\n        this.fileName = \"No file chosen\";\r\n        this.tableAction = true;\r\n        this.updateAction = true;\r\n        this.checkUrl1 = true;\r\n        this.allGrades = [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": 1\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": 2\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"name\": 3\r\n            },\r\n            {\r\n                \"id\": 4,\r\n                \"name\": 4\r\n            },\r\n            {\r\n                \"id\": 5,\r\n                \"name\": 5\r\n            },\r\n            {\r\n                \"id\": 6,\r\n                \"name\": 6\r\n            },\r\n            {\r\n                \"id\": 7,\r\n                \"name\": 7\r\n            },\r\n            {\r\n                \"id\": 8,\r\n                \"name\": 8\r\n            },\r\n            {\r\n                \"id\": 9,\r\n                \"name\": 9\r\n            },\r\n            {\r\n                \"id\": 10,\r\n                \"name\": 10\r\n            },\r\n            {\r\n                \"id\": 11,\r\n                \"name\": 11\r\n            },\r\n            {\r\n                \"id\": 12,\r\n                \"name\": 12\r\n            }\r\n        ];\r\n        this.selectedGeneralSubjectGrade = null;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.createTopicContentForm();\r\n        this.getContentType();\r\n        this.getContentSource();\r\n    }\r\n\r\n    getContentType() {\r\n        this.commonService.getContentTypeList().subscribe((typeData: any) => {\r\n            this.contentType = typeData;\r\n        });\r\n    }\r\n\r\n    getContentSource() {\r\n        this.commonService.getContentSourceList().subscribe((sourceData: any) => {\r\n            this.contentSource = sourceData;\r\n        });\r\n    }\r\n\r\n    createTopicContentForm() {\r\n        this.topicContentForm = this.formBuilder.group({\r\n            contentTitle: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)]),\r\n            contentDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\r\n            webUrl1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\r\n            webUrl2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\r\n            webUrl3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)])\r\n        })\r\n    }\r\n\r\n    get contentFormControl() { return this.topicContentForm.controls; }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    showConceptAndTopicDetails() {\r\n        var localThisObj = this;\r\n        $('#treeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.nodeType = data.node.type;\r\n                    if (localThisObj.nodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.nodeType === \"concept\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                        localThisObj.contentIds = [];\r\n\r\n                    } else if (localThisObj.nodeType === \"topic\") {\r\n                        localThisObj.contentIds = [];\r\n                        localThisObj.topicContents = [];\r\n                        localThisObj.topicId = data.node.data.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                        localThisObj.getTopicContentList(localThisObj.topicId);\r\n                    } else {\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getTopicContentList(topicId: number) {\r\n        this.generalTopicContentService.getTopicContentList(topicId).subscribe(\r\n            (res: HttpResponse<IGeneralTopicContent>) => this.assignResponseToTopicList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToTopicList(data: IGeneralTopicContent) {\r\n        this.contentIds = [];\r\n        this.topicContents = [];\r\n        this.topicContents = data.generalTopicContents;\r\n        this.sortArrayByOrderNumber(this.topicContents);\r\n        this.updateAction = true;\r\n        this.tableAction = true;\r\n        if (this.topicContents.length > 0) {\r\n            this.dragTableContent();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.showConceptAndTopicDetails();\r\n    }\r\n\r\n    onGeneralSubjectGradeChange() {\r\n        if (this.selectedGeneralSubjectGrade) {\r\n            let grade = this.selectedGeneralSubjectGrade.name;\r\n            let status = ACTIVE;\r\n            this.selectedSubject = null;\r\n            this.generalSubjectService\r\n                .getSubjectListByGrade(grade, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.subjects = [];\r\n    }\r\n\r\n    assignGeneralSubjectList(data: IGeneralSubject[]) {\r\n        this.subjects = [];\r\n        this.subjects = data;\r\n    }\r\n\r\n    loadSubjectTree() {\r\n        if (!this.selectedSubject && !this.selectedGeneralSubjectGrade) {\r\n            this.selectedSubject = null;\r\n            this.selectedGeneralSubjectGrade = null;\r\n            this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\");\r\n        } else {\r\n            this.subjectTree = [];\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n            let subjectId = this.selectedSubject.id;\r\n            if (subjectId) {\r\n                this.generalSubjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n                    (res: HttpResponse<IGeneralSubject[]>) => this.assignResponsetoTree(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    assignResponsetoTree(generalSubject: IGeneralSubject[]) {\r\n        this.subjectTree = [];\r\n        if (generalSubject.length > 0) {\r\n            for (let i = 0; i < generalSubject.length; i++) {\r\n                if (generalSubject[i].data.contentsCount === 0) {\r\n                    generalSubject[i].icon = \"fa fa-times text-danger\";\r\n                }\r\n                this.subjectTree.push(generalSubject[i]);\r\n            }\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n        }\r\n        this.nodeType = \"\";\r\n        this.enableExpandNode = false;\r\n    }\r\n\r\n    trimValue(value) {\r\n        if (value === null || value === undefined) {\r\n            return value;\r\n        } else {\r\n            return value.trim();\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.validateTopicContentForm();\r\n        this.changeDetectRef.detectChanges();\r\n    }\r\n\r\n    validateTopicContentForm() {\r\n        let contentName, webURL1, webURL2, webURL3;\r\n        contentName = this.trimValue(this.topicContentForm.value.contentTitle);\r\n        webURL1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n        webURL2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n        webURL3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n        if (contentName === \"\" || contentName === undefined || contentName === null) {\r\n            this.validateContent = true;\r\n        }\r\n        if ((this.uploadedFilePath === \"\" || this.uploadedFilePath === undefined || this.uploadedFilePath === null)) {\r\n            this.validateContent = true;\r\n        }\r\n        if (this.topicContentForm.valid) {\r\n            this.validateContent = false;\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateContent = true;\r\n        }\r\n        if (this.checkUrl1 === true) {\r\n            if ((webURL1 === \"\" || webURL1 === undefined || webURL1 === null)) {\r\n                this.validateContent = true;\r\n            }\r\n        }\r\n        if (this.checkUrl2 === true) {\r\n            if ((webURL2 === \"\" || webURL2 === undefined || webURL2 === null)) {\r\n                this.validateContent = true;\r\n            }\r\n        }\r\n        if (this.checkUrl3 === true) {\r\n            if ((webURL3 === \"\" || webURL3 === undefined || webURL3 === null)) {\r\n                this.validateContent = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    onActiveWebUrlSelection(event) {\r\n        if (event.target.checked === true) {\r\n            this.activeUrl = event.target.id;\r\n            if (this.activeUrl === \"webUrl1\") {\r\n                this.checkUrl1 = true;\r\n                this.checkUrl2 = false;\r\n                this.checkUrl3 = false;\r\n            } else if (this.activeUrl === \"webUrl2\") {\r\n                this.checkUrl2 = true;\r\n                this.checkUrl3 = false;\r\n                this.checkUrl1 = false;\r\n            } else if (this.activeUrl === \"webUrl3\") {\r\n                this.checkUrl3 = true;\r\n                this.checkUrl1 = false;\r\n                this.checkUrl2 = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onVideoFileChanges(event) {\r\n        let splitType;\r\n        this.selectedFile = event[0];\r\n        splitType = this.selectedFile.type.split('/');\r\n        this.fileType = splitType[0];\r\n        this.fileName = this.selectedFile.name;\r\n        if ((this.fileType === \"video\") && (this.selectedFile.size > 209715200)) {\r\n            this.pluginService.alertMessage(\"Please upload file size lesser than 200 MB\", \"error\");\r\n        }\r\n    }\r\n\r\n    uploadVideoFile() {\r\n        if (this.fileName !== \"No file chosen\") {\r\n            if (this.fileType === \"video\") {\r\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\r\n                    if (res.status === 200) {\r\n                        this.uploadedFileName = Object.keys(res.body)[0];\r\n                        this.uploadedFilePath = Object.values(res.body)[0];\r\n                        this.fileName = this.uploadedFileName;\r\n                        if (this.uploadedFileName && this.uploadedFilePath) {\r\n                            let block, base64Data, dataSrc;\r\n                            dataSrc = this.selectedFile.base64;\r\n                            block = dataSrc.split(\";\");\r\n                            base64Data = block[1].split(\",\")[1];\r\n                            this.fileService.uploadVideoFile(this.uploadedFilePath, base64Data).subscribe((event) => {\r\n                                if (event instanceof HttpResponse) {\r\n                                    this.showFileAction = true;\r\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.pluginService.alertMessage(\"Invalid file format, please upload valid video format \", \"error\")\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\r\n        }\r\n    }\r\n\r\n    onDocumentFileChanges(event) {\r\n        this.selectedFile = event.target.files;\r\n        this.fileName = this.selectedFile[0].name;\r\n        if ((this.selectedFile[0].type === \"application/pdf\") && (this.selectedFile[0].size > 104857600)) {\r\n            this.pluginService.alertMessage(\"Please upload file size lesser than 100 MB\", \"error\");\r\n        }\r\n    }\r\n\r\n    uploadDocumentFile() {\r\n        if (this.fileName !== \"No file chosen\") {\r\n            if (this.selectedFile[0].type === \"application/pdf\") {\r\n                let file = this.selectedFile.item(0);\r\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\r\n                    if (res.status === 200) {\r\n                        this.uploadedFileName = Object.keys(res.body)[0];\r\n                        this.uploadedFilePath = Object.values(res.body)[0];\r\n                        this.fileName = this.uploadedFileName;\r\n                        if (this.uploadedFileName && this.uploadedFilePath) {\r\n                            this.fileService.uploadPDFFile(this.uploadedFilePath, file).subscribe((event) => {\r\n                                if (event instanceof HttpResponse) {\r\n                                    this.showFileAction = true;\r\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.pluginService.alertMessage(\"Invalid file format, please upload file in PDF format\", \"error\");\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please choose a file to upload\", \"error\")\r\n        }\r\n    }\r\n\r\n    downloadFile() {\r\n        if (this.uploadedFileName) {\r\n            this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName));\r\n        }\r\n    }\r\n\r\n    protected subscribeToDownloadResponse(result: Observable<HttpResponse<IGeneralTopicContent>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicContent>) => this.onDownloadSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    onDownloadSuccess(resp) {\r\n        if (resp.body) {\r\n            let downloadFilePath = Object.values(resp.body)[0];\r\n            saveAs(downloadFilePath);\r\n        }\r\n    }\r\n\r\n    addContent() {\r\n        this.modalTitleName = \"Add\";\r\n        this.openTopicContentModal();\r\n        this.resetFormValues();\r\n        this.validateContent = false;\r\n        this.selectedContentSource = null;\r\n        this.selectedContentType = null;\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.fileName = \"No file chosen\";\r\n    }\r\n\r\n    saveTopicContent() {\r\n        if (this.topicContentForm.valid) {\r\n            this.validateContent = false;\r\n            let generalTopicContents: IGeneralTopicContent[] = [], content: IGeneralTopicContent = {}, contentDetail = content.content;\r\n            contentDetail = {};\r\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\r\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\r\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\r\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\r\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\r\n            contentDetail.contentType = \"VIDEO\";\r\n            contentDetail.contentSource = \"WEB_URL\";\r\n            //Below codes are Video and document file upload\r\n            // contentDetail.contentType = this.selectedContentType.tag;\r\n            // contentDetail.contentSource = this.selectedContentSource.tag;\r\n            // if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n            //     contentDetail.fileName = this.uploadedFileName;\r\n            //     contentDetail.filePath = this.uploadedFilePath;\r\n            // } else if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n            //Active web url assigning condition\r\n            if (this.checkUrl1 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            } else if (this.checkUrl2 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url2);\r\n                contentDetail.publisher = contentDetail.publisher2;\r\n            } else if (this.checkUrl3 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url3);\r\n                contentDetail.publisher = contentDetail.publisher3;\r\n            } else {\r\n                //If user not at all changed active url, defaultly it takes first url as active\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            }\r\n            // }\r\n            generalTopicContents.push({\r\n                generalTopicId: this.topicId,\r\n                content: contentDetail,\r\n                orderNumber: this.topicContents.length + 1\r\n            })\r\n            this.saveTopicContents(generalTopicContents);\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateContent = true;\r\n        }\r\n    }\r\n\r\n    saveTopicContents(generalTopicContents) {\r\n        this.subscribeToSaveResponse(this.generalTopicContentService.saveTopicContent(generalTopicContents));\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralTopicContent>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicContent>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IGeneralTopicContent>) {\r\n        this.pluginService.alertMessage(\"Topic content created successfully\", \"success\")\r\n        this.getTopicContentList(this.topicId);\r\n        this.checkContentType();\r\n        this.resetFormValues();\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n    openTopicContentModal() {\r\n        this.pluginService.showModalWindow(\"#generalTopicContent\");\r\n    }\r\n\r\n    closeTopicContentModal() {\r\n        this.pluginService.hideModalWindow(\"#generalTopicContent\");\r\n    }\r\n\r\n    closeTopicContentModalWithOutSaving() {\r\n        if (this.modalTitleName === \"View\") {\r\n            this.closeTopicContentModal();\r\n        } else if (this.modalTitleName === \"Add\" || this.modalTitleName === \"Edit\") {\r\n            var localthisObject = this;\r\n            swal({\r\n                title: \"Are you sure to close without saving content ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        localthisObject.checkContentType();\r\n                    } else {\r\n                        localthisObject.closeTopicContentModal();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    checkContentType() {\r\n        this.closeTopicContentModal();\r\n        if (this.selectedContentSource) {\r\n            if (this.selectedContentSource.tag === 'FILE_UPLOAD') {\r\n                if (this.uploadedFilePath) {\r\n                    this.deleteUploadedFile();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteUploadedFile() {\r\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName));\r\n    }\r\n\r\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onError(res));\r\n    }\r\n\r\n    onDeleteFileSuccess(resp) {\r\n        this.fileName = \"No file chosen\";\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.pluginService.alertMessage(\"File deleted successfully\", \"success\");\r\n    }\r\n\r\n    getContent(contentId) {\r\n        let topicContents: IGeneralTopicContent[] = [], contentDetails: any = {};\r\n        topicContents = this.topicContents.filter(item => item.content.id === contentId);\r\n        contentDetails = topicContents[0].content;\r\n        this.patchContentFormfields(contentDetails);\r\n        this.openTopicContentModal()\r\n    }\r\n\r\n    getContentDetails(contentId) {\r\n        let topicContents: IGeneralTopicContent[] = [];\r\n        this.contentDetails = {};\r\n        topicContents = this.topicContents.filter(item => item.content.id === contentId);\r\n        this.contentDetails = topicContents[0];\r\n        if (this.contentDetails.content.webUrl == this.contentDetails.content.url1) {\r\n            this.checkUrl1 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url2) {\r\n            this.checkUrl2 = true;\r\n            this.checkUrl3 = false;\r\n            this.checkUrl1 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url3) {\r\n            this.checkUrl3 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl1 = false;\r\n        } else {\r\n            this.checkUrl1 = false;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        }\r\n        this.openTopicContentModal();\r\n    }\r\n\r\n    protected onContentError(errorMessage: string) {\r\n        this.pluginService.alertMessage(errorMessage, \"error\");\r\n    }\r\n\r\n    patchContentFormfields(contentDetails) {\r\n        this.contentId = contentDetails.id;\r\n        this.topicContentForm.patchValue({\r\n            contentTitle: contentDetails.title,\r\n            contentDescription: contentDetails.description,\r\n            webUrl1: contentDetails.url1,\r\n            publisher1: contentDetails.publisher1,\r\n            webUrl2: contentDetails.url2,\r\n            publisher2: contentDetails.publisher2,\r\n            webUrl3: contentDetails.url3,\r\n            publisher3: contentDetails.publisher3\r\n        })\r\n        // this.selectedContentType = this.contentType.filter(item => item.tag === contentDetails.contentType)[0];\r\n        // this.selectedContentSource = this.contentSource.filter(item => item.tag === contentDetails.contentSource)[0];\r\n        // if (this.selectedContentSource) {\r\n        //     if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n        if (this.checkUrl1 === true) {\r\n            contentDetails.webUrl = contentDetails.url1;\r\n            contentDetails.publisher = contentDetails.publisher1;\r\n        } else if (this.checkUrl2 === true) {\r\n            contentDetails.webUrl = contentDetails.url2;\r\n            contentDetails.publisher = contentDetails.publisher2;\r\n        } else if (this.checkUrl3 === true) {\r\n            contentDetails.webUrl = contentDetails.url3;\r\n            contentDetails.publisher = contentDetails.publisher3;\r\n        } else {\r\n            //If user not at all changed active url, defaultly it takes first url as active\r\n            contentDetails.webUrl = contentDetails.url1;\r\n            contentDetails.publisher = contentDetails.publisher1;\r\n        }\r\n        // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n        //     this.uploadedFileName = contentDetails.fileName;\r\n        //     this.fileName = contentDetails.fileName;\r\n        //     this.uploadedFilePath = contentDetails.filePath;\r\n        // }\r\n        // }\r\n    }\r\n\r\n    viewContent(contentId) {\r\n        this.modalTitleName = \"View\";\r\n        this.getContentDetails(contentId);\r\n    }\r\n\r\n    editContent(contentId) {\r\n        this.modalTitleName = \"Edit\";\r\n        this.getContent(contentId);\r\n    }\r\n\r\n    updateTopicContents() {\r\n        if (this.topicContentForm.valid) {\r\n            let content: IGeneralTopicContent = {}, contentDetail = content.content;\r\n            contentDetail = {};\r\n            contentDetail.id = this.contentId;\r\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\r\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\r\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\r\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\r\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\r\n            contentDetail.contentType = \"VIDEO\";\r\n            contentDetail.contentSource = \"WEB_URL\";\r\n            //Below codes are Video and document file upload\r\n            // contentDetail.contentType = this.selectedContentType.tag;\r\n            // contentDetail.contentSource = this.selectedContentSource.tag;\r\n            // if (this.selectedContentSource) {\r\n            //     //Active web url assigning condition\r\n            //     if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n            if (this.checkUrl1 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            } else if (this.checkUrl2 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url2);\r\n                contentDetail.publisher = contentDetail.publisher2;\r\n            } else if (this.checkUrl3 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url3);\r\n                contentDetail.publisher = contentDetail.publisher3;\r\n            } else {\r\n                //If user not at all changed active url, defaultly it takes first url as active\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            }\r\n            // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n            //     contentDetail.fileName = this.uploadedFileName;\r\n            //     contentDetail.filePath = this.uploadedFilePath;\r\n            // }\r\n            // }\r\n            this.subscribeToUpdateResponse(this.generalTopicContentService.updateContent(contentDetail));\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateContent = true;\r\n        }\r\n    }\r\n\r\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IGeneralTopicContent>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicContent>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateSuccess(res: HttpResponse<IGeneralTopicContent>) {\r\n        this.getTopicContentList(this.topicId);\r\n        this.checkContentType();\r\n        this.resetFormValues();\r\n        this.pluginService.alertMessage(\"Topic content updated successfully\", \"success\")\r\n    }\r\n\r\n    resetTopicContent() {\r\n        this.resetFormValues();\r\n    }\r\n\r\n    checkSelectedContents(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = event.target.id;\r\n        if (checked === true) {\r\n            this.tableAction = false;\r\n            this.contentIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.contentIds.findIndex(item => item === selectedId);\r\n            this.contentIds.splice(index, 1)\r\n        }\r\n        this.contentIds = this.removeDuplicateElements(this.contentIds);\r\n        if (this.contentIds.length <= 0) {\r\n            this.tableAction = true;\r\n        }\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    resetFormValues() {\r\n        this.topicContentForm.reset();\r\n        this.selectedContentSource = null;\r\n        this.selectedContentType = null;\r\n    }\r\n\r\n    resetSelectedTopicContent() {\r\n        this.contentIds = [];\r\n        $(\".checkAll\").prop(\"checked\", false);\r\n        this.tableAction = true;\r\n    }\r\n\r\n    deleteTopicContents() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete content ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.contentIds.length > 0) {\r\n                        localthisObject.subscribeToDeleteResponse(localthisObject.generalTopicContentService.deleteTopicContents(localthisObject.contentIds));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IGeneralTopicContent>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicContent>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IGeneralTopicContent>) {\r\n        this.pluginService.alertMessage(\"Topic content deleted successfully\", \"success\");\r\n        this.getTopicContentList(this.topicId);\r\n        this.tableAction = true;\r\n        this.contentIds = [];\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n\r\n    dragTableContent() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateTopicContentOrder();\r\n            };\r\n\r\n        $(\"#dragTable #dragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n        $(\"#dragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n    }\r\n\r\n    updateTopicContentOrder() {\r\n        this.updateAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#dragTable');\r\n        var rows = table.querySelectorAll('tbody tr');\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var contentId = Number(list[0].title);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.topicContents.length; i++) {\r\n                if (this.topicContents[i].id === contentId) {\r\n                    this.topicContents[i].orderNumber = newOrderNum;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.topicContents);\r\n        })\r\n    }\r\n\r\n    sortArrayByOrderNumber(array: any[]) {\r\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\r\n    }\r\n\r\n    updateTopicContentsWithOrderNumber() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange === true) {\r\n                        localthisObject.subscribeToUpdateTopicContentResponse(localthisObject.generalTopicContentService.updateTopicContents(localthisObject.topicContents));\r\n                        localthisObject.updateAction = true;\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToUpdateTopicContentResponse(result: Observable<HttpResponse<IGeneralTopicContent[]>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicContent[]>) => this.onUpdateTopicContentSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateTopicContentSuccess(res: HttpResponse<IGeneralTopicContent[]>) {\r\n        this.pluginService.alertMessage(\"Topic content order updated successfully\", \"success\");\r\n        this.getTopicContentList(this.topicId);\r\n        this.resetFormValues();\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandNode = !this.enableExpandNode;\r\n        if (this.enableExpandNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n        }\r\n    }\r\n\r\n    getEmbedUrl(url) {\r\n        var pattern = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n        var matches = url.match(pattern);\r\n        if (matches) {\r\n            let embedURL = \"https://www.youtube.com/embed/\" + matches[1];\r\n            return embedURL;\r\n        }\r\n        return url;\r\n    }\r\n}","import { Component, OnInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralConceptAndTopicService } from './general-concept-topic.service';\r\nimport { QuestionBuilderService } from '../question-builder/question-builder.service';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { IGeneralTopicQuestion } from '../shared/model/content/general-topic.question.model';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { FileManagementService } from '../shared/file-management/file-management.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\nimport { CommonLocalStorageService } from '../shared/local-storage/local-storage.service';\r\nimport { ITopicAllDetails } from '../shared/model/content/topic-all-details.model';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./general-topic-question-create.component.html\",\r\n    providers: [GeneralConceptAndTopicService, CoreErrorHandler]\r\n})\r\nexport class GeneralTopicQuestionCreateComponent implements OnInit, AfterViewChecked {\r\n    questionResource: any = {};\r\n    questionCategory: any[] = [];\r\n    questionComplexityLevel: any[] = [];\r\n    answers: any[] = [];\r\n    contentSource: any[] = [];\r\n    questionType: string;\r\n    category: string;\r\n    selectedContentSource: string;\r\n    type: string;\r\n    topicId: number;\r\n    topicName: string;\r\n    complexityLevel: number;\r\n    validateQuestionType: boolean;\r\n    validateQuestion: boolean;\r\n    showSaveQuestion: boolean;\r\n    showAddQuestion: boolean;\r\n    editorSolutionConfig: any;\r\n    updatedHTMLDATA: any;\r\n    solutionContent: any;\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        public pluginService: PluginService,\r\n        public questionBuilderService: QuestionBuilderService,\r\n        public questionService: GeneralConceptAndTopicService,\r\n        public commonService: CommonService,\r\n        public formBuilder: FormBuilder,\r\n        public changedetector: ChangeDetectorRef,\r\n        public fileService: FileManagementService,\r\n        public errorHandler: CoreErrorHandler,\r\n        public localStorageService: CommonLocalStorageService\r\n    ) {\r\n        this.showSaveQuestion = false;\r\n        this.showAddQuestion = false;\r\n        this.validateQuestionType = true;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.editorSolutionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.pluginService.sideMenuToggle();\r\n        this.pluginService.newStepperJs();\r\n        this.topicId = Number(this.activatedRoute.snapshot.params['id']);\r\n        if (this.topicId) {\r\n            this.getTopicName();\r\n        }\r\n        this.getContentSource();\r\n        this.getQuestionCategory();\r\n        this.getQuestionComplexityLevel();\r\n        this.validateQuestionTypeSelectedOrNot();\r\n    }\r\n\r\n    getTopicName() {\r\n        let topicDetail: ITopicAllDetails = {};\r\n        topicDetail = this.localStorageService.retrieveData(\"topicDetails\");\r\n        if (topicDetail.id === this.topicId) {\r\n            this.topicName = topicDetail.title;\r\n        } else {\r\n            this.topicName = \"\";\r\n        }\r\n    }\r\n\r\n    getContentSource() {\r\n        this.commonService.getContentSourceList().subscribe((data: any) => {\r\n            this.contentSource = data;\r\n        });\r\n    }\r\n\r\n    getQuestionCategory() {\r\n        this.commonService.getQuestionCategoryList().subscribe((data: any) => {\r\n            this.questionCategory = data;\r\n        });\r\n    }\r\n\r\n    getQuestionComplexityLevel() {\r\n        this.commonService.getQuestionComplexityLevelList().subscribe((data: any) => {\r\n            this.questionComplexityLevel = data;\r\n        });\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.validateQuestionTypeSelectedOrNot();\r\n        this.changedetector.detectChanges();\r\n    }\r\n\r\n    validateQuestionTypeSelectedOrNot() {\r\n        let currentRoute, splitUrl: any[] = [], lastItem;\r\n        currentRoute = this.router.url;\r\n        splitUrl = currentRoute.split(\"/\");\r\n        lastItem = splitUrl.pop();\r\n        if (lastItem === 'general-topic-question-create') {\r\n            this.validateQuestionType = true;\r\n        } else {\r\n            this.validateQuestionType = false;\r\n        }\r\n    }\r\n\r\n    loadPreviewQuestion() {\r\n        let duplicateChoices: any[] = [], question: any, choices: any[] = [], choiceText, choiceId, answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.questionResource = [];\r\n        this.questionResource = this.questionBuilderService.getQuestionResource;\r\n        this.questionType = this.questionResource.QuestionType;\r\n        answers = this.questionResource.Answers;\r\n        this.onChangeOptionType(this.questionType);\r\n        if (question === \"\" || question === \"undefined\") {\r\n            //\"Question is missing, please fill question detail\";\r\n        } else {\r\n            if (answers.length > 0) {\r\n                if (this.questionType === \"MCQ_SINGLE\" || this.questionType === \"MCQ_MULTIPLE\" || this.questionType === \"MCQ_TRUE_FALSE\") {\r\n                    this.answers = [];\r\n                    duplicateChoices = this.questionResource.Choices;\r\n                    if (duplicateChoices.length > 0) {\r\n                        choices = [];\r\n                        for (let i = 0; i < duplicateChoices.length; i++) {\r\n                            choiceId = duplicateChoices[i].ChoiceId\r\n                            choiceText = duplicateChoices[i].ChoiceText\r\n                            choices.push({\r\n                                \"choiceId\": choiceId,\r\n                                \"choiceText\": choiceText\r\n                            });\r\n                        }\r\n                        for (let j = 0; j < answers.length; j++) {\r\n                            let answerText = choices.find(item => item.choiceId === answers[j]).choiceText;\r\n                            this.answers.push(answerText);\r\n                            answerText = \"\"\r\n                        }\r\n                    }\r\n\r\n                } else if (this.questionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    matrixChoices = [];\r\n                    matrixOptions = [];\r\n                    matrixChoices = this.questionResource.Choices;\r\n                    matrixOptions = this.questionResource.Options;\r\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\r\n                        if (answers.length > 0) {\r\n                            this.answers = [];\r\n                            for (let k = 0; k < answers.length; k++) {\r\n                                this.answers.push({\r\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else if (this.questionType === \"MCQ_MATCH_LIST\") {\r\n                    matrixChoices = [];\r\n                    matrixOptions = [];\r\n                    matrixChoices = this.questionResource.Choices;\r\n                    matrixOptions = this.questionResource.Options;\r\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\r\n                        if (answers.length > 0) {\r\n                            this.answers = [];\r\n                            for (let k = 0; k < answers.length; k++) {\r\n                                this.answers.push({\r\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.showSaveQuestion = true;\r\n                this.updateQuestionResource();\r\n            }\r\n        }\r\n    }\r\n\r\n    questionAlertMsg(str) {\r\n        this.pluginService.alertMessage(str, \"error\");\r\n    }\r\n\r\n    onChangeOptionType(questionType) {\r\n        if (questionType === \"MCQ_SINGLE\" || questionType === \"MCQ_TRUE_FALSE\") {\r\n            this.type = \"radio\";\r\n        } else if (questionType === \"MCQ_MULTIPLE\") {\r\n            this.type = \"checkbox\";\r\n        } else {\r\n            this.type = \"\";\r\n        }\r\n    }\r\n\r\n    onContentSource(sourceName) {\r\n        this.selectedContentSource = sourceName;\r\n    }\r\n\r\n    onSelectQuestionCategory(value) {\r\n        this.category = value;\r\n    }\r\n\r\n    onSelectComplexityLevel(value) {\r\n        this.complexityLevel = value;\r\n    }\r\n\r\n    resetPreviewQuestions() {\r\n        this.questionResource = [];\r\n        this.answers = [];\r\n    }\r\n\r\n    async updateQuestionResource() {\r\n        let choices: any[] = [], options: any[] = [], questionResource: any = {}, choiceText, optionText;\r\n        questionResource = this.questionBuilderService.getQuestionResource;\r\n        if (questionResource.Question) {\r\n            this.updatedHTMLDATA = questionResource.Question;\r\n            await this.updateImageSrc(questionResource.Question);\r\n            questionResource.Question = this.updatedHTMLDATA;\r\n        }\r\n        if (questionResource.Choices.length > 0) {\r\n            for (let i = 0; i < questionResource.Choices.length; i++) {\r\n                this.updatedHTMLDATA = questionResource.Choices[i].ChoiceText;\r\n                await this.updateImageSrc(questionResource.Choices[i].ChoiceText);\r\n                choiceText = this.updatedHTMLDATA;\r\n                choices.push({\r\n                    ChoiceText: choiceText,\r\n                    ChoiceId: questionResource.Choices[i].ChoiceId\r\n                })\r\n            }\r\n            questionResource.Choices = choices;\r\n        }\r\n        if (questionResource.Options.length > 0) {\r\n            for (let i = 0; i < questionResource.Options.length; i++) {\r\n                this.updatedHTMLDATA = questionResource.Options[i].OptionText;\r\n                await this.updateImageSrc(questionResource.Options[i].OptionText);\r\n                optionText = this.updatedHTMLDATA;\r\n                options.push({\r\n                    OptionText: optionText,\r\n                    OptionId: questionResource.Options[i].OptionId\r\n                })\r\n            }\r\n            questionResource.Options = options;\r\n        }\r\n        await this.questionBuilderService.generateQuestionResource(questionResource);\r\n    }\r\n\r\n    async getBase64ImageFromUrl(imageUrl) {\r\n        var res = await fetch(imageUrl);\r\n        var blob = await res.blob();\r\n        return new Promise((resolve, reject) => {\r\n            var reader = new FileReader();\r\n            reader.addEventListener(\"load\", function () {\r\n                resolve(reader.result);\r\n            }, false);\r\n\r\n            reader.onerror = () => {\r\n                return reject(this);\r\n            };\r\n            reader.readAsDataURL(blob);\r\n        })\r\n    }\r\n\r\n    async updateImageSrc(dataSource) {\r\n        let imageTags: any, htmlElement, imageId, imageUrl, index, updatedHTMLData, base64;\r\n        htmlElement = document.createElement(\"div\");\r\n        htmlElement.innerHTML = dataSource;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        if (imageTags.length > 0) {\r\n            for (let i = 0; i < imageTags.length; i++) {\r\n                if (imageTags[i].alt === \"\") {\r\n                    imageId = \"image\" + [i];\r\n                    index = i;\r\n                    imageTags[i].setAttribute(\"id\", imageId); //Set id attribute for image \r\n                    imageUrl = imageTags[i].src; //Get image source \r\n                    base64 = await this.getBase64ImageFromUrl(imageUrl);\r\n                    updatedHTMLData = await this.getAWSFilePath(base64, index, htmlElement);\r\n                }\r\n            }\r\n        } else {\r\n            updatedHTMLData = htmlElement.innerHTML;\r\n        }\r\n        return updatedHTMLData;\r\n    }\r\n\r\n    async getAWSFilePath(base64, index, htmlElement) {\r\n        let block, contentType, encodedData, fileType, imageType, presignedURL, imageTags, updatedHTMLData, updatedFileName;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        block = base64.split(',');\r\n        contentType = block[0].split(':')[1];\r\n        fileType = contentType.split('/')[1];\r\n        imageType = fileType.split(';')[0];\r\n        encodedData = block[1];\r\n        let fileName = new Date().getUTCMilliseconds() + \"quesImage\" + \".\" + imageType;\r\n        if (encodedData) {\r\n            let res: any = await this.fileService.getImagePresignedurls(fileName);\r\n            let map = new Map().set(Object.keys(res)[0], Object.values(res)[0]).set(Object.keys(res)[1], Object.values(res)[1]);\r\n            map.forEach((value: boolean, key: string) => {\r\n                if (key !== \"objectURL\") {\r\n                    presignedURL = value;\r\n                } else if (key === \"objectURL\") {\r\n                    let updatedFilePath: any = value;\r\n                    let fileNameSplit: any;\r\n                    fileNameSplit = updatedFilePath.split(\"/\");\r\n                    updatedFileName = fileNameSplit[fileNameSplit.length - 1];\r\n                    imageTags[index].setAttribute(\"src\", updatedFilePath); //Setting aws filepath in respective image source\r\n                    imageTags[index].setAttribute(\"alt\", updatedFileName); //Passed updatedFileName in alt attribute for delete purpose\r\n                    updatedHTMLData = htmlElement.innerHTML;\r\n                    this.getImagePathUploadedHTML(updatedHTMLData);\r\n                }\r\n            });\r\n            await this.fileService.uploadImagefileAWSS3(presignedURL, encodedData);\r\n        }\r\n    }\r\n\r\n    async getImagePathUploadedHTML(data) {\r\n        this.updatedHTMLDATA = data;\r\n    }\r\n\r\n    async saveQuestion() {\r\n        let questionResource: IGeneralTopicQuestion = {}, jsonConversion, questionDetails, solutionContentJson, updatedSolutionContent, updatedQuestionResource;\r\n        if (this.category) {\r\n            questionResource.category = this.category;\r\n        } else {\r\n            questionResource.category = this.questionCategory[0].tag;\r\n        }\r\n        if (this.complexityLevel) {\r\n            questionResource.complexityLevel = this.complexityLevel;\r\n        } else {\r\n            questionResource.complexityLevel = 1;\r\n        }\r\n        await this.updateImageSrc(this.solutionContent);\r\n        if (this.solutionContent !== \"\") {\r\n            updatedSolutionContent = this.updatedHTMLDATA;\r\n            solutionContentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedSolutionContent));\r\n        } else {\r\n            solutionContentJson = \"\";\r\n        }\r\n        updatedQuestionResource = this.questionBuilderService.getQuestionResource;\r\n        questionResource.marks = updatedQuestionResource.TotalMarks;\r\n        jsonConversion = JSON.stringify(updatedQuestionResource);\r\n        questionDetails = this.questionBuilderService.convertJsonToString(jsonConversion);\r\n        questionResource.contentJson = questionDetails;\r\n        questionResource.generalTopicId = this.topicId;\r\n        questionResource.solutionJson = solutionContentJson;\r\n        this.subscribeToSaveResponse(this.questionService.saveTopicQuestion(questionResource));\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralTopicQuestion>>) {\r\n        result.subscribe((resp: HttpResponse<IGeneralTopicQuestion>) => this.onSaveSuccess(resp), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IGeneralTopicQuestion>) {\r\n        this.pluginService.alertMessage(\"General Topic question created successfully\", \"success\");\r\n        this.showAddQuestion = true;\r\n        this.showSaveQuestion = false;\r\n    }\r\n\r\n    onBack() {\r\n        var localObj = this;\r\n        swal({\r\n            title: \"Are you sure to go previous page ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localObj.router.navigateByUrl('/general-concept-and-topic/general-topic-question');\r\n                    localObj.pluginService.sideMenuToggle();\r\n                }\r\n            });\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    addQuestion() {\r\n        window.location.reload();\r\n        this.questionType = \"\";\r\n        this.showSaveQuestion = true;\r\n    }\r\n}","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralTopicQuestion } from '../shared/model/content/general-topic.question.model';\r\nimport { Router } from '@angular/router';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralConceptAndTopicService } from './general-concept-topic.service';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { QuestionBuilderService } from '../question-builder/question-builder.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { GeneralSubjectService } from '../general-subject/general-subject.service';\r\nimport { moveItemInArray, CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { MatchList } from '../question-builder/matchlist/matchlist.component';\r\nimport { ITopicAllDetails } from '../shared/model/content/topic-all-details.model';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { CommonLocalStorageService } from '../shared/local-storage/local-storage.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./general-topic-question-manage.component.html\",\r\n    providers: [GeneralConceptAndTopicService, CoreErrorHandler]\r\n})\r\nexport class GeneralTopicQuestionManageComponent implements OnInit, AfterViewInit {\r\n    subjects: IGeneralTopicQuestion[];\r\n    subjectTree: IGeneralSubject[] = [];\r\n    questions: any[] = [];\r\n    topicQuestions: any[] = [];\r\n    questionResources: any[] = [];\r\n    selectedAnswer: any[] = [];\r\n    allGrades: any[] = [];\r\n    nodeType: string;\r\n    nodeName: string;\r\n    nodeDescription: string;\r\n    topicId: number;\r\n    selectedSubject: any;\r\n    selectedGeneralSubjectGrade: any;\r\n    enableExpandNode: boolean;\r\n    tableAction: boolean;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        private generalSubjectService: GeneralSubjectService,\r\n        private generalTopicQuestionService: GeneralConceptAndTopicService,\r\n        public pluginService: PluginService,\r\n        public questionBuilderService: QuestionBuilderService,\r\n        public errorHandler: CoreErrorHandler,\r\n        public localStorageService: CommonLocalStorageService\r\n    ) {\r\n        this.enableExpandNode = false;\r\n        this.tableAction = true;\r\n        this.allGrades = [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": 1\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": 2\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"name\": 3\r\n            },\r\n            {\r\n                \"id\": 4,\r\n                \"name\": 4\r\n            },\r\n            {\r\n                \"id\": 5,\r\n                \"name\": 5\r\n            },\r\n            {\r\n                \"id\": 6,\r\n                \"name\": 6\r\n            },\r\n            {\r\n                \"id\": 7,\r\n                \"name\": 7\r\n            },\r\n            {\r\n                \"id\": 8,\r\n                \"name\": 8\r\n            },\r\n            {\r\n                \"id\": 9,\r\n                \"name\": 9\r\n            },\r\n            {\r\n                \"id\": 10,\r\n                \"name\": 10\r\n            },\r\n            {\r\n                \"id\": 11,\r\n                \"name\": 11\r\n            },\r\n            {\r\n                \"id\": 12,\r\n                \"name\": 12\r\n            }\r\n        ];\r\n        this.selectedGeneralSubjectGrade = null;\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    showConceptAndTopicDetails() {\r\n        var localThisObj = this;\r\n        $('#treeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.nodeType = data.node.type;\r\n                    if (localThisObj.nodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.nodeType === \"concept\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else if (localThisObj.nodeType === \"topic\") {\r\n                        localThisObj.topicId = data.node.data.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                        localThisObj.questions = [];\r\n                        localThisObj.getTopicQuestionsList(localThisObj.topicId);\r\n                    } else {\r\n                        localThisObj.nodeType = \"\";\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    loadUpdatedTopicQuestions() {\r\n        this.getTopicQuestionsList(this.topicId);\r\n    }\r\n\r\n    getTopicQuestionsList(topicId: number) {\r\n        this.generalTopicQuestionService.getTopicQuestionList(topicId).subscribe(\r\n            (res: HttpResponse<IGeneralTopicQuestion>) => this.assignResponseToQuestionList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToQuestionList(data: ITopicAllDetails) {\r\n        let questionDetails: any[] = [], question, complexityLevel: string, questionType;\r\n        this.questions = [];\r\n        this.localStorageService.storeData(\"topicDetails\", data);\r\n        this.questionResources = data.questions;\r\n        if (this.questionResources.length > 0) {\r\n            for (let i = 0; i < this.questionResources.length; i++) {\r\n                questionDetails.push(this.questionBuilderService.convertStringToJson(this.questionResources[i].contentJson));\r\n                question = questionDetails[i].Question;\r\n                if (this.questionResources[i].complexityLevel === 1) {\r\n                    complexityLevel = \"Low\";\r\n                } else if (this.questionResources[i].complexityLevel === 2) {\r\n                    complexityLevel = \"Medium\";\r\n                } else if (this.questionResources[i].complexityLevel === 3) {\r\n                    complexityLevel = \"High\";\r\n                } else {\r\n                    complexityLevel = \"\";\r\n                }\r\n                if (questionDetails[i].QuestionType === \"MCQ_SINGLE\") {\r\n                    questionType = \"MCQ single answer\";\r\n                } else if (questionDetails[i].QuestionType === \"MCQ_MULTIPLE\") {\r\n                    questionType = \"MCQ multiple answers\";\r\n                } else if (questionDetails[i].QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    questionType = \"Choice matrix\";\r\n                } else if (questionDetails[i].QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                    questionType = \"MCQ true or false\";\r\n                } else if (questionDetails[i].QuestionType === \"MCQ_MATCH_LIST\") {\r\n                    questionType = \"MCQ match list\";\r\n                } else {\r\n                    questionType = \"\"\r\n                }\r\n                this.questions.push({\r\n                    id: this.questionResources[i].id,\r\n                    complexityLevel: complexityLevel,\r\n                    questionCategory: this.titleCapitalize(this.questionResources[i].category),\r\n                    questionText: question,\r\n                    questionType: questionType\r\n                })\r\n            }\r\n        }\r\n        this.tableAction = true;\r\n    }\r\n\r\n    titleCapitalize(word: string) {\r\n        if (!word) return word;\r\n        return word[0].toUpperCase() + word.substr(1).toLowerCase();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.showConceptAndTopicDetails();\r\n    }\r\n\r\n    onGeneralSubjectGradeChange() {\r\n        if (this.selectedGeneralSubjectGrade) {\r\n            let grade = this.selectedGeneralSubjectGrade.name;\r\n            let status = ACTIVE;\r\n            this.selectedSubject = null;\r\n            this.generalSubjectService\r\n                .getSubjectListByGrade(grade, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.subjects = [];\r\n    }\r\n\r\n    assignGeneralSubjectList(data: IGeneralSubject[]) {\r\n        this.subjects = [];\r\n        this.subjects = data;\r\n    }\r\n\r\n    loadSubjectTree() {\r\n        if (!this.selectedSubject && !this.selectedGeneralSubjectGrade) {\r\n            this.selectedSubject = null;\r\n            this.selectedGeneralSubjectGrade = null;\r\n            this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n        } else {\r\n            this.subjectTree = [];\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n            let subjectId = this.selectedSubject.id;\r\n            if (subjectId) {\r\n                this.generalSubjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n                    (res: HttpResponse<IGeneralSubject[]>) => this.assignResponsetoTree(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    assignResponsetoTree(subject: IGeneralSubject[]) {\r\n        this.subjectTree = [];\r\n        if (subject.length > 0) {\r\n            for (let i = 0; i < subject.length; i++) {\r\n                if (subject[i].data.questionsCount === 0) {\r\n                    subject[i].icon = \"fa fa-times text-danger\";\r\n                }\r\n                this.subjectTree.push(subject[i]);\r\n            }\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n        }\r\n        this.nodeType = \"\";\r\n        this.enableExpandNode = false;\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    deleteTopicQuestions(questionId) {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete topic question ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    localthisObject.subscribeToDeleteResponse(localthisObject.generalTopicQuestionService.deleteTopicQuestion(questionId));\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IGeneralTopicQuestion>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralTopicQuestion>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IGeneralTopicQuestion>) {\r\n        this.pluginService.alertMessage(\"Topic question deleted successfully\", \"success\");\r\n        this.questions = [];\r\n        this.getTopicQuestionsList(this.topicId);\r\n        this.tableAction = true;\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandNode = !this.enableExpandNode;\r\n        if (this.enableExpandNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n        }\r\n    }\r\n\r\n    openSimulateQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#simulateQuestionModal\");\r\n        this.simulateTopicQuestionList();\r\n    }\r\n\r\n    closeSimulateQuestionModal() {\r\n        this.pluginService.hideModalWindow(\"#simulateQuestionModal\");\r\n    }\r\n\r\n    openPreviewQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#previewQuestionModal\");\r\n        this.previewTopicQuestionList();\r\n    }\r\n\r\n    closePreviewQuestionModal() {\r\n        this.pluginService.hideModalWindow(\"#previewQuestionModal\");\r\n    }\r\n\r\n    protected previewTopicQuestionList() {\r\n        let questionDetails: any, options: any[] = [], answers: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < this.questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(this.questionResources[i].contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                answers = []; choices = [];\r\n                options = questionDetails.Options;\r\n                choices = questionDetails.Choices;\r\n                for (let k = 0; k < questionDetails.Answers.length; k++) {\r\n                    answers.push({\r\n                        choiceName: choices.find(item => item.ChoiceId === questionDetails.Answers[k].ChoiceId).ChoiceText,\r\n                        optionName: options.find(item => item.OptionId === questionDetails.Answers[k].OptionId).OptionText\r\n                    })\r\n                }\r\n            } else if (questionDetails.QuestionType === \"MCQ_SINGLE\" || questionDetails.QuestionType === \"MCQ_MULTIPLE\" || questionDetails.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                options = []; answers = [];\r\n                for (let j = 0; j < questionDetails.Answers.length; j++) {\r\n                    let answerText = questionDetails.Choices.find(item => item.ChoiceId === questionDetails.Answers[j]).ChoiceText;\r\n                    answers.push(answerText);\r\n                    answerText = \"\"\r\n                }\r\n            }\r\n            this.topicQuestions.push({\r\n                id: this.questionResources[i].id,\r\n                question: questionDetails.Question,\r\n                questionType: questionDetails.QuestionType,\r\n                generalTopicId: this.questionResources[i].generalTopicId,\r\n                questionId: this.questionResources[i].id,\r\n                choices: questionDetails.Choices,\r\n                options: options,\r\n                answers: answers\r\n            })\r\n        }\r\n    }\r\n\r\n    protected simulateTopicQuestionList() {\r\n        let questionDetails: MatchList, options: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < this.questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(this.questionResources[i].contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                options = this.shuffleArray(questionDetails.Options);\r\n                choices = questionDetails.Choices;\r\n            } else {\r\n                options = [];\r\n                choices = this.shuffleArray(questionDetails.Choices)\r\n            }\r\n            this.topicQuestions.push({\r\n                id: this.questionResources[i].id,\r\n                questionType: questionDetails.QuestionType,\r\n                question: questionDetails.Question,\r\n                generalTopicId: this.questionResources[i].generalTopicId,\r\n                questionId: this.questionResources[i].id,\r\n                choices: choices,\r\n                options: options,\r\n                answers: questionDetails.Answers,\r\n                checkAnswer: \"\"\r\n            })\r\n        }\r\n    }\r\n\r\n    shuffleArray(array) {\r\n        array.sort(() => Math.random() - 0.5);\r\n        return array\r\n    }\r\n\r\n    public onSelectMCQSingleAnswer(questionId, choiceId) {\r\n        let topicIndex: number;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        for (let i = 0; i < this.topicQuestions[topicIndex].answers.length; i++) {\r\n            if (this.topicQuestions[topicIndex].answers[i] === choiceId) {\r\n                this.topicQuestions[topicIndex].checkAnswer = \"Correct\"\r\n            } else {\r\n                this.topicQuestions[topicIndex].checkAnswer = \"Wrong\"\r\n            }\r\n        }\r\n    }\r\n\r\n    public onSelectMCQMultipleAnswer(questionId, choiceId, event) {\r\n        let topicIndex: number, checked: boolean, choiceIndex: number;\r\n        checked = event.target.checked;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (checked === true) {\r\n            this.selectedAnswer.push(choiceId);\r\n        } else {\r\n            choiceIndex = this.selectedAnswer.findIndex(item => item === choiceId);\r\n            this.selectedAnswer.splice(choiceIndex, 1);\r\n        }\r\n        this.checkMultipleAnswer(topicIndex);\r\n    }\r\n\r\n    checkMultipleAnswer(index) {\r\n        let answers: any[] = this.topicQuestions[index].answers.sort();\r\n        let selectedAnswers: any[] = this.selectedAnswer.sort();\r\n        let duplicateAnswers: any[] = [];\r\n        for (let i = 0; i < answers.length; i++) {\r\n            for (let j = 0; j < selectedAnswers.length; j++) {\r\n                if (answers[i] === selectedAnswers[j]) {\r\n                    duplicateAnswers.push(selectedAnswers[j]);\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\r\n                }\r\n            }\r\n        }\r\n        if (duplicateAnswers.length > 0) {\r\n            if (duplicateAnswers.length === answers.length) {\r\n                if (JSON.stringify(duplicateAnswers.sort()) === JSON.stringify(selectedAnswers)) {\r\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                }\r\n            } else {\r\n                this.topicQuestions[index].checkAnswer = \"Partial\"\r\n            }\r\n        }\r\n    }\r\n\r\n    public onSelectChoiceMatrixAnswer(questionId, choiceId, optionId) {\r\n        let topicIndex: number, index: number;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (this.selectedAnswer.length === 0) {\r\n            this.selectedAnswer = [];\r\n        }\r\n        this.selectedAnswer.push({\r\n            ChoiceId: choiceId,\r\n            OptionId: optionId\r\n        });\r\n        if (this.selectedAnswer.length > 1) {\r\n            for (let i = 0; i < this.selectedAnswer.length; i++) {\r\n                for (let j = i + 1; j < this.selectedAnswer.length; j++) {\r\n                    if (this.selectedAnswer[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\r\n                        index = this.selectedAnswer.findIndex(item => item.ChoiceId === this.selectedAnswer[i].ChoiceId);\r\n                        this.selectedAnswer.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.checkMatrixAndMatchListAnswers(topicIndex);\r\n    }\r\n\r\n    checkAnswerStatus(questionId) {\r\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (this.topicQuestions[topicIndex].checkAnswer === \"Correct\") {\r\n            this.pluginService.alertMessage(\"Good keep going...Correct answer\", \"success\");\r\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Partial\") {\r\n            this.pluginService.alertMessage(\"This is partially correct\", \"warning\");\r\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Wrong\") {\r\n            this.pluginService.alertMessage(\"Oops..! this is wrong\", \"error\");\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please select a answer and check it\", \"error\");\r\n        }\r\n    }\r\n\r\n    updatedDropList(questionId, event: CdkDragDrop<string[]>) {\r\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(\r\n                event.container.data,\r\n                event.previousIndex,\r\n                event.currentIndex\r\n            );\r\n            this.selectedAnswer = [];\r\n            for (let i = 0; i < this.topicQuestions[topicIndex].choices.length; i++) {\r\n                for (let j = 0; j < this.topicQuestions[topicIndex].options.length; j++) {\r\n                    if (i === j) {\r\n                        this.selectedAnswer.push({\r\n                            ChoiceId: this.topicQuestions[topicIndex].choices[i].ChoiceId,\r\n                            OptionId: this.topicQuestions[topicIndex].options[j].OptionId\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            this.checkMatrixAndMatchListAnswers(topicIndex);\r\n        }\r\n    }\r\n\r\n    checkMatrixAndMatchListAnswers(index) {\r\n        let sortArr1, sortArr2, duplicateAnswers: any[] = [];\r\n        for (let i = 0; i < this.topicQuestions[index].answers.length; i++) {\r\n            for (let j = 0; j < this.selectedAnswer.length; j++) {\r\n                if (this.topicQuestions[index].answers[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\r\n                    if (this.topicQuestions[index].answers[i].OptionId === this.selectedAnswer[j].OptionId) {\r\n                        duplicateAnswers.push({\r\n                            ChoiceId: this.selectedAnswer[j].ChoiceId,\r\n                            OptionId: this.selectedAnswer[j].OptionId\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\r\n                }\r\n            }\r\n        }\r\n        if (duplicateAnswers.length > 0) {\r\n            sortArr1 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\r\n            const sortedArray1: any[] = duplicateAnswers.sort(sortArr1);\r\n            sortArr2 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\r\n            const sortedArray2: any[] = this.selectedAnswer.sort(sortArr2);\r\n            if (duplicateAnswers.length === this.topicQuestions[index].answers.length) {\r\n                if (JSON.stringify(sortedArray1) === JSON.stringify(sortedArray2)) {\r\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                }\r\n            } else {\r\n                this.topicQuestions[index].checkAnswer = \"Partial\"\r\n            }\r\n        }\r\n    }\r\n\r\n    previousQuestion() {\r\n        this.selectedAnswer = [];\r\n    }\r\n\r\n    nextQuestion() {\r\n        this.selectedAnswer = [];\r\n    }\r\n}","export * from \"./general-topic-content-manage.component\";\r\nexport * from \"./general-topic-question-manage.component\";\r\nexport * from \"./general-topic-question-create.component\";\r\nexport * from \"./general-concept-topic.service\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { generalSubject, generalSubjectSearch, generalSubjectTree } from '../shared/constants/service.constants';\r\n\r\ntype EntityResponseType = HttpResponse<IGeneralSubject>;\r\ntype EntityArrayResponseType = HttpResponse<IGeneralSubject[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectService {\r\n  public generalSubjectResourceUrl = environment.API_URL + generalSubject;\r\n  public generalSubjectSearchResourceUrl = environment.API_URL + generalSubjectSearch;\r\n  public generalSubjectResourceUrlWithTree = environment.API_URL + generalSubjectTree;\r\n\r\n  constructor(protected http: HttpClient) { }\r\n\r\n  getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\r\n    return this.http.get<IGeneralSubject>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectSearchList(): Observable<EntityArrayResponseType> {\r\n    var reqJSON = {\r\n      \"status\": ACTIVE\r\n    };\r\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectListByGrade(grade, status): Observable<EntityArrayResponseType> {\r\n    var reqJSON = {\r\n      \"grade\": grade,\r\n      \"status\": status\r\n    };\r\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\r\n    return this.http.get<IGeneralSubject[]>(`${this.generalSubjectResourceUrlWithTree}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  updateGeneralSubjectStatus(generalSubject: IGeneralSubject): Observable<EntityResponseType> {\r\n    return this.http.put<IGeneralSubject>(this.generalSubjectResourceUrl, generalSubject, { observe: 'response' });\r\n  }\r\n\r\n  getAllSubjects(req?: any): Observable<EntityArrayResponseType> {\r\n    const options = createRequestOption(req);\r\n    return this.http.get<IGeneralSubject[]>(this.generalSubjectResourceUrl, { params: options, observe: 'response' });\r\n  }\r\n\r\n  delete(id: number): Observable<HttpResponse<any>> {\r\n    return this.http.delete<any>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  saveGeneralSubject(generalSubject: IGeneralSubject[]): Observable<EntityResponseType> {\r\n    return this.http.post<IGeneralSubject>(this.generalSubjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { IOrganisation } from '../shared/model/common/organisation.model';\r\nimport { organisation, organisationCourseSearch, organisationDiscount, organisationLicense, invoiceSearch } from '../shared/constants/service.constants';\r\nimport { IOrganisationCourses } from '../shared/model/common/organisation-courses.model';\r\n\r\ntype EntityResponseType = HttpResponse<IOrganisation>;\r\ntype EntityArrayResponseType = HttpResponse<IOrganisation[]>;\r\ntype orgCourseArrayResponseType = HttpResponse<IOrganisationCourses[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class OrganisationService {\r\n    public organisationResourceUrl = environment.API_URL + organisation;\r\n    public organisationCoursesSearchResourceUrl = environment.API_URL + organisationCourseSearch;\r\n    public organisationDiscountResourceUrl = environment.API_URL + organisationDiscount;\r\n    public organisationLicensesResourceUrl = environment.API_URL + organisationLicense;\r\n    public invoiceSearchUrl = environment.API_URL + invoiceSearch;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    createOrganisation(organisation: IOrganisation): Observable<EntityResponseType> {\r\n        return this.http.post<IOrganisation>(this.organisationResourceUrl, organisation, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateOrganisation(organisation: IOrganisation): Observable<EntityResponseType> {\r\n        return this.http.put<IOrganisation>(this.organisationResourceUrl, organisation, { observe: 'response' });\r\n    }\r\n\r\n    getOrganisationByOrganisationId(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<IOrganisation>(`${this.organisationResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getOrganisations(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        return this.http.get<IOrganisation[]>(this.organisationResourceUrl, { params: options, observe: 'response' });\r\n    }\r\n\r\n    deleteOrganisation(id: number): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.organisationResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getOrgCoursesSearch(organisationId, req?: any): Observable<orgCourseArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"organisationId\": organisationId\r\n        };\r\n        return this.http.post<IOrganisationCourses[]>(this.organisationCoursesSearchResourceUrl, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    updateOrganisationDiscount(orgDiscount: any[]): Observable<any> {\r\n        return this.http.put<any>(this.organisationDiscountResourceUrl, orgDiscount, { observe: 'response' });\r\n    }\r\n\r\n    addLicenses(orgLicenses: any[]): Observable<any> {\r\n        return this.http.put<any>(this.organisationLicensesResourceUrl, orgLicenses, { observe: 'response' });\r\n    }\r\n\r\n    getInvoiceSearch(organisationId, req?: any): Observable<orgCourseArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"purchasedByOrganisationId\": organisationId\r\n        };\r\n        return this.http.post<IOrganisationCourses[]>(this.invoiceSearchUrl, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n}\r\n","export default \".choice--group {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 20px; }\\n\\n.choice--answer {\\n  width: 5%; }\\n\\n.choice--editor {\\n  width: 95%; }\\n\\n.choice--delete {\\n  width: 5%;\\n  text-align: right;\\n  font-size: 16px; }\\n\\n.choice--delete i {\\n    cursor: pointer; }\\n\\n.actions {\\n  text-align: center; }\\n\\n.choice-container, .option-container {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 10px; }\\n\\n.choice-container .item, .option-container .item {\\n    width: 45%; }\\n\\n.choice-container {\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column; }\\n\\n.option--container.zone {\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n          flex-direction: row;\\n  flex-wrap: wrap; }\\n\\n.zone {\\n  border: 1px solid #eeeeee;\\n  padding: 10px 5px;\\n  margin-bottom: 10px;\\n  min-height: 50px;\\n  border: 1px dashed #e8e6e6; }\\n\\n.zone .option--container {\\n    justify-content: space-around;\\n    min-width: 50px; }\\n\\n.choice--label {\\n  min-height: 50px;\\n  border: 1px solid #eee;\\n  padding: 10px 5px;\\n  width: 95%; }\\n\\n.option--container .option--item {\\n  min-height: 50px;\\n  border: 1px solid #eee;\\n  padding: 10px 5px;\\n  background-color: #eaeaea; }\\n\\n.choice--group {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  margin-bottom: 20px;\\n  width: 100%; }\\n\\n.choice--editor {\\n  width: 95%; }\\n\\n.choice--delete {\\n  width: 5%;\\n  text-align: right;\\n  font-size: 16px; }\\n\\n.choice--delete i {\\n    cursor: pointer; }\\n\\n.dropzone {\\n  outline: solid 1px;\\n  height: 50px;\\n  height: 50px; }\\n\\n.actions {\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcXVlc3Rpb24tYnVpbGRlci9jbG96ZS9kcmFnLW4tZHJvcC9DOlxcVXNlcnNcXEluc2lnaHR1c1xcRGVza3RvcFxcVGVhY2hlclxcQWRtaW5cXGNlYWRtaW4vc3JjXFxhcHBcXHF1ZXN0aW9uLWJ1aWxkZXJcXGNsb3plXFxkcmFnLW4tZHJvcFxcZHJhZy1uLWRyb3AuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBYTtFQUFiLGFBQWE7RUFDYix5QkFBbUI7VUFBbkIsbUJBQW1CO0VBQ25CLHlCQUE4QjtVQUE5Qiw4QkFBOEI7RUFDOUIsbUJBQW1CLEVBQUE7O0FBR3ZCO0VBQ0ksU0FBUyxFQUFBOztBQUdiO0VBQ1EsVUFBVSxFQUFBOztBQUdsQjtFQUNJLFNBQVM7RUFDVCxpQkFBaUI7RUFDakIsZUFBZSxFQUFBOztBQUhuQjtJQUtRLGVBQWUsRUFBQTs7QUFJdkI7RUFDSSxrQkFBa0IsRUFBQTs7QUFJdEI7RUFDSSxvQkFBYTtFQUFiLGFBQWE7RUFDYix5QkFBOEI7VUFBOUIsOEJBQThCO0VBQzlCLG1CQUFtQixFQUFBOztBQUh2QjtJQUtRLFVBQVUsRUFBQTs7QUFJbEI7RUFDSSw0QkFBc0I7RUFBdEIsNkJBQXNCO1VBQXRCLHNCQUFzQixFQUFBOztBQUkxQjtFQUNJLG9CQUFhO0VBQWIsYUFBYTtFQUNiLDZCQUE2QjtFQUM3Qiw4QkFBbUI7RUFBbkIsNkJBQW1CO1VBQW5CLG1CQUFtQjtFQUNuQixlQUFlLEVBQUE7O0FBSW5CO0VBQ0kseUJBQXlCO0VBQ3pCLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLDBCQUEwQixFQUFBOztBQUw5QjtJQU9RLDZCQUE2QjtJQUM3QixlQUFlLEVBQUE7O0FBSXZCO0VBQ0ksZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixpQkFBaUI7RUFDakIsVUFBVSxFQUFBOztBQUdkO0VBRVEsZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixpQkFBaUI7RUFDakIseUJBQXlCLEVBQUE7O0FBSWpDO0VBQ0ksb0JBQWE7RUFBYixhQUFhO0VBQ2IseUJBQW1CO1VBQW5CLG1CQUFtQjtFQUNuQix5QkFBOEI7VUFBOUIsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixXQUFXLEVBQUE7O0FBSWY7RUFDSSxVQUFVLEVBQUE7O0FBR2Q7RUFDSSxTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLGVBQWUsRUFBQTs7QUFIbkI7SUFLUSxlQUFlLEVBQUE7O0FBSXZCO0VBQ0ksa0JBQWtCO0VBQUUsWUFBWTtFQUNoQyxZQUFZLEVBQUE7O0FBSWhCO0VBQ0ksa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9xdWVzdGlvbi1idWlsZGVyL2Nsb3plL2RyYWctbi1kcm9wL2RyYWctbi1kcm9wLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNob2ljZS0tZ3JvdXAge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uY2hvaWNlLS1hbnN3ZXIge1xyXG4gICAgd2lkdGg6IDUlO1xyXG59XHJcblxyXG4uY2hvaWNlLS1lZGl0b3Ige1xyXG4gICAgICAgIHdpZHRoOiA5NSU7XHJcbn1cclxuXHJcbi5jaG9pY2UtLWRlbGV0ZSB7XHJcbiAgICB3aWR0aDogNSU7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGkge1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxufVxyXG5cclxuLmFjdGlvbnMge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5cclxuLmNob2ljZS1jb250YWluZXIsIC5vcHRpb24tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgLml0ZW0ge1xyXG4gICAgICAgIHdpZHRoOiA0NSU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5jaG9pY2UtY29udGFpbmVyIHtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcblxyXG4ub3B0aW9uLS1jb250YWluZXIuem9uZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG5cclxuLnpvbmUge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VlZWVlZTtcclxuICAgIHBhZGRpbmc6IDEwcHggNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICBib3JkZXI6IDFweCBkYXNoZWQgI2U4ZTZlNjtcclxuICAgIC5vcHRpb24tLWNvbnRhaW5lciB7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICAgICAgbWluLXdpZHRoOiA1MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uY2hvaWNlLS1sYWJlbCB7XHJcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcclxuICAgIHBhZGRpbmc6IDEwcHggNXB4O1xyXG4gICAgd2lkdGg6IDk1JTtcclxufVxyXG5cclxuLm9wdGlvbi0tY29udGFpbmVyIHtcclxuICAgIC5vcHRpb24tLWl0ZW0ge1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4IDVweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFlYWVhO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY2hvaWNlLS1ncm91cCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuXHJcbi5jaG9pY2UtLWVkaXRvciB7XHJcbiAgICB3aWR0aDogOTUlO1xyXG59XHJcblxyXG4uY2hvaWNlLS1kZWxldGUge1xyXG4gICAgd2lkdGg6IDUlO1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBpIHtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5kcm9wem9uZSB7XHJcbiAgICBvdXRsaW5lOiBzb2xpZCAxcHg7IGhlaWdodDogNTBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxufVxyXG5cclxuXHJcbi5hY3Rpb25zIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufSJdfQ== */\"","import { Component, OnInit, ElementRef } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\nexport class ClozeDrag {\r\n    QuestionId: string;\r\n    Question: string;\r\n    Options: Option[];\r\n    Answers: Answer[];\r\n}\r\n\r\nexport class Answer {\r\n    OptionId: string;\r\n    ZoneId: number;\r\n\r\n    constructor(ZoneId, OptionId) {\r\n        this.ZoneId = ZoneId;\r\n        this.OptionId = OptionId;\r\n    }\r\n}\r\n\r\n\r\nexport class Option {\r\n    OptionId: string;\r\n    OptionText: string;\r\n\r\n    constructor(OptionId, OptionText) {\r\n        this.OptionId = OptionId;\r\n        this.OptionText = OptionText;\r\n    }\r\n}\r\n\r\ndeclare var $: any;\r\n\r\n@Component({\r\n    templateUrl: \"./drag-n-drop.component.html\",\r\n    styleUrls: [\"./drag-n-drop.component.scss\"]\r\n})\r\nexport class DragAndDropComponent implements OnInit {\r\n    viewmodel: ClozeDrag;\r\n\r\n    constructor(private router: Router, private activatedRoute: ActivatedRoute,\r\n        private elementRef: ElementRef) {\r\n        this.viewmodel = new ClozeDrag();\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.activatedRoute.snapshot.data.question) {\r\n            this.viewmodel = this.activatedRoute.snapshot.data.question;\r\n            this.resetDropState();\r\n        }\r\n    }\r\n    ngAfterViewInit() {\r\n        var containers = $(this.elementRef.nativeElement).find(\".drag--container\");\r\n        //const droppable = new Droppable(containers.get(0), {\r\n        //     draggable: \".option--item\",\r\n        //     mirror: {\r\n        //         constrainDimensions: false,\r\n        //         cursorOffsetX: 1,\r\n        //         cursorOffsetY: 1\r\n        //     },\r\n        //     dropzone: \".zone\"\r\n        // });\r\n\r\n        // droppable.on(\"droppable:dropped\", this.onDropped.bind(this));\r\n\r\n        // droppable.on(\"droppable:stop\", (args) => {\r\n        //     let dropzone = $(args.data.dropzone);\r\n        //     if (dropzone.is(\".options\")) dropzone.removeClass(\"draggable-dropzone--occupied\");\r\n        // });\r\n    }\r\n\r\n    onDropped(args) {\r\n        /* If the dropzone is Zone(X) then do nothing... */\r\n        if (!$(args.data.dropzone).is(\".cloze--dropzone\")) return;\r\n        //this.viewmodel.Answers = [];\r\n        Promise.resolve().then(() => {\r\n            let previewpanel = $(this.elementRef.nativeElement).find(\".preview-panel\");\r\n            previewpanel.find(\".zone\").map((index: number, item: any) => {\r\n                let zoneId = index + 1;\r\n                let optionId = \"\";\r\n                item = $(item);\r\n                if (item.children().length > 0) {\r\n                    optionId = item.find(\".option--item\").data(\"option-id\");\r\n                }\r\n                this.viewmodel.Answers.push(new Answer(zoneId, optionId));\r\n            });\r\n        })\r\n    }\r\n\r\n    deleteOption(OptionId) {\r\n        this.viewmodel.Options = this.viewmodel.Options.filter((item) => {\r\n            return item.OptionId !== OptionId;\r\n        })\r\n    }\r\n\r\n    addOption() {\r\n        this.viewmodel.Options = this.viewmodel.Options || [];\r\n        this.viewmodel.Options.push(new Option(new Date().getUTCMilliseconds(), \"\"));\r\n    }\r\n\r\n    saveQuestion() {\r\n        // console.log(this.viewmodel);\r\n    }\r\n\r\n    cancel() {\r\n        this.router.navigateByUrl(\"assessment/choose\");\r\n    }\r\n\r\n    /**\r\n     * This method should be invoked only once after the component is loaded\r\n     */\r\n    resetDropState() {\r\n        // this method will restore the state of the dropped item\r\n        Promise.resolve().then(() => {\r\n            if (this.viewmodel.Answers && this.viewmodel.Answers.length > 0) {\r\n                let rootElement = $(this.elementRef.nativeElement);\r\n                let dropPanel = rootElement.find(\".preview-panel\");\r\n                let optionPool = rootElement.find(\".option--container\");\r\n                for (var i = 0; i < this.viewmodel.Answers.length; i++) {\r\n                    let zone = dropPanel.find(`.zone:nth-child(${this.viewmodel.Answers[i].ZoneId})`);\r\n                    let droppable = optionPool.find(`[data-option-id='${this.viewmodel.Answers[i].OptionId}']`);\r\n                    zone.append(droppable).addClass(\"draggable-dropzone--occupied\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n}","import { Directive, Input, OnChanges, SimpleChanges, ElementRef, AfterViewInit, OnInit } from '@angular/core';\r\n\r\ndeclare var $: any;\r\n\r\n\r\n@Directive({\r\n    selector: \"[questionPreview]\"\r\n})\r\nexport class QuestionPreviewDirective implements OnChanges, OnInit {\r\n\r\n    @Input(\"questionPreview\")\r\n    question: string;\r\n\r\n    rootElement: any;\r\n\r\n    constructor(private elementRef: ElementRef) { }\r\n\r\n\r\n    ngOnInit() {\r\n        this.rootElement = $(this.elementRef.nativeElement);\r\n    }\r\n\r\n    ngOnChanges(change: SimpleChanges) {\r\n        this.rootElement = $(this.elementRef.nativeElement);\r\n        if (this.rootElement) {\r\n            let preview = this.question ?\r\n                this.question.replace(/{{response}}/g, '<span class=\"cloze--dropzone zone\"></span>') : \"\";\r\n            this.rootElement.html(preview);\r\n        }\r\n    }\r\n\r\n}","import { Component, OnInit, AfterViewChecked, Input, ChangeDetectorRef } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { QuestionBuilderService } from '../question-builder.service';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\n\r\ndeclare var $: any;\r\n\r\nexport class MatchList {\r\n    QuestionId: string;\r\n    Question: string;\r\n    QuestionType: string;\r\n    Choices: Choice[] = [];\r\n    Options: Option[] = [];\r\n    Answers: Answer[] = [];\r\n    TotalMarks: number;\r\n}\r\n\r\nexport class Answer {\r\n    ChoiceId: string;\r\n    OptionId: string;\r\n\r\n    constructor(ChoiceId, OptionId) {\r\n        this.ChoiceId = ChoiceId;\r\n        this.OptionId = OptionId;\r\n    }\r\n}\r\n\r\nexport class Choice {\r\n    ChoiceId: string;\r\n    ChoiceText: string;\r\n\r\n    constructor(ChoiceId, ChoiceText) {\r\n        this.ChoiceId = ChoiceId;\r\n        this.ChoiceText = ChoiceText;\r\n    }\r\n}\r\n\r\nexport class Option {\r\n    OptionId: string;\r\n    OptionText: string;\r\n\r\n    constructor(OptionId, OptionText) {\r\n        this.OptionId = OptionId;\r\n        this.OptionText = OptionText;\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: \"match-list\",\r\n    templateUrl: \"./matchlist.component.html\"\r\n})\r\nexport class MatchlistComponent implements OnInit, AfterViewChecked {\r\n    viewModel: MatchList;\r\n    startingZone: any;\r\n    answers: any[] = []\r\n    @Input() questionResource: any = {};\r\n    checkDrag: boolean = false;\r\n    editorQuestionConfig: any;\r\n    editorChoiceConfig: any;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        public questionService: QuestionBuilderService,\r\n        public pluginService: PluginService,\r\n        private changedetector: ChangeDetectorRef) {\r\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\r\n        this.viewModel = new MatchList();\r\n        this.route.data.subscribe((args: any) => {\r\n            if (args.type === \"MCQ_MATCH_LIST\") {\r\n                this.viewModel.QuestionType = args.type;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.route.snapshot.data.question) {\r\n            this.viewModel = this.route.snapshot.data.question;\r\n            //this.resetDropState();\r\n        }\r\n        this.getCurrentRouteInfo();\r\n    }\r\n\r\n    getCurrentRouteInfo() {\r\n        let splitUrl, routeName;\r\n        splitUrl = this.router.url.split(\"/\");\r\n        routeName = splitUrl.pop();\r\n        if (routeName === \"topic-question-edit\" || routeName === \"general-topic-question-edit\") {\r\n            this.viewModel = this.questionResource;\r\n            this.showMatchListAnswers();\r\n            this.checkDrag = true;\r\n        }\r\n    }\r\n\r\n    updatedDropList(event: CdkDragDrop<string[]>) {\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(\r\n                event.container.data,\r\n                event.previousIndex,\r\n                event.currentIndex\r\n            );\r\n            this.viewModel.Answers = [];\r\n            for (let i = 0; i < this.viewModel.Choices.length; i++) {\r\n                for (let j = 0; j < this.viewModel.Options.length; j++) {\r\n                    if (i === j) {\r\n                        this.viewModel.Answers.push({\r\n                            ChoiceId: this.viewModel.Choices[i].ChoiceId,\r\n                            OptionId: this.viewModel.Options[j].OptionId\r\n                        });\r\n                        this.showMatchListAnswers();\r\n                    }\r\n                }\r\n            }\r\n            this.viewModel.TotalMarks = this.viewModel.Answers.length;\r\n        }\r\n    }\r\n\r\n    public showMatchListAnswers() {\r\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.answers = [];\r\n        matrixChoices = [];\r\n        matrixOptions = [];\r\n        answers = this.viewModel.Answers;\r\n        matrixChoices = this.viewModel.Choices;\r\n        matrixOptions = this.viewModel.Options;\r\n        for (let k = 0; k < answers.length; k++) {\r\n            this.answers.push({\r\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n            })\r\n        }\r\n        this.checkDrag = false;\r\n    }\r\n\r\n    addChoice() {\r\n        if (this.viewModel.Choices.length > 0) {\r\n            this.viewModel.Choices = [...this.viewModel.Choices,\r\n            new Choice(new Date().getUTCMilliseconds(), \"\")];\r\n        } else if (this.viewModel.Choices.length === 0) {\r\n            this.viewModel.Choices = [];\r\n            this.viewModel.Choices = [...this.viewModel.Choices,\r\n            new Choice(new Date().getUTCMilliseconds(), \"\")];\r\n        } else {\r\n            this.viewModel.Choices = [];\r\n        }\r\n    }\r\n\r\n    addOption() {\r\n        if (this.viewModel.Options.length > 0) {\r\n            this.viewModel.Options = [...this.viewModel.Options,\r\n            new Option(new Date().getUTCMilliseconds(), \"\")];\r\n        } else if (this.viewModel.Options.length === 0) {\r\n            this.viewModel.Options = [...this.viewModel.Options,\r\n            new Option(new Date().getUTCMilliseconds(), \"\")];\r\n        } else {\r\n            this.viewModel.Options = [];\r\n        }\r\n    }\r\n\r\n    deleteChoice(choiceId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n            this.viewModel.Choices.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    deleteOption(optionId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\r\n            this.viewModel.Options.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.viewModel) {\r\n            this.questionService.generateQuestionResource(this.viewModel);\r\n            this.showMatchListAnswers();\r\n        }\r\n        this.changedetector.detectChanges();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.viewModel.Question = \"\";\r\n        this.viewModel.Choices = [];\r\n        this.viewModel.Options = [];\r\n        this.viewModel.QuestionType = \"\";\r\n        this.viewModel.Answers = [];\r\n    }\r\n}","export * from \"./mcq-choicematrix.component\";\r\nexport * from \"./update-answers.directive\";","export default \".table-matrix {\\n  border-collapse: collapse; }\\n\\n.bg-lightgray {\\n  background-color: #f0f0f0 !important; }\\n\\n.table-matrix tbody tr td,\\n.table-matrix tbody tr th {\\n  border: 1px solid #dee2e6 !important;\\n  text-align: center; }\\n\\n.roundLabel {\\n  padding: 5px; }\\n\\n.roundLabel:hover {\\n  background: #fcfdd8; }\\n\\n.mcq-stem {\\n  width: 95%; }\\n\\n.mcq-action {\\n  width: 5%; }\\n\\n.radio {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcXVlc3Rpb24tYnVpbGRlci9tY3EtY2hvaWNlbWF0cml4L0M6XFxVc2Vyc1xcSW5zaWdodHVzXFxEZXNrdG9wXFxUZWFjaGVyXFxBZG1pblxcY2VhZG1pbi9zcmNcXGFwcFxccXVlc3Rpb24tYnVpbGRlclxcbWNxLWNob2ljZW1hdHJpeFxcbWNxLWNob2ljZW1hdHJpeC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHlCQUF5QixFQUFBOztBQUUzQjtFQUNFLG9DQUF1QyxFQUFBOztBQUd6Qzs7RUFFRSxvQ0FBb0M7RUFDcEMsa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsWUFBWSxFQUFBOztBQUdkO0VBQ0UsbUJBQW1CLEVBQUE7O0FBR3JCO0VBQ0UsVUFBVSxFQUFBOztBQUdaO0VBQ0UsU0FBUyxFQUFBOztBQUdYO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2Isd0JBQXVCO1VBQXZCLHVCQUF1QjtFQUN2Qix5QkFBbUI7VUFBbkIsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9xdWVzdGlvbi1idWlsZGVyL21jcS1jaG9pY2VtYXRyaXgvbWNxLWNob2ljZW1hdHJpeC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi4vLi4vc2Nzcy9jb25zdGFudC5zY3NzXCI7XHJcblxyXG4udGFibGUtbWF0cml4IHtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG59XHJcbi5iZy1saWdodGdyYXkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRsaWdodGdyYXkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnRhYmxlLW1hdHJpeCB0Ym9keSB0ciB0ZCxcclxuLnRhYmxlLW1hdHJpeCB0Ym9keSB0ciB0aCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNiAhaW1wb3J0YW50O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnJvdW5kTGFiZWwge1xyXG4gIHBhZGRpbmc6IDVweDtcclxufVxyXG5cclxuLnJvdW5kTGFiZWw6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICNmY2ZkZDg7XHJcbn1cclxuXHJcbi5tY3Etc3RlbSB7XHJcbiAgd2lkdGg6IDk1JTtcclxufVxyXG5cclxuLm1jcS1hY3Rpb24ge1xyXG4gIHdpZHRoOiA1JTtcclxufVxyXG5cclxuLnJhZGlvIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuIl19 */\"","import { Component, OnInit, AfterViewChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { QuestionBuilderService } from '../question-builder.service';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\n\r\nexport class MCQChoiceMatrix {\r\n    QuestionId: string;\r\n    Question: string;\r\n    QuestionType: string;\r\n    Choices: Choice[] = [];\r\n    Options: Option[] = [];\r\n    Answers: Answer[] = [];\r\n    TotalMarks: number;\r\n}\r\n\r\nexport class Answer {\r\n    ChoiceId: string;\r\n    OptionId: string;\r\n    constructor(ChoiceId, OptionId) {\r\n        this.ChoiceId = ChoiceId;\r\n        this.OptionId = OptionId;\r\n    }\r\n}\r\n\r\nexport class Choice {\r\n    ChoiceId: string;\r\n    ChoiceText: string;\r\n    constructor(choiceId, choiceText) {\r\n        this.ChoiceId = choiceId;\r\n        this.ChoiceText = choiceText;\r\n    }\r\n}\r\n\r\nexport class Option {\r\n    OptionId: string;\r\n    OptionText: string;\r\n    constructor(optionId, optionText) {\r\n        this.OptionId = optionId;\r\n        this.OptionText = optionText;\r\n    }\r\n}\r\n\r\n@Component({\r\n    templateUrl: \"./mcq-choicematrix.component.html\",\r\n    styleUrls: ['./mcq-choicematrix.component.scss']\r\n})\r\nexport class MCQChoiceMatrixComponent implements OnInit, AfterViewChecked, OnDestroy {\r\n    viewModel: MCQChoiceMatrix;\r\n    answers: any[] = [];\r\n    editorQuestionConfig: any;\r\n    editorChoiceConfig: any;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private questionService: QuestionBuilderService,\r\n        private pluginService: PluginService,\r\n        private changedetector: ChangeDetectorRef\r\n    ) {\r\n        this.viewModel = new MCQChoiceMatrix();\r\n        this.route.data.subscribe((args: any) => {\r\n            if (args.type === \"MCQ_CHOICE_MATRIX\") {\r\n                this.viewModel.QuestionType = args.type;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\r\n        if (this.route.snapshot.data.question)\r\n            Promise.resolve().then(() => {\r\n                this.viewModel = this.route.snapshot.data.question;\r\n            });\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.viewModel) {\r\n            this.questionService.generateQuestionResource(this.viewModel);\r\n        }\r\n        this.changedetector.detectChanges();\r\n    }\r\n\r\n    deleteChoice(choiceId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n            this.viewModel.Choices.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    addChoice() {\r\n        this.viewModel.Choices = [...this.viewModel.Choices, new Choice(new Date().getUTCMilliseconds(), \"\")];\r\n    }\r\n\r\n    addOption() {\r\n        this.viewModel.Options = [...this.viewModel.Options,\r\n        new Option(new Date().getUTCMilliseconds(), \"\")];\r\n    }\r\n\r\n    deleteOption(optionId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\r\n            this.viewModel.Options.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    markAsAnswer(choice: Choice, option: Option) {\r\n        let index: number;\r\n\r\n        if (this.viewModel.Answers.length === 0) {\r\n            this.viewModel.Answers = [];\r\n        }\r\n\r\n        this.viewModel.Answers.push({\r\n            ChoiceId: choice.ChoiceId,\r\n            OptionId: option.OptionId\r\n        });\r\n\r\n        if (this.viewModel.Answers.length > 0) {\r\n            for (let i = 0; i < this.viewModel.Answers.length; i++) {\r\n                for (let j = i + 1; j < this.viewModel.Answers.length; j++) {\r\n                    if (this.viewModel.Answers[i].ChoiceId === this.viewModel.Answers[j].ChoiceId) {\r\n                        index = this.viewModel.Answers.findIndex(item => item.ChoiceId === this.viewModel.Answers[i].ChoiceId);\r\n                        this.viewModel.Answers.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.viewModel.TotalMarks = this.viewModel.Answers.length;\r\n        this.showChoiceMatrixAnswers();\r\n    }\r\n\r\n    public showChoiceMatrixAnswers() {\r\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.answers = [];\r\n        answers = this.viewModel.Answers;\r\n        matrixChoices = this.viewModel.Choices;\r\n        matrixOptions = this.viewModel.Options;\r\n        for (let k = 0; k < answers.length; k++) {\r\n            this.answers.push({\r\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n            })\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.viewModel.Question = \"\";\r\n        this.viewModel.Choices = [];\r\n        this.viewModel.Options = [];\r\n        this.viewModel.QuestionType = \"\";\r\n        this.viewModel.Answers = [];\r\n    }\r\n}","import { Directive, Input, ElementRef, SimpleChanges } from '@angular/core';\r\nimport { Choice, Answer } from './mcq-choicematrix.component';\r\n\r\n@Directive({\r\n    selector: \"[choicematrix]\"\r\n})\r\nexport class UpdateAnswersDirective {\r\n\r\n    @Input('choicematrix') answers: Answer[] = [];\r\n\r\n    @Input('choiceid') choiceid: string;\r\n    @Input('optionid') optionid: string;\r\n\r\n    constructor(private elementRef: ElementRef) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n\r\n        this.elementRef.nativeElement.removeAttribute(\"checked\");\r\n\r\n        if (changes[\"answers\"]) {\r\n            let answer = this.answers.findIndex((item: Answer) => {\r\n                return item.ChoiceId === this.choiceid;\r\n            });\r\n\r\n            if (answer > -1 && this.answers[answer].OptionId === this.optionid) {\r\n                this.elementRef.nativeElement.setAttribute(\"checked\", \"checked\");\r\n            }\r\n\r\n        }\r\n    }\r\n}","export * from \"./mcq-standard.component\";","import { Component, OnInit, AfterViewChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\r\nimport { MCQStandardService, MCQStandard, Choice } from './mcq-standard.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { QuestionBuilderService } from '../question-builder.service';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\r\n\r\ndeclare var $: any;\r\ndeclare var ckeditor: any;\r\n\r\n@Component({\r\n    templateUrl: \"./mcq-standard.component.html\",\r\n    providers: [MCQStandardService]\r\n})\r\n\r\nexport class MCQStandardComponent implements OnInit, AfterViewChecked, OnDestroy {\r\n    public viewModel: MCQStandard;\r\n    public modules: any;\r\n    public choiceType: string = \"\";\r\n    answers: any[] = [];\r\n    editorQuestionConfig: any;\r\n    editorChoiceConfig: any;\r\n\r\n    constructor(\r\n        private mcqService: MCQStandardService,\r\n        private route: ActivatedRoute,\r\n        private questionService: QuestionBuilderService,\r\n        private changedetector: ChangeDetectorRef,\r\n        public pluginService: PluginService,\r\n        public fileService: FileManagementService\r\n    ) {\r\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\r\n        this.viewModel = mcqService.getQuestion();\r\n        this.route.data.subscribe((args: any) => {\r\n            if (args.type === \"MCQ_SINGLE\") {\r\n                this.choiceType = \"radio\";\r\n                this.viewModel.QuestionType = args.type;\r\n            }\r\n            if (args.type === \"MCQ_MULTIPLE\") {\r\n                this.choiceType = \"checkbox\";\r\n                this.viewModel.QuestionType = args.type;\r\n            }\r\n            if (args.type === \"MCQ_TRUE_FALSE\") {\r\n                this.choiceType = \"radio\";\r\n                this.viewModel.Choices = [new Choice(new Date().getUTCMilliseconds() + 1, \"True\"), new Choice(new Date().getUTCMilliseconds(), \"False\")];\r\n                this.viewModel.QuestionType = args.type;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.route.snapshot.data.question)\r\n            Promise.resolve().then(() => {\r\n                this.viewModel = this.mcqService.load(this.route.snapshot.data.question);\r\n            });\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.viewModel) {\r\n            this.questionService.generateQuestionResource(this.viewModel);\r\n            this.showMCQAnswers();\r\n        }\r\n        this.changedetector.detectChanges();\r\n    }\r\n\r\n    updateQuestionDetails() {\r\n        this.questionService.generateQuestionResource(this.viewModel);\r\n        this.showMCQAnswers();\r\n    }\r\n\r\n    public showMCQAnswers() {\r\n        this.answers = [];\r\n        for (let j = 0; j < this.viewModel.Answers.length; j++) {\r\n            let answerText = this.viewModel.Choices.find(item => item.ChoiceId === this.viewModel.Answers[j]).ChoiceText;\r\n            this.answers.push(answerText);\r\n            answerText = \"\"\r\n        }\r\n    }\r\n\r\n    public addChoice() {\r\n        this.mcqService.addChoice();\r\n    }\r\n\r\n    public deleteChoice(choiceId) {\r\n        this.mcqService.deleteChoice(choiceId);\r\n    }\r\n\r\n    public markAsAnswer(choiceId: string) {\r\n        if (this.viewModel.QuestionType === 'MCQ_MULTIPLE') {\r\n            this.mcqService.toggleAnswer(choiceId);\r\n        } else {\r\n            this.viewModel.Answers = [choiceId];\r\n        }\r\n        this.viewModel.TotalMarks = this.viewModel.Answers.length;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.viewModel.Question = \"\";\r\n        this.viewModel.Choices = [];\r\n        this.viewModel.QuestionType = \"\";\r\n        this.viewModel.Answers = [];\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\n\r\nexport class MCQStandard {\r\n    public Question: string;\r\n    public QuestionType: string;\r\n    public Choices: Choice[] = [];\r\n    public Answers: string[] = [];\r\n    public TotalMarks: number;\r\n}\r\n\r\nexport class Choice {\r\n    public ChoiceId: string;\r\n    public ChoiceText: string;\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(ChoiceId, ChoiceText) {\r\n        this.ChoiceId = ChoiceId;\r\n        this.ChoiceText = ChoiceText;\r\n    }\r\n}\r\n\r\n@Injectable()\r\nexport class MCQStandardService {\r\n    private _question: MCQStandard;\r\n\r\n    constructor(public pluginService: PluginService) {\r\n        this._question = new MCQStandard();\r\n    }\r\n\r\n    addChoice(): any {\r\n        this._question.Choices.push(new Choice(new Date().getUTCMilliseconds(), \"\"));\r\n    }\r\n\r\n    getQuestion() {\r\n        return this._question;\r\n    }\r\n\r\n    deleteChoice(choiceId) {\r\n        if (this._question.Answers.length > 0) {\r\n            for (let i = 0; i < this._question.Answers.length; i++) {\r\n                if (this._question.Answers[i] !== choiceId) {\r\n                    let index = this._question.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n                    this._question.Choices.splice(index, 1);\r\n                } else {\r\n                    this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\r\n                }\r\n            }\r\n        } else {\r\n            let index = this._question.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n            this._question.Choices.splice(index, 1);\r\n        }\r\n\r\n    }\r\n\r\n    toggleAnswer(choiceId) {\r\n        var index = this._question.Answers.indexOf(choiceId);\r\n        if (this._question.QuestionType !== \"MCQ_MULTIPLE\") {\r\n            this._question.Answers = [];\r\n        }\r\n        if (index === -1) {\r\n            this._question.Answers = [...this._question.Answers, choiceId]\r\n        } else {\r\n            this._question.Answers = this._question.Answers.filter((item) => { return item !== choiceId; })\r\n        }\r\n    }\r\n\r\n    load(question: MCQStandard): any {\r\n        this._question = question;\r\n        return this._question;\r\n    }\r\n}","import { Directive, Input, OnChanges, SimpleChanges, ElementRef, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[answers]'\r\n})\r\nexport class AnswersDirective implements OnChanges {\r\n    \r\n\r\n    @Input('answers') answers: string[];\r\n\r\n    @Input('choiceid') choiceid: string;\r\n\r\n    constructor(private elementRef: ElementRef){}\r\n\r\n    ngOnChanges(changes:  SimpleChanges): void {\r\n\r\n        this.elementRef.nativeElement.removeAttribute(\"checked\");\r\n\r\n        if(changes[\"answers\"]){\r\n            if(this.answers.indexOf(this.choiceid) > -1){\r\n                this.elementRef.nativeElement.setAttribute('checked', 'checked')\r\n            }\r\n        }\r\n    }\r\n}","import { Component,OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CommonService } from '../../shared/common/common.service';\r\n\r\n@Component({\r\n    selector: 'pick-question-type',\r\n    templateUrl: \"./pick-question-type.component.html\"\r\n})\r\nexport class PickQuestionComponent implements OnInit {\r\n    questionTypes: any[] = [];\r\n\r\n    public constructor(private router: Router, private route: ActivatedRoute, public commonService: CommonService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getQuestionTypeDetails();\r\n    }\r\n\r\n    getQuestionTypeDetails() {\r\n        this.commonService.getQuestionTypeList().subscribe((data: any) => {\r\n            this.questionTypes = data;\r\n            let currentRoute = this.router.url;\r\n            this.setSelectedQuestionType(currentRoute);\r\n        });\r\n    }\r\n\r\n    setSelectedQuestionType(currentRoute) {\r\n        let splitUrl: any[] = [], lastItem;\r\n        splitUrl = currentRoute.split(\"/\");\r\n        lastItem = \"./\" + splitUrl.pop();\r\n        for (let i = 0; i < this.questionTypes.length; i++) {\r\n            if (lastItem === this.questionTypes[i].router) {\r\n                this.questionTypes.find(item => item.router === lastItem).checked = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    public navigateToUrl(url: string) {\r\n        this.router.navigate([url], { relativeTo: this.route });\r\n    }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { MCQStandardComponent } from './mcq-standard';\r\nimport { AnswersDirective } from './mcq-standard/update-answers.directive';\r\nimport { MCQChoiceMatrixComponent, UpdateAnswersDirective } from './mcq-choicematrix';\r\nimport { MatchlistComponent } from './matchlist/matchlist.component';\r\nimport { QuestionPreviewDirective } from './cloze/question-preview.directive';\r\nimport { SharedModule } from '../shared';\r\nimport { QuestionBuilderService } from './question-builder.service';\r\nimport { DragAndDropComponent } from './cloze/drag-n-drop/drag-n-drop.component';\r\nimport { PickQuestionComponent } from './pick-question-type/pick-question-type.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MCQStandardComponent,\r\n        PickQuestionComponent,\r\n        AnswersDirective,\r\n        MCQChoiceMatrixComponent,\r\n        UpdateAnswersDirective,\r\n        MatchlistComponent,\r\n        DragAndDropComponent,\r\n        QuestionPreviewDirective\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        RouterModule\r\n    ],\r\n    providers: [QuestionBuilderService],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    exports: [\r\n        MCQStandardComponent,\r\n        PickQuestionComponent,\r\n        AnswersDirective,\r\n        MCQChoiceMatrixComponent,\r\n        UpdateAnswersDirective,\r\n        MatchlistComponent,\r\n        DragAndDropComponent,\r\n        QuestionPreviewDirective\r\n    ]\r\n})\r\nexport class QuestionBuilderModule {\r\n\r\n}","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class QuestionBuilderService {\r\n    questionResource: any;\r\n    questionDetails: any;\r\n\r\n    //mcq-single, mcq-multiple, mcq-true or false, mcq-choice matrix and matchlist\r\n    generateQuestionResource(jsonObj: any) {\r\n        var jsonData = JSON.stringify(jsonObj);\r\n        this.questionDetails = jsonObj;\r\n        this.saveQuestionResource(jsonData);\r\n    }\r\n\r\n    //mcq-single, mcq-multiple, mcq-true or false,mcq-choice matrix and matchlist\r\n    saveQuestionResource(jsonData) {\r\n        this.questionResource = this.convertJsonToString(jsonData)\r\n    }\r\n\r\n    get getQuestionResource() {\r\n        return this.questionDetails;\r\n    }\r\n\r\n    //JSON to String conversion\r\n    convertJsonToString(jsonData) {\r\n        let jsonString;\r\n        jsonString = jsonData.replace(/\"/g, '\\\\\"');\r\n        return jsonString;\r\n    }\r\n\r\n    //String to JSON conversion\r\n    convertStringToJson(stringData) {\r\n        let stringJson, parseJsonString\r\n        stringJson = stringData.replace(/\\\\\"/g, '\\\"');\r\n        parseJsonString = JSON.parse(stringJson);\r\n        return parseJsonString;\r\n    }\r\n}","export const DRAFT = 'DRAFT';\r\nexport const ACTIVE = 'ACTIVE';\r\nexport const INACTIVE = 'INACTIVE';\r\nexport const ARCHIVED = 'ARCHIVED';\r\nexport const NOCHANGE = 'NOCHANGE';\r\nexport const CREATED = 'CREATED';\r\nexport const EDITED = 'EDITED';\r\nexport const DELETED = 'DELETED';","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { ISubject } from '../shared/model/content/subject.model';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { curriculumSubject, curriculumSubjectSearch, curriculumSubjectTree } from '../shared/constants/service.constants';\r\n\r\ntype EntityResponseType = HttpResponse<ISubject>;\r\ntype EntityArrayResponseType = HttpResponse<ISubject[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SubjectService {\r\n    public subjectResourceUrl = environment.API_URL + curriculumSubject;\r\n    public subjectResourceUrlSearch = environment.API_URL + curriculumSubjectSearch;\r\n    public subjectResourceUrlWithTree = environment.API_URL + curriculumSubjectTree;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<ISubject>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    updateSubjectStatus(generalSubject: ISubject): Observable<EntityResponseType> {\r\n        return this.http.put<ISubject>(this.subjectResourceUrl, generalSubject, { observe: 'response' });\r\n    }\r\n\r\n    delete(id: number): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    saveSubject(generalSubject: ISubject[]): Observable<EntityResponseType> {\r\n        return this.http.post<ISubject>(this.subjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status): Observable<EntityArrayResponseType> {\r\n        let reqJSON;\r\n        if (status === ACTIVE) {\r\n            reqJSON = {\r\n                \"curriculumId\": curriculumId,\r\n                \"grade\": gradeId,\r\n                \"status\": status\r\n            }\r\n        } else {\r\n            reqJSON = {\r\n                \"curriculumId\": curriculumId,\r\n                \"grade\": gradeId\r\n            }\r\n        }\r\n        return this.http.post<ISubject[]>(this.subjectResourceUrlSearch, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\r\n        return this.http.get<ISubject[]>(`${this.subjectResourceUrlWithTree}/${id}`, { observe: 'response' });\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { ISubject } from '../../shared/model/content/subject.model';\r\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\r\nimport { IGrade } from '../../shared/model/common/grade.model';\r\nimport { Principal } from '../../core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { IOrgGeneralAddlResource } from '../../shared/model/content/org-general-addl-resource.model';\r\nimport { IAddlResource } from '../../shared/model/content/addl-resource.model';\r\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\r\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\r\nimport { IAddlResoucePreference } from '../../shared/model/content/addl-resource-preference.model';\r\nimport { Observable } from 'rxjs';\r\nimport { IContent } from '../../shared/model/content/content.model';\r\nimport { CommonService } from '../../shared/common/common.service';\r\nimport { SubjectService } from '../../subject/subject.service';\r\nimport { OrganisationService } from '../../organisation/organisation.service';\r\nimport { CurriculumService } from '../../curriculum/curriculum.service';\r\nimport { ACTIVE } from '../../shared/constants/common.constants';\r\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\r\nimport { saveAs } from 'file-saver'\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./addl-resource-manage.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumAdditionalResourcesManageComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    lessonResourceForm: FormGroup;\r\n    curriculumList: ICurriculum[] = [];\r\n    gradeList: IGrade[] = [];\r\n    subjectList: IGrade[] = [];\r\n    subjectTree: ISubject[] = [];\r\n    resourceCategory: any[] = [];\r\n    contentType: any[] = [];\r\n    resourceIds: any[] = [];\r\n    ownLessonResourceIds: any[] = [];\r\n    organisations: IOrganisation[] = [];\r\n    addlResource: IAddlResource[] = [];\r\n    ownAddlResource: IOrgGeneralAddlResource[] = [];\r\n    orgGeneralAddlResource: IOrgGeneralAddlResource[] = [];\r\n    organisationId: number;\r\n    lessonId: number;\r\n    contentId: number;\r\n    nodeType: string;\r\n    nodeName: string;\r\n    nodeDescription: string;\r\n    modalTitleName: string;\r\n    modalActionName: string;\r\n    uploadedFileName: string;\r\n    fileName: string;\r\n    contentPreferenceStatus: boolean;\r\n    checkContentCE: boolean;\r\n    checkOwnContent: boolean;\r\n    checkOrderNumChange: boolean;\r\n    disableDropdown: boolean;\r\n    enableExpandNode: boolean;\r\n    validateForm: boolean;\r\n    tableAction: boolean;\r\n    updateAction: boolean;\r\n    tableGenAction: boolean;\r\n    updateGenAction: boolean;\r\n    showFileAction: boolean;\r\n    selectedCurriculum: any;\r\n    selectedGrade: any;\r\n    selectedSubject: any;\r\n    selectedOrganisation: any;\r\n    selectedCategory: any;\r\n    selectedContentType: any;\r\n    uploadedFilePath: any;\r\n    fileType: any;\r\n    selectedFile: any = null;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public addlResourceService: SyllabusLessonTopicService,\r\n        public curriculumService: CurriculumService,\r\n        public subjectService: SubjectService,\r\n        public organisationService: OrganisationService,\r\n        protected eventManager: JhiEventManager,\r\n        protected parseLinks: JhiParseLinks,\r\n        protected principalService: Principal,\r\n        public pluginService: PluginService,\r\n        public formBuilder: FormBuilder,\r\n        public userLoginInfo: UserLoginInfoService,\r\n        public commonService: CommonService,\r\n        private changeDetectorRef: ChangeDetectorRef,\r\n        public fileService: FileManagementService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.enableExpandNode = false;\r\n        this.checkContentCE = false;\r\n        this.contentPreferenceStatus = false;\r\n        this.validateForm = true;\r\n        this.tableAction = true;\r\n        this.updateAction = true;\r\n        this.tableGenAction = true;\r\n        this.updateGenAction = true;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadCurriculums();\r\n        this.createAdditionLessonResourceForm();\r\n        this.getContentCategory();\r\n        this.getContentType();\r\n    }\r\n\r\n    getContentCategory() {\r\n        this.commonService.getContentCategoryList().subscribe((categoryData: any) => {\r\n            this.resourceCategory = categoryData;\r\n        });\r\n    }\r\n\r\n    getContentType() {\r\n        this.commonService.getContentTypeList().subscribe((typeData: any) => {\r\n            this.contentType = typeData;\r\n        });\r\n    }\r\n\r\n    createAdditionLessonResourceForm() {\r\n        this.lessonResourceForm = this.formBuilder.group({\r\n            contentTitle: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)]),\r\n            contentDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\r\n            resourceCategory: new FormControl(null, [Validators.required]),\r\n            contentType: new FormControl(null, [Validators.required]),\r\n            webSource: new FormControl(null)\r\n        })\r\n    }\r\n\r\n    loadCurriculums() {\r\n        this.curriculumService.getCurriculumSearch().subscribe(\r\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignCurriculumList(data: ICurriculum[]) {\r\n        this.curriculumList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.curriculumList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    onDocumentFileChanges(event) {\r\n        this.selectedFile = event.target.files;\r\n        this.fileName = this.selectedFile[0].name;\r\n        if ((this.selectedFile[0].type === \"application/pdf\") && (this.selectedFile[0].size > 104857600)) {\r\n            this.pluginService.alertMessage(\"Please upload file size lesser than 100 MB\", \"error\");\r\n        }\r\n    }\r\n\r\n    uploadDocumentFile() {\r\n        if (this.fileName !== \"No file chosen\") {\r\n            if (this.selectedFile[0].type === \"application/pdf\") {\r\n                let file = this.selectedFile.item(0);\r\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\r\n                    if (res.status === 200) {\r\n                        this.uploadedFileName = Object.keys(res.body)[0];\r\n                        this.uploadedFilePath = Object.values(res.body)[0];\r\n                        this.fileName = this.uploadedFileName;\r\n                        if (this.uploadedFileName && this.uploadedFilePath) {\r\n                            this.fileService.uploadPDFFile(this.uploadedFilePath, file).subscribe((event) => {\r\n                                if (event instanceof HttpResponse) {\r\n                                    this.showFileAction = true;\r\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.pluginService.alertMessage(\"Invalid file, it support only PDF\", \"error\");\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\r\n        }\r\n    }\r\n\r\n    downloadFile() {\r\n        if (this.uploadedFileName) {\r\n            this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName));\r\n        }\r\n    }\r\n\r\n    protected subscribeToDownloadResponse(result: Observable<HttpResponse<any>>) {\r\n        result.subscribe((res: HttpResponse<any>) => this.onDownloadSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    onDownloadSuccess(resp) {\r\n        if (resp.body) {\r\n            let downloadFilePath = Object.values(resp.body)[0];\r\n            saveAs(downloadFilePath);\r\n        }\r\n    }\r\n\r\n    checkContentType() {\r\n        if (this.selectedContentType) {\r\n            if (this.selectedContentType.tag === 'DOCUMENT') {\r\n                if (this.uploadedFilePath) {\r\n                    this.deleteUploadedFile();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteUploadedFile() {\r\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName));\r\n    }\r\n\r\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onError(res));\r\n    }\r\n\r\n    onDeleteFileSuccess(resp) {\r\n        this.fileName = \"No file chosen\";\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.pluginService.alertMessage(\"File deleted successfully\", \"success\");\r\n    }\r\n\r\n\r\n    ngAfterViewInit() {\r\n        this.showSyllabusDetails();\r\n    }\r\n\r\n    onCurriculumChange() {\r\n        let gradesApplicableFrom, gradesApplicableTo;\r\n        if (this.selectedCurriculum) {\r\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        }\r\n        this.selectedGrade = null;\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    onGradeChange() {\r\n        let curriculumId, gradeId, status;\r\n        if (this.selectedGrade) {\r\n            curriculumId = this.selectedCurriculum.id;\r\n            gradeId = this.selectedGrade.id;\r\n            status = ACTIVE;\r\n            this.subjectService\r\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    assignSubjectList(data: ISubject[]) {\r\n        this.subjectList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.subjectList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    generateGradeList(min, max) {\r\n        this.gradeList = [];\r\n        for (var i = min; i <= max; i++) {\r\n            this.gradeList.push({\r\n                \"id\": i,\r\n                \"name\": i\r\n            });\r\n        }\r\n        return this.gradeList;\r\n    }\r\n\r\n    loadSubjectTree() {\r\n        if (this.selectedSubject) {\r\n            let subjectId = this.selectedSubject.id;\r\n            if (subjectId) {\r\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                )\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n            }\r\n        }\r\n    }\r\n\r\n    assignSubjectTree(subject: ISubject[]) {\r\n        this.subjectTree = [];\r\n        if (subject.length > 0) {\r\n            for (let i = 0; i < subject.length; i++) {\r\n                if (subject[i].data.addlContentsCount === 0) {\r\n                    subject[i].icon = \"fa fa-times text-danger\";\r\n                }\r\n                this.subjectTree.push(subject[i]);\r\n            }\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n        }\r\n        this.enableExpandNode = false;\r\n    }\r\n\r\n    trimValue(value) {\r\n        if (value === null || value === undefined) {\r\n            return value;\r\n        } else {\r\n            return value.trim();\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.validateTopicContentForm();\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    validateTopicContentForm() {\r\n        let contentName, webURL;\r\n        contentName = this.trimValue(this.lessonResourceForm.value.contentTitle);\r\n        webURL = this.trimValue(this.lessonResourceForm.value.webSource);\r\n        if (contentName === \"\" || contentName === undefined || contentName === null) {\r\n            this.validateForm = true;\r\n        }\r\n        if (this.lessonResourceForm.valid) {\r\n            this.validateForm = false;\r\n        }\r\n        if (this.lessonResourceForm.invalid) {\r\n            this.validateForm = true;\r\n        }\r\n        if ((webURL === \"\" || webURL === undefined || webURL === null) || (this.uploadedFilePath === \"\" || this.uploadedFilePath === undefined || this.uploadedFilePath === null)) {\r\n            this.validateForm = true\r\n        }\r\n    }\r\n\r\n\r\n    showSyllabusDetails() {\r\n        var localThisObj = this;\r\n        $('#treeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.nodeType = data.node.type;\r\n                    if (localThisObj.nodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.nodeType === \"unit\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else if (localThisObj.nodeType === \"lesson\") {\r\n                        localThisObj.lessonId = data.node.data.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.objective;\r\n                        localThisObj.addlResource = [];\r\n                        localThisObj.orgGeneralAddlResource = [];\r\n                        localThisObj.ownAddlResource = [];\r\n                        localThisObj.getAddlResourceList(localThisObj.lessonId);\r\n                        localThisObj.getOrgGeneralAddlResourceByOrganisationId(localThisObj.lessonId);\r\n                        localThisObj.getOrganisationList();\r\n                        localThisObj.getAddlResourcePreference(localThisObj.lessonId);\r\n                        localThisObj.updateAction = true;\r\n                        localThisObj.updateGenAction = true;\r\n                        localThisObj.tableAction = true;\r\n                        localThisObj.tableGenAction = true;\r\n                    } else {\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getAddlResourceList(lessonId) {\r\n        this.addlResourceService.getAddlResource(lessonId).subscribe(\r\n            (res: HttpResponse<IAddlResource[]>) => this.assignResponseToAddlResourceList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignResponseToAddlResourceList(data: IAddlResource[]) {\r\n        this.addlResource = data;\r\n        this.sortArrayByOrderNumber(this.addlResource);\r\n        this.dragTableContent();\r\n    }\r\n\r\n    getOrgGeneralAddlResourceByOrganisation() {\r\n        let organisationId = this.selectedOrganisation.id;\r\n        this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(this.lessonId, organisationId).subscribe(\r\n            (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.assignResponseToOrgAddlResource(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignResponseToOrgAddlResource(data: IOrgGeneralAddlResource[]) {\r\n        this.orgGeneralAddlResource = data;\r\n        this.sortArrayByOrderNumber(this.orgGeneralAddlResource);\r\n    }\r\n\r\n    getOrgGeneralAddlResourceByOrganisationId(lessonId) {\r\n        //User login info organisationId\r\n        this.organisationId = this.userLoginInfo.organisationId;\r\n        this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(lessonId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.assignResponseToOrgAddlResourceList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignResponseToOrgAddlResourceList(data: IOrgGeneralAddlResource[]) {\r\n        this.orgGeneralAddlResource = data;\r\n        this.ownAddlResource = data;\r\n        this.sortArrayByOrderNumber(this.ownAddlResource);\r\n        this.ownAddlResourceDragTableContent();\r\n    }\r\n\r\n    getOrganisationList() {\r\n        this.organisationService.getOrganisations().subscribe(\r\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignOrgList(data: IOrganisation[]) {\r\n        this.organisations = data;\r\n    }\r\n\r\n    sortArrayByOrderNumber(array: any[]) {\r\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\r\n    }\r\n\r\n    getAddlResourcePreference(lessonId) {\r\n        this.addlResourceService.getAddlResourcePreference(lessonId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IAddlResoucePreference>) => this.onGetPreferenceSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onGetPreferenceSuccess(acitveStatus: IAddlResoucePreference) {\r\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\r\n            this.checkContentCE = true;\r\n            this.checkOwnContent = false;\r\n        } else if (acitveStatus === true) {\r\n            this.checkContentCE = false;\r\n            this.checkOwnContent = true;\r\n        }\r\n    }\r\n\r\n    checkContentPreference(event) {\r\n        let check = event.target.checked;\r\n        let name = event.target.id;\r\n        if (check === true && name === \"ContentCE\") {\r\n            this.contentPreferenceStatus = false;\r\n        } else if (check === true && name === \"OwnContent\") {\r\n            this.contentPreferenceStatus = true;\r\n        }\r\n    }\r\n\r\n    saveContentPreference() {\r\n        if (this.contentPreferenceStatus === false) {\r\n            if (this.addlResource.length > 0) {\r\n                this.setContentPreference();\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please add atleast one general additional lesson resources and change preference\", \"error\");\r\n            }\r\n        } else if (this.contentPreferenceStatus === true) {\r\n            if (this.ownAddlResource.length > 0) {\r\n                this.setContentPreference();\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please add atleast one own additional lesson resources and change preference\", \"error\");\r\n            }\r\n        }\r\n    }\r\n\r\n    setContentPreference() {\r\n        this.addlResourceService.setAddlResourcePreference(this.contentPreferenceStatus, this.lessonId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IAddlResource>) => this.onSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onSuccess(data) {\r\n        this.pluginService.alertMessage(\"Content preference saved successfully\", \"success\");\r\n    }\r\n\r\n    resetFormValues() {\r\n        this.lessonResourceForm.reset();\r\n        this.selectedCategory = null;\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.fileName = \"No file chosen\";\r\n    }\r\n\r\n    addAddlessonResources() {\r\n        this.openLessonResourceModal();\r\n        this.modalTitleName = \"Add\";\r\n        this.modalActionName = \"AddlResource\";\r\n        this.resetFormValues();\r\n        this.enableFormFields();\r\n    }\r\n\r\n    addOwnAddlResources() {\r\n        this.openLessonResourceModal();\r\n        this.modalTitleName = \"Add\";\r\n        this.modalActionName = \"OwnAddlResource\";\r\n        this.resetFormValues();\r\n        this.enableFormFields();\r\n    }\r\n\r\n    openLessonResourceModal() {\r\n        this.pluginService.showModalWindow(\"#additionalResourceModal\");\r\n    }\r\n\r\n    closeLessonResourceModal() {\r\n        this.pluginService.hideModalWindow(\"#additionalResourceModal\")\r\n    }\r\n\r\n    viewAddlResource(contentId) {\r\n        let lessonResourcesDetails: IAddlResource[] = [], lessonResourceDetail: IAddlResource = {};\r\n        lessonResourceDetail.content = {}\r\n        lessonResourcesDetails = this.addlResource.filter(item => item.id === contentId);\r\n        lessonResourceDetail = lessonResourcesDetails[0];\r\n        this.modalTitleName = \"View\";\r\n        this.modalActionName = \"AddlResource\";\r\n        this.patchContentFormfields(lessonResourceDetail);\r\n        this.openLessonResourceModal();\r\n    }\r\n\r\n    editAddlResource(contentId) {\r\n        let lessonResourcesDetails: IAddlResource[] = [], lessonResourceDetail: IAddlResource = {};\r\n        lessonResourceDetail.content = {}\r\n        lessonResourcesDetails = this.addlResource.filter(item => item.id === contentId);\r\n        lessonResourceDetail = lessonResourcesDetails[0];\r\n        this.modalTitleName = \"Edit\";\r\n        this.modalActionName = \"AddlResource\";\r\n        this.patchContentFormfields(lessonResourceDetail);\r\n        this.openLessonResourceModal();\r\n    }\r\n\r\n    viewOrgAddlResource(contentId) {\r\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\r\n        lessonResourceDetail.content = {}\r\n        lessonResourcesDetails = this.orgGeneralAddlResource.filter(item => item.id === contentId);\r\n        lessonResourceDetail = lessonResourcesDetails[0];\r\n        this.modalTitleName = \"View\";\r\n        this.modalActionName = \"OrgAddlResource\";\r\n        this.patchContentFormfields(lessonResourceDetail);\r\n        this.openLessonResourceModal();\r\n    }\r\n\r\n    editOwnAddlResource(contentId) {\r\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\r\n        lessonResourceDetail.content = {}\r\n        lessonResourcesDetails = this.ownAddlResource.filter(item => item.id === contentId);\r\n        lessonResourceDetail = lessonResourcesDetails[0];\r\n        this.modalTitleName = \"Edit\";\r\n        this.modalActionName = \"OwnAddlResource\";\r\n        this.patchContentFormfields(lessonResourceDetail);\r\n        this.openLessonResourceModal();\r\n    }\r\n\r\n    viewOwnAddlResource(contentId) {\r\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\r\n        lessonResourceDetail.content = {}\r\n        lessonResourcesDetails = this.ownAddlResource.filter(item => item.id === contentId);\r\n        lessonResourceDetail = lessonResourcesDetails[0];\r\n        this.modalTitleName = \"View\";\r\n        this.modalActionName = \"OwnAddlResource\";\r\n        this.patchContentFormfields(lessonResourceDetail);\r\n        this.openLessonResourceModal();\r\n    }\r\n\r\n    patchContentFormfields(lessonResourceDetail: IOrgGeneralAddlResource) {\r\n        this.contentId = lessonResourceDetail.content.id;\r\n        this.selectedCategory = this.resourceCategory.filter(item => item.tag === lessonResourceDetail.content.tag)[0];\r\n        this.selectedContentType = this.contentType.filter(item => item.tag === lessonResourceDetail.content.contentType)[0];\r\n        this.lessonResourceForm.patchValue({\r\n            contentTitle: lessonResourceDetail.content.title,\r\n            contentDescription: lessonResourceDetail.content.description\r\n        })\r\n        if (this.selectedContentType.tag === \"DOCUMENT\") {\r\n            this.showFileAction = true;\r\n            this.fileName = lessonResourceDetail.content.fileName;\r\n            this.uploadedFileName = lessonResourceDetail.content.fileName;\r\n            this.uploadedFilePath = lessonResourceDetail.content.filePath;\r\n        } else if (this.selectedContentType.tag === \"VIDEO\") {\r\n            this.lessonResourceForm.patchValue({\r\n                webSource: lessonResourceDetail.content.webUrl\r\n            })\r\n        }\r\n        if (this.modalTitleName === \"View\") {\r\n            this.disableFormFields();\r\n        } else if (this.modalTitleName === \"Edit\" || this.modalTitleName === \"Add\") {\r\n            this.enableFormFields();\r\n        }\r\n    }\r\n\r\n    disableFormFields() {\r\n        this.lessonResourceForm.get('contentTitle').disable();\r\n        this.lessonResourceForm.get('contentDescription').disable();\r\n        this.lessonResourceForm.get('resourceCategory').disable();\r\n        this.lessonResourceForm.get('contentType').disable();\r\n        this.lessonResourceForm.get('webSource').disable();\r\n        //this.disableDropdown = true;\r\n    }\r\n\r\n    enableFormFields() {\r\n        this.lessonResourceForm.get('contentTitle').enable();\r\n        this.lessonResourceForm.get('contentDescription').enable();\r\n        this.lessonResourceForm.get('resourceCategory').enable();\r\n        this.lessonResourceForm.get('contentType').enable();\r\n        this.lessonResourceForm.get('webSource').enable();\r\n        //this.disableDropdown = false;\r\n    }\r\n\r\n    saveAddlResource() {\r\n        if (this.lessonResourceForm.valid) {\r\n            let addlResources: IAddlResource[] = [], addlResource: IAddlResource = {};\r\n            addlResource.content = {};\r\n            addlResource.lessonId = this.lessonId;\r\n            addlResource.orderNumber = this.addlResource.length + 1;\r\n            addlResource.content.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\r\n            addlResource.content.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\r\n            addlResource.content.tag = this.selectedCategory.tag;\r\n            addlResource.content.contentType = this.selectedContentType.tag;\r\n            if (this.selectedContentType.tag === \"VIDEO\") {\r\n                addlResource.content.contentSource = \"WEB_URL\";\r\n                addlResource.content.webUrl = this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource));\r\n            } else if (this.selectedContentType.tag === \"DOCUMENT\") {\r\n                addlResource.content.contentSource = \"FILE_UPLOAD\";\r\n                addlResource.content.fileName = this.uploadedFileName;\r\n                addlResource.content.filePath = this.uploadedFilePath;\r\n            }\r\n            addlResources.push(addlResource);\r\n            this.addlResourceService.saveAddlResource(addlResources).subscribe(\r\n                (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onSaveSuccess(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res.error)\r\n            )\r\n        }\r\n        if (this.lessonResourceForm.invalid) {\r\n            return\r\n        }\r\n    }\r\n\r\n    saveOwnAddlResource() {\r\n        if (this.lessonResourceForm.valid) {\r\n            let orgGeneralAddlResources: IOrgGeneralAddlResource[] = [], orgGeneralAddlResource: IOrgGeneralAddlResource = {};\r\n            orgGeneralAddlResource.content = {};\r\n            orgGeneralAddlResource.lessonId = this.lessonId;\r\n            orgGeneralAddlResource.organisationId = this.userLoginInfo.organisationId;\r\n            orgGeneralAddlResource.orderNumber = this.ownAddlResource.length + 1;\r\n            orgGeneralAddlResource.content.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\r\n            orgGeneralAddlResource.content.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\r\n            orgGeneralAddlResource.content.tag = this.selectedCategory.tag;\r\n            orgGeneralAddlResource.content.contentType = this.selectedContentType.tag;\r\n            if (this.selectedContentType.tag === \"VIDEO\") {\r\n                orgGeneralAddlResource.content.contentSource = \"WEB_URL\";\r\n                orgGeneralAddlResource.content.webUrl = this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource));\r\n            } else if (this.selectedContentType.tag === \"DOCUMENT\") {\r\n                orgGeneralAddlResource.content.contentSource = \"FILE_UPLOAD\";\r\n                orgGeneralAddlResource.content.fileName = this.uploadedFileName;\r\n                orgGeneralAddlResource.content.filePath = this.uploadedFilePath;\r\n            }\r\n            orgGeneralAddlResources.push(orgGeneralAddlResource);\r\n            this.addlResourceService.saveOwnAddlResource(orgGeneralAddlResources).subscribe(\r\n                (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onSaveSuccess(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res.error)\r\n            )\r\n        }\r\n        if (this.lessonResourceForm.invalid) {\r\n            return\r\n        }\r\n    }\r\n\r\n    onSaveSuccess(resp: IOrgGeneralAddlResource[]) {\r\n        this.pluginService.alertMessage(\"Additional Lesson resource added successfully\", \"success\")\r\n        this.resetFormValues();\r\n        this.closeLessonResourceModal();\r\n        this.getAddlResourceList(this.lessonId);\r\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n    updateAddlResource() {\r\n        let contentResource: IContent = {};\r\n        contentResource = {};\r\n        contentResource.id = this.contentId;\r\n        contentResource.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\r\n        contentResource.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\r\n        contentResource.tag = this.selectedCategory.tag;\r\n        contentResource.contentType = this.selectedContentType.tag;\r\n        if (this.selectedContentType.tag === \"VIDEO\") {\r\n            contentResource.contentSource = \"WEB_URL\";\r\n            contentResource.webUrl = this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource));\r\n        } else if (this.selectedContentType.tag === \"DOCUMENT\") {\r\n            contentResource.contentSource = \"FILE_UPLOAD\";\r\n            contentResource.fileName = this.uploadedFileName;\r\n            contentResource.filePath = this.uploadedFilePath;\r\n        }\r\n        this.subscribeToUpdateResponse(this.addlResourceService.updateContentSource(contentResource));\r\n    }\r\n\r\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IContent>>) {\r\n        result.subscribe((res: HttpResponse<IContent>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateSuccess(res: HttpResponse<IContent>) {\r\n        this.pluginService.alertMessage(\"Additional Lesson resource updated successfully\", \"success\")\r\n        this.resetFormValues();\r\n        this.closeLessonResourceModal();\r\n        this.getAddlResourceList(this.lessonId);\r\n    }\r\n\r\n    checkSelectedContents(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = Number(event.target.title);\r\n        if (checked === true) {\r\n            this.tableGenAction = false;\r\n            this.resourceIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.resourceIds.findIndex(item => item === selectedId);\r\n            this.resourceIds.splice(index, 1)\r\n        }\r\n        this.resourceIds = this.removeDuplicateElements(this.resourceIds);\r\n        if (this.resourceIds.length <= 0) {\r\n            this.tableGenAction = true;\r\n        }\r\n    }\r\n\r\n    checkSelectedOwnContents(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = Number(event.target.title);\r\n        if (checked === true) {\r\n            this.tableAction = false;\r\n            this.ownLessonResourceIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.ownLessonResourceIds.findIndex(item => item === selectedId);\r\n            this.ownLessonResourceIds.splice(index, 1)\r\n        }\r\n        this.ownLessonResourceIds = this.removeDuplicateElements(this.ownLessonResourceIds);\r\n        if (this.ownLessonResourceIds.length <= 0) {\r\n            this.tableAction = true;\r\n        }\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    resetSelectedAddlResource() {\r\n        this.resourceIds = [];\r\n        this.tableGenAction = true;\r\n        $(\".checkAll\").prop(\"checked\", false);\r\n    }\r\n\r\n    resetSelectedOwnAddlResource() {\r\n        this.ownLessonResourceIds = [];\r\n        this.tableAction = true;\r\n        $(\".checkAllOwnContents\").prop(\"checked\", false);\r\n    }\r\n\r\n    deleteAddlResource() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete additional lesson resources ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.resourceIds.length > 0) {\r\n                        localthisObject.subscribeToDeleteResponse(localthisObject.addlResourceService.deleteAddlResource(localthisObject.resourceIds));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    deleteOwnAddlResource() {\r\n        var localthisObject = this;\r\n        if (this.contentPreferenceStatus === true) {\r\n            this.pluginService.alertMessage(\"Please change your content preference and do delete action, \", \"error\");\r\n        } else {\r\n            swal({\r\n                title: \"Are you sure to delete additional lesson resources ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        if (localthisObject.ownLessonResourceIds.length > 0) {\r\n                            localthisObject.subscribeToDeleteResponse(localthisObject.addlResourceService.deleteOwnAddlResource(localthisObject.ownLessonResourceIds));\r\n                        }\r\n                    }\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralAddlResource>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralAddlResource>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralAddlResource>) {\r\n        this.pluginService.alertMessage(\"Topic content deleted successfully\", \"success\");\r\n        this.tableGenAction = true;\r\n        this.tableAction = true;\r\n        this.resourceIds = [];\r\n        this.ownLessonResourceIds = [];\r\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\r\n        this.getAddlResourceList(this.lessonId);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n    dragTableContent() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateAddlResourceOrder();\r\n            };\r\n\r\n        $(\"#dragTable #dragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n\r\n        $(\"#dragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n    }\r\n\r\n    ownAddlResourceDragTableContent() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateOwnAddlResourceOrder();\r\n            };\r\n\r\n        $(\"#ownContentDragTable #ownContentDragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n        $(\"#ownContentDragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n\r\n    }\r\n\r\n    updateAddlResourceOrder() {\r\n        this.updateGenAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#dragTable');\r\n        var rows = table.querySelectorAll('tbody tr');\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var contentId = Number(list[0].id);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.addlResource.length; i++) {\r\n                if (this.addlResource[i].id === contentId) {\r\n                    this.addlResource[i].orderNumber = newOrderNum;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.addlResource);\r\n        })\r\n    }\r\n\r\n    updateOwnAddlResourceOrder() {\r\n        this.updateAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#ownContentDragTable');\r\n        var rows = table.querySelectorAll('tbody tr')\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var contentId = Number(list[0].id);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.ownAddlResource.length; i++) {\r\n                if (this.ownAddlResource[i].id === contentId) {\r\n                    this.ownAddlResource[i].orderNumber = newOrderNum;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.ownAddlResource);\r\n        })\r\n    }\r\n\r\n    updateAddlResourceWithOrderNumber() {\r\n        let updatedAddlResource: any[] = [];\r\n        for (let i = 0; i < this.addlResource.length; i++) {\r\n            updatedAddlResource.push({\r\n                id: this.addlResource[i].id,\r\n                orderNumber: this.addlResource[i].orderNumber\r\n            })\r\n        }\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange === true) {\r\n                        localthisObject.subscribeToUpdateAddlResouceResponse(localthisObject.addlResourceService.updateAddlResource(updatedAddlResource));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToUpdateAddlResouceResponse(result: Observable<HttpResponse<IAddlResource[]>>) {\r\n        result.subscribe((res: HttpResponse<IAddlResource[]>) => this.onUpdateAddlSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateAddlSuccess(res: HttpResponse<IAddlResource[]>) {\r\n        this.pluginService.alertMessage(\"Additional resource order updated successfully\", \"success\");\r\n        this.getAddlResourceList(this.lessonId);\r\n        this.updateGenAction = true;\r\n        this.resetFormValues();\r\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\r\n    }\r\n\r\n    updateOwnAddlResourceWithOrderNumber() {\r\n        let updatedOwnAddlResource: any[] = [];\r\n        for (let i = 0; i < this.ownAddlResource.length; i++) {\r\n            updatedOwnAddlResource.push({\r\n                id: this.ownAddlResource[i].id,\r\n                orderNumber: this.ownAddlResource[i].orderNumber\r\n            })\r\n        }\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange === true) {\r\n                        localthisObject.subscribeToUpdateOwnAddlResouceResponse(localthisObject.addlResourceService.updateOwnAddlResource(updatedOwnAddlResource));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToUpdateOwnAddlResouceResponse(result: Observable<HttpResponse<IOrgGeneralAddlResource[]>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onUpdateOwnAddlSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateOwnAddlSuccess(res: HttpResponse<IOrgGeneralAddlResource[]>) {\r\n        this.pluginService.alertMessage(\"Additional resource order updated successfully\", \"success\");\r\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\r\n        this.updateAction = true;\r\n        this.resetFormValues();\r\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandNode = !this.enableExpandNode;\r\n        if (this.enableExpandNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n        }\r\n    }\r\n\r\n    closeLessonResourceModalWithOutSaving() {\r\n        if (this.modalTitleName === \"View\") {\r\n            this.closeLessonResourceModal();\r\n        }\r\n        else if (this.modalTitleName === \"Add\" || this.modalTitleName === \"Edit\") {\r\n            var localthisObject = this;\r\n            swal({\r\n                title: \"Are you sure to close without saving content ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        localthisObject.checkContentType();\r\n                        localthisObject.closeLessonResourceModal();\r\n                    } else {\r\n                        localthisObject.closeLessonResourceModal();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    resetLessonResource() {\r\n        this.lessonResourceForm.reset();\r\n        this.fileName = \"\";\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.selectedContentType = null;\r\n        this.selectedCategory = null;\r\n    }\r\n\r\n    getEmbedUrl(url) {\r\n        var pattern = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n        var matches = url.match(pattern);\r\n        if (matches) {\r\n            let embedURL = \"https://www.youtube.com/embed/\" + matches[1];\r\n            return embedURL;\r\n        }\r\n        return url;\r\n    }\r\n}\r\n","export * from \"./addl-resource/addl-resource-manage.component\";\r\nexport * from \"./lesson-topic/lesson-topic-manage.component\";\r\nexport * from \"./addl-resource/addl-resource-manage.component\";\r\nexport * from \"./prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component\";\r\nexport * from \"./topic-content/topic-content-manage.component\";\r\nexport * from \"./topic-question/topic-question-create.component\";\r\nexport * from \"./topic-question/topic-question-details.component\";\r\nexport * from \"./topic-question/topic-question-manage.component\";\r\nexport * from \"./topic-question/topic-question-update.component\";\r\nexport * from \"./syllabus-lesson-topic.service\";","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { ISubject } from '../../shared/model/content/subject.model';\r\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\r\nimport { IGrade } from '../../shared/model/common/grade.model';\r\nimport { Principal } from '../../core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\r\nimport { SubjectService } from '../../subject/subject.service';\r\nimport { CurriculumService } from '../../curriculum/curriculum.service';\r\nimport { ACTIVE } from '../../shared/constants/common.constants';\r\nimport { Observable } from 'rxjs';\r\nimport { GeneralSubjectService } from '../../general-subject/general-subject.service';\r\nimport { IGeneralSubject } from '../../shared/model/content/general-subject.model';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./lesson-topic-manage.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class LessonTopicManageComponent implements OnInit, AfterViewInit {\r\n    lessonTopicForm: FormGroup;\r\n    curriculumList: ICurriculum[] = [];\r\n    gradeList: IGrade[] = [];\r\n    subjectList: IGrade[] = [];\r\n    generalSubjectList: any[] = [];\r\n    subjectTree: ISubject[] = [];\r\n    generalSubjectTree: IGeneralSubject[] = [];\r\n    lessonTopicsList: ILessonTopics[] = [];\r\n    generalSubTopicsList: any[] = [];\r\n    selectedGeneralSubTopicsList: any[] = [];\r\n    allGrades: any[] = [];\r\n    topicIds: any[] = [];\r\n    lessonTopicIds: any[] = [];\r\n    nodeType: string;\r\n    modalNodeType: string;\r\n    nodeName: string;\r\n    nodeDescription: string;\r\n    lessonId: number;\r\n    lessonTopicId: number;\r\n    selectedCurriculum: any;\r\n    selectedGrade: any;\r\n    selectedSubject: any;\r\n    selectedGeneralSubjectGrade: any;\r\n    selectedGeneralSubject: any;\r\n    enableExpandSubjectNode: boolean;\r\n    enableExpandGSubjectNode: boolean;\r\n    checkOrderNumChange: boolean;\r\n    addToListAction: boolean;\r\n    tableAction: boolean;\r\n    updateAction: boolean;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public curriculumService: CurriculumService,\r\n        public subjectService: SubjectService,\r\n        public lessonTopicService: SyllabusLessonTopicService,\r\n        protected eventManager: JhiEventManager,\r\n        protected parseLinks: JhiParseLinks,\r\n        protected principalService: Principal,\r\n        public pluginService: PluginService,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        private formBuilder: FormBuilder,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.enableExpandSubjectNode = false;\r\n        this.enableExpandGSubjectNode = false;\r\n        this.tableAction = true;\r\n        this.updateAction = true;\r\n        this.addToListAction = true;\r\n        this.allGrades = [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": 1\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": 2\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"name\": 3\r\n            },\r\n            {\r\n                \"id\": 4,\r\n                \"name\": 4\r\n            },\r\n            {\r\n                \"id\": 5,\r\n                \"name\": 5\r\n            },\r\n            {\r\n                \"id\": 6,\r\n                \"name\": 6\r\n            },\r\n            {\r\n                \"id\": 7,\r\n                \"name\": 7\r\n            },\r\n            {\r\n                \"id\": 8,\r\n                \"name\": 8\r\n            },\r\n            {\r\n                \"id\": 9,\r\n                \"name\": 9\r\n            },\r\n            {\r\n                \"id\": 10,\r\n                \"name\": 10\r\n            },\r\n            {\r\n                \"id\": 11,\r\n                \"name\": 11\r\n            },\r\n            {\r\n                \"id\": 12,\r\n                \"name\": 12\r\n            }\r\n        ];\r\n        this.selectedGeneralSubjectGrade = null;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadCurriculums();\r\n        this.createLessonTopicForm();\r\n    }\r\n\r\n    createLessonTopicForm() {\r\n        this.lessonTopicForm = this.formBuilder.group({\r\n            generalTopicName: new FormControl(\"\"),\r\n            newTopicName: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)])\r\n        })\r\n    }\r\n\r\n    loadCurriculums() {\r\n        this.curriculumService.getCurriculumSearch().subscribe(\r\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignCurriculumList(data: ICurriculum[]) {\r\n        this.curriculumList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.curriculumList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.showSyllabusDetails();\r\n        this.showGeneralSubjectTreeDetails();\r\n    }\r\n\r\n    onCurriculumChange() {\r\n        let gradesApplicableFrom, gradesApplicableTo;\r\n        if (this.selectedCurriculum) {\r\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        }\r\n        this.selectedGrade = null;\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    onGradeChange() {\r\n        let curriculumId, gradeId, status;\r\n        if (this.selectedGrade) {\r\n            curriculumId = this.selectedCurriculum.id;\r\n            gradeId = this.selectedGrade.id;\r\n            status = ACTIVE;\r\n            this.subjectService\r\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    assignSubjectList(data: ISubject[]) {\r\n        this.subjectList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.subjectList.push(data[i]);\r\n        }\r\n    }\r\n\r\n\r\n    generateGradeList(min, max) {\r\n        this.gradeList = [];\r\n        for (var i = min; i <= max; i++) {\r\n            this.gradeList.push({\r\n                \"id\": i,\r\n                \"name\": i\r\n            });\r\n        }\r\n        return this.gradeList;\r\n    }\r\n\r\n    onGeneralSubjectGradeChange() {\r\n        if (this.selectedGeneralSubjectGrade) {\r\n            let grade = this.selectedGeneralSubjectGrade.name;\r\n            let status = ACTIVE;\r\n            this.selectedGeneralSubject = null;\r\n            this.generalSubjectService\r\n                .getSubjectListByGrade(grade, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignGeneralSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.generalSubjectList = [];\r\n    }\r\n\r\n    assignGeneralSubjectList(data: IGeneralSubject[]) {\r\n        this.generalSubjectList = [];\r\n        this.generalSubjectList = data;\r\n    }\r\n\r\n\r\n    loadSubjectTree() {\r\n        if (this.selectedSubject) {\r\n            let subjectId = this.selectedSubject.id;\r\n            this.subjectTree = [];\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n            if (subjectId) {\r\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                )\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\");\r\n            }\r\n        }\r\n    }\r\n\r\n    assignSubjectTree(subject: ISubject[]) {\r\n        this.subjectTree = [];\r\n        if (subject.length > 0) {\r\n            for (let i = 0; i < subject.length; i++) {\r\n                if (subject[i].data.topicsCount === 0) {\r\n                    subject[i].icon = \"fa fa-times text-danger\";\r\n                }\r\n                this.subjectTree.push(subject[i]);\r\n            }\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n        }\r\n        this.nodeType = \"\";\r\n        this.enableExpandSubjectNode = false;\r\n    }\r\n\r\n    showSyllabusDetails() {\r\n        var localThisObj = this;\r\n        $('#treeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.nodeType = data.node.type;\r\n                    if (localThisObj.nodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.nodeType === \"unit\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else if (localThisObj.nodeType === \"lesson\") {\r\n                        localThisObj.lessonId = data.node.data.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.objective;\r\n                        localThisObj.getLessonTopicList(localThisObj.lessonId);\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getLessonTopicList(lessonId) {\r\n        this.lessonTopicService\r\n            .getLessonTopicListByLessonId(lessonId)\r\n            .subscribe(\r\n                (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignLessonTopicsList(data: ILessonTopics) {\r\n        this.lessonTopicsList = [];\r\n        if (data.lessonTopics.length > 0) {\r\n            this.lessonTopicsList = data.lessonTopics;\r\n            this.sortArrayByOrderNumber(this.lessonTopicsList);\r\n            this.updateAction = true;\r\n            this.tableAction = true;\r\n            this.topicIds = [];\r\n            this.dragUpdateLessonTopicList();\r\n        }\r\n    }\r\n\r\n    sortArrayByOrderNumber(array: any[]) {\r\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandSubjectNode = !this.enableExpandSubjectNode;\r\n        if (this.enableExpandSubjectNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n        }\r\n    }\r\n\r\n    checkSelectedTopics(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = Number(event.target.title);\r\n        if (checked === true) {\r\n            this.tableAction = false;\r\n            this.lessonTopicIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.lessonTopicIds.findIndex(item => item === selectedId);\r\n            this.lessonTopicIds.splice(index, 1)\r\n        }\r\n        this.lessonTopicIds = this.removeDuplicateElements(this.lessonTopicIds);\r\n        if (this.lessonTopicIds.length <= 0) {\r\n            this.tableAction = true;\r\n        }\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    deleteLessonTopics() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete lesson topic mapping ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.lessonTopicIds.length > 0) {\r\n                        localthisObject.subscribeToDeleteResponse(localthisObject.lessonTopicService.deleteLessonTopicMapping(localthisObject.lessonTopicIds));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<ILessonTopics>>) {\r\n        result.subscribe((res: HttpResponse<ILessonTopics>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<ILessonTopics>) {\r\n        this.pluginService.alertMessage(\"Lesson topic deleted successfully\", \"success\");\r\n        this.tableAction = true;\r\n        this.lessonTopicIds = [];\r\n        this.getLessonTopicList(this.lessonId);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n\r\n    resetSelectedTopic() {\r\n        this.lessonTopicIds = [];\r\n        this.tableAction = true;\r\n        $(\".checkAll\").prop(\"checked\", false);\r\n    }\r\n\r\n    updateLessonTopicMapping(lessonTopics: ILessonTopics[]) {\r\n        this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(lessonTopics))\r\n\r\n    }\r\n\r\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<ILessonTopics[]>>) {\r\n        result.subscribe((res: HttpResponse<ILessonTopics[]>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateSuccess(res: HttpResponse<ILessonTopics[]>) {\r\n        this.pluginService.alertMessage(\"Lesson topic mapping updated successfully\", \"success\");\r\n        this.getLessonTopicList(this.lessonId);\r\n        this.closeEditLessonTopicModal();\r\n    }\r\n\r\n    dragUpdateLessonTopicList() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateLessonTopicOrder();\r\n            };\r\n        $(\"#dragTable #dragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n        $(\"#dragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n    }\r\n\r\n    updateLessonTopicOrder() {\r\n        this.updateAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#dragTable');\r\n        var rows = table.querySelectorAll('tbody tr');\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var topicMappingId = Number(list[0].title);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\r\n                if (this.lessonTopicsList[i].id === topicMappingId) {\r\n                    this.lessonTopicsList[i].orderNumber = newOrderNum;\r\n                    this.lessonTopicsList[i].id = topicMappingId;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.lessonTopicsList)\r\n        })\r\n    }\r\n\r\n    updateLessonTopics() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange) {\r\n                        localthisObject.subscribeToUpdateResponse(localthisObject.lessonTopicService.updateLessonTopicMapping(localthisObject.lessonTopicsList));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    addNewGeneralTopicMapping() {\r\n        this.generalSubTopicsList = [];\r\n        this.selectedGeneralSubTopicsList = [];\r\n        this.generalSubjectTree = [];\r\n        this.selectedGeneralSubject = null;\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.modalNodeType = \"\";\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.openTopicMappingModal();\r\n    }\r\n\r\n    loadGeneralSubjectTree() {\r\n        this.generalSubjectTree = [];\r\n        this.modalNodeType = \"\";\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        if (this.selectedGeneralSubject) {\r\n            let generalSubjectId = this.selectedGeneralSubject.id;\r\n            this.generalSubjectService.getSubjectTreeBySubjectId(generalSubjectId).subscribe(\r\n                (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectTree(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            )\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n        }\r\n    }\r\n\r\n    assignGeneralSubjectTree(data: IGeneralSubject[]) {\r\n        this.generalSubjectTree = data;\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.enableExpandGSubjectNode = false;\r\n    }\r\n\r\n    showGeneralSubjectTreeDetails() {\r\n        var localThisObj = this;\r\n        $('#generalSubjectTreeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j, conceptId: string;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.modalNodeType = data.node.type;\r\n                    if (localThisObj.modalNodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.modalNodeType === \"concept\") {\r\n                        conceptId = data.node.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                        localThisObj.topicIds = [];\r\n                        this.addToListAction = true;\r\n                        localThisObj.getTopicsList(conceptId);\r\n                    } else if (localThisObj.modalNodeType === \"topic\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else {\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getTopicsList(conceptId) {\r\n        let conceptChildrenList: any[];\r\n        conceptChildrenList = this.generalSubjectTree.filter(item => item.parent === conceptId);\r\n        this.generalSubTopicsList = conceptChildrenList.filter(item => item.type === 'topic');\r\n        this.disablePreSelectedTopics();\r\n    }\r\n\r\n    disablePreSelectedTopics() {\r\n        if (this.lessonTopicsList.length > 0) {\r\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\r\n                for (let j = 0; j < this.generalSubTopicsList.length; j++) {\r\n                    if (this.lessonTopicsList[i].generalTopicId === this.generalSubTopicsList[j].data.id) {\r\n                        this.generalSubTopicsList[j].disabled = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    checkNewlyAddedTopics(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = event.target.name;\r\n        if (checked === true) {\r\n            this.topicIds.push(selectedId);\r\n            this.addToListAction = false;\r\n        } else if (checked === false) {\r\n            index = this.topicIds.findIndex(item => item === selectedId);\r\n            this.topicIds.splice(index, 1)\r\n        }\r\n        this.topicIds = this.removeDuplicateElements(this.topicIds);\r\n    }\r\n\r\n    addTopicToList() {\r\n        for (let i = 0; i < this.topicIds.length; i++) {\r\n            this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(item => item.id === this.topicIds[i]));\r\n        }\r\n        this.selectedGeneralSubTopicsList = this.removeDuplicateElements(this.selectedGeneralSubTopicsList);\r\n        this.addToListAction = true;\r\n    }\r\n\r\n    removeFromNewTopicList(id) {\r\n        var topicIndex;\r\n        if (this.selectedGeneralSubTopicsList.length > 0) {\r\n            topicIndex = this.selectedGeneralSubTopicsList.findIndex(item => item.id === id);\r\n            this.selectedGeneralSubTopicsList.splice(topicIndex, 1);\r\n        } else {\r\n            this.selectedGeneralSubTopicsList = [];\r\n        }\r\n    }\r\n\r\n    toggleGeneralSubjectTreeNodes() {\r\n        this.enableExpandGSubjectNode = !this.enableExpandGSubjectNode;\r\n        if (this.enableExpandGSubjectNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#generalSubjectTreeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#generalSubjectTreeView\")\r\n        }\r\n    }\r\n\r\n    saveLessonTopicMapping() {\r\n        let newLessonTopicsList: ILessonTopics[] = [];\r\n        for (let i = 0; i < this.selectedGeneralSubTopicsList.length; i++) {\r\n            newLessonTopicsList.push({\r\n                generalTopicId: this.selectedGeneralSubTopicsList[i].data.id,\r\n                topicName: this.selectedGeneralSubTopicsList[i].data.name,\r\n                generalTopicName: this.selectedGeneralSubTopicsList[i].data.name,\r\n                lessonId: this.lessonId,\r\n                orderNumber: this.lessonTopicsList.length + i + 10\r\n            })\r\n        }\r\n        if (newLessonTopicsList.length > 0) {\r\n            this.subscribeToSaveResponse(this.lessonTopicService.saveLessonTopicMapping(newLessonTopicsList))\r\n        } else {\r\n            this.pluginService.alertMessage(\"No lesson topics added\", \"error\");\r\n        }\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<ILessonTopics[]>>) {\r\n        result.subscribe((res: HttpResponse<ILessonTopics[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<ILessonTopics[]>) {\r\n        this.pluginService.alertMessage(\"Lesson topic mapped successfully\", \"success\");\r\n        this.closeTopicMappingModal();\r\n        this.getLessonTopicList(this.lessonId);\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n\r\n\r\n    trimValue(value) {\r\n        if (value === null || value === undefined) {\r\n            return value;\r\n        } else {\r\n            return value.trim();\r\n        }\r\n    }\r\n\r\n    editLessonTopic(lessonTopicId) {\r\n        let lessonTopic = this.lessonTopicsList.filter(item => item.id === lessonTopicId)[0];\r\n        this.lessonTopicId = lessonTopicId;\r\n        this.lessonTopicForm.setValue({\r\n            generalTopicName: lessonTopic.generalTopicName,\r\n            newTopicName: lessonTopic.topicName\r\n        })\r\n        this.lessonTopicForm.get('generalTopicName').disable();\r\n        this.openEditLessonTopicModal();\r\n    }\r\n\r\n    closeWithOutSavingTopicMapping() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to close without saving ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    localthisObject.closeTopicMappingModal();\r\n                }\r\n            });\r\n    }\r\n\r\n    openEditLessonTopicModal() {\r\n        this.pluginService.showModalWindow(\"#editLessonTopicModal\")\r\n    }\r\n\r\n    closeEditLessonTopicModal() {\r\n        this.pluginService.hideModalWindow(\"#editLessonTopicModal\")\r\n    }\r\n\r\n    closeWithOutSavingTopicName() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to close without saving ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    localthisObject.closeEditLessonTopicModal();\r\n                }\r\n            });\r\n    }\r\n\r\n    updateLessonTopicName() {\r\n        let lessonTopic: ILessonTopics = {}, lessonTopics: any[] = [];\r\n        lessonTopic = this.lessonTopicsList.filter(item => item.id === this.lessonTopicId)[0];\r\n        lessonTopic.topicName = this.trimValue(this.lessonTopicForm.get('newTopicName').value);\r\n        lessonTopics.push(lessonTopic);\r\n        this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(lessonTopics));\r\n    }\r\n\r\n\r\n    resetEditLessonTopicModal() {\r\n        let lessonTopic = this.lessonTopicsList.filter(item => item.id === this.lessonTopicId)[0];\r\n        this.lessonTopicForm.setValue({\r\n            generalTopicName: lessonTopic.generalTopicName,\r\n            newTopicName: lessonTopic.topicName\r\n        })\r\n        this.lessonTopicForm.get('generalTopicName').disable();\r\n    }\r\n\r\n    openTopicMappingModal() {\r\n        this.pluginService.showModalWindow(\"#addNewTopicMappingModal\");\r\n    }\r\n\r\n    closeTopicMappingModal() {\r\n        this.pluginService.hideModalWindow(\"#addNewTopicMappingModal\");\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { ISubject } from '../../shared/model/content/subject.model';\r\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\r\nimport { IGrade } from '../../shared/model/common/grade.model';\r\nimport { Principal } from '../../core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { IPrerequisiteLessonTopics } from '../../shared/model/content/prerequisite-lesson-topics.model';\r\nimport { CurriculumService } from '../../curriculum/curriculum.service';\r\nimport { SubjectService } from '../../subject/subject.service';\r\nimport { ACTIVE } from '../../shared/constants/common.constants';\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralSubject } from '../../shared/model/content/general-subject.model';\r\nimport { GeneralSubjectService } from '../../general-subject/general-subject.service';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./prerequisite-lesson-topic-manage.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class PrerequisiteLessonTopicManageComponent implements OnInit, AfterViewInit {\r\n    curriculumList: ICurriculum[] = [];\r\n    gradeList: IGrade[] = [];\r\n    subjectList: any[] = [];\r\n    generalSubjectList: any[] = [];\r\n    subjectTree: ISubject[] = [];\r\n    generalSubjectTree: IGeneralSubject[] = [];\r\n    lessonTopicsList: IPrerequisiteLessonTopics[] = [];\r\n    generalSubTopicsList: any[] = [];\r\n    selectedGeneralSubTopicsList: any[] = [];\r\n    topicIds: any[] = [];\r\n    lessonTopicIds: any[] = [];\r\n    allGrades: any[] = [];\r\n    nodeType: string;\r\n    modalNodeType: string;\r\n    nodeName: string;\r\n    nodeDescription: string;\r\n    lessonId: number;\r\n    lessonTopicId: number;\r\n    selectedCurriculum: any;\r\n    selectedGrade: any;\r\n    selectedSubject: any;\r\n    selectedGeneralSubject: any;\r\n    selectedGeneralSubjectGrade: any;\r\n    enableExpandSubjectNode: boolean;\r\n    enableExpandGSubjectNode: boolean;\r\n    checkOrderNumChange: boolean;\r\n    addToListAction: boolean;\r\n    tableAction: boolean;\r\n    updateAction: boolean;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public curriculumService: CurriculumService,\r\n        public subjectService: SubjectService,\r\n        public lessonTopicService: SyllabusLessonTopicService,\r\n        protected eventManager: JhiEventManager,\r\n        protected parseLinks: JhiParseLinks,\r\n        protected principalService: Principal,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        public pluginService: PluginService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.enableExpandSubjectNode = false;\r\n        this.enableExpandGSubjectNode = false;\r\n        this.addToListAction = true;\r\n        this.tableAction = true;\r\n        this.updateAction = true;\r\n        this.allGrades = [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": 1\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": 2\r\n            },\r\n            {\r\n                \"id\": 3,\r\n                \"name\": 3\r\n            },\r\n            {\r\n                \"id\": 4,\r\n                \"name\": 4\r\n            },\r\n            {\r\n                \"id\": 5,\r\n                \"name\": 5\r\n            },\r\n            {\r\n                \"id\": 6,\r\n                \"name\": 6\r\n            },\r\n            {\r\n                \"id\": 7,\r\n                \"name\": 7\r\n            },\r\n            {\r\n                \"id\": 8,\r\n                \"name\": 8\r\n            },\r\n            {\r\n                \"id\": 9,\r\n                \"name\": 9\r\n            },\r\n            {\r\n                \"id\": 10,\r\n                \"name\": 10\r\n            },\r\n            {\r\n                \"id\": 11,\r\n                \"name\": 11\r\n            },\r\n            {\r\n                \"id\": 12,\r\n                \"name\": 12\r\n            }\r\n        ];\r\n        this.selectedGeneralSubjectGrade = null;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadCurriculums();\r\n    }\r\n\r\n    loadCurriculums() {\r\n        this.curriculumService.getCurriculumSearch().subscribe(\r\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignCurriculumList(data: ICurriculum[]) {\r\n        this.curriculumList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.curriculumList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.showSyllabusDetails();\r\n        this.showGeneralSubjectTreeDetails();\r\n    }\r\n\r\n    onCurriculumChange() {\r\n        let gradesApplicableFrom, gradesApplicableTo;\r\n        if (this.selectedCurriculum) {\r\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        }\r\n        this.selectedGrade = null;\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    onGradeChange() {\r\n        let curriculumId, gradeId, status;\r\n        if (this.selectedGrade) {\r\n            curriculumId = this.selectedCurriculum.id;\r\n            gradeId = this.selectedGrade.id;\r\n            status = ACTIVE;\r\n            this.subjectService\r\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedSubject = null;\r\n    }\r\n\r\n    assignSubjectList(data: ISubject[]) {\r\n        this.subjectList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.subjectList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    generateGradeList(min, max) {\r\n        this.gradeList = [];\r\n        for (var i = min; i <= max; i++) {\r\n            this.gradeList.push({\r\n                \"id\": i,\r\n                \"name\": i\r\n            });\r\n        }\r\n        return this.gradeList;\r\n    }\r\n\r\n    onGeneralSubjectGradeChange() {\r\n        if (this.selectedGeneralSubjectGrade) {\r\n            let grade = this.selectedGeneralSubjectGrade.name;\r\n            let status = ACTIVE;\r\n            this.selectedGeneralSubject = null;\r\n            this.generalSubjectService\r\n                .getSubjectListByGrade(grade, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignGeneralSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.generalSubjectList = [];\r\n    }\r\n\r\n    assignGeneralSubjectList(data: IGeneralSubject[]) {\r\n        this.generalSubjectList = [];\r\n        this.generalSubjectList = data;\r\n    }\r\n\r\n    loadSubjectTree() {\r\n        if (this.selectedSubject) {\r\n            let subjectId = this.selectedSubject.id;\r\n            this.subjectTree = [];\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n            if (subjectId) {\r\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                )\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n            }\r\n        }\r\n    }\r\n\r\n    assignSubjectTree(subject: ISubject[]) {\r\n        this.subjectTree = [];\r\n        if (subject.length > 0) {\r\n            for (let i = 0; i < subject.length; i++) {\r\n                if (subject[i].data.preReqTopicsCount === 0) {\r\n                    subject[i].icon = \"fa fa-times text-danger\";\r\n                }\r\n                this.subjectTree.push(subject[i]);\r\n            }\r\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\r\n        }\r\n        this.enableExpandSubjectNode = false;\r\n    }\r\n\r\n    showSyllabusDetails() {\r\n        var localThisObj = this;\r\n        $('#treeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.nodeType = data.node.type;\r\n                    if (localThisObj.nodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.nodeType === \"unit\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else if (localThisObj.nodeType === \"lesson\") {\r\n                        localThisObj.lessonId = data.node.data.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.objective;\r\n                        localThisObj.getLessonTopicList(localThisObj.lessonId);\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getLessonTopicList(lessonId) {\r\n        this.lessonTopicService\r\n            .getLessonPreReqTopicListByLessonId(lessonId)\r\n            .subscribe(\r\n                (res: HttpResponse<IPrerequisiteLessonTopics>) => this.assignLessonTopicsList(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignLessonTopicsList(data: IPrerequisiteLessonTopics) {\r\n        this.lessonTopicsList = [];\r\n        if (data.lessonPreReqTopics.length > 0) {\r\n            this.lessonTopicsList = data.lessonPreReqTopics;\r\n            this.sortArrayByOrderNumber(this.lessonTopicsList);\r\n            this.dragUpdateLessonTopicList();\r\n            this.tableAction = true;\r\n            this.updateAction = true;\r\n            this.topicIds = [];\r\n        }\r\n    }\r\n\r\n    sortArrayByOrderNumber(array: any[]) {\r\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandSubjectNode = !this.enableExpandSubjectNode;\r\n        if (this.enableExpandSubjectNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n        }\r\n    }\r\n\r\n    checkSelectedTopics(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = Number(event.target.title);\r\n        if (checked === true) {\r\n            this.tableAction = false;\r\n            this.lessonTopicIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.lessonTopicIds.findIndex(item => item === selectedId);\r\n            this.lessonTopicIds.splice(index, 1)\r\n        }\r\n        this.lessonTopicIds = this.removeDuplicateElements(this.lessonTopicIds);\r\n        if (this.lessonTopicIds.length <= 0) {\r\n            this.tableAction = true;\r\n        }\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    deleteLessonTopics() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete lesson topic mapping ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.lessonTopicIds.length > 0) {\r\n                        localthisObject.subscribeToDeleteResponse(localthisObject.lessonTopicService.deletePrerequisiteLessonTopicMapping(localthisObject.lessonTopicIds));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics>>) {\r\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IPrerequisiteLessonTopics>) {\r\n        this.pluginService.alertMessage(\"Lesson topic deleted successfully\", \"success\");\r\n        this.tableAction = true;\r\n        this.lessonTopicIds = [];\r\n        this.getLessonTopicList(this.lessonId);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n    resetSelectedTopic() {\r\n        this.lessonTopicIds = [];\r\n        this.tableAction = true;\r\n        $(\".checkAll\").prop(\"checked\", false);\r\n    }\r\n\r\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics[]>>) {\r\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics[]>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateSuccess(res: HttpResponse<IPrerequisiteLessonTopics[]>) {\r\n        this.pluginService.alertMessage(\"Prerequisite lesson topic mapping updated successfully\", \"success\");\r\n        this.getLessonTopicList(this.lessonId);\r\n    }\r\n\r\n    dragUpdateLessonTopicList() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateLessonTopicOrder();\r\n            };\r\n        $(\"#dragTable #dragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n        $(\"#dragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n    }\r\n\r\n    updateLessonTopicOrder() {\r\n        this.updateAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#dragTable');\r\n        var rows = table.querySelectorAll('tbody tr');\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var topicMappingId = Number(list[0].title);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\r\n                if (this.lessonTopicsList[i].id === topicMappingId) {\r\n                    this.lessonTopicsList[i].orderNumber = newOrderNum;\r\n                    this.lessonTopicsList[i].id = topicMappingId;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.lessonTopicsList)\r\n        })\r\n    }\r\n\r\n    updateLessonTopics() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange) {\r\n                        localthisObject.subscribeToUpdateResponse(localthisObject.lessonTopicService.updatePrerequisiteLessonTopicMapping(localthisObject.lessonTopicsList));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    addNewGeneralTopicMapping() {\r\n        this.generalSubTopicsList = [];\r\n        this.selectedGeneralSubTopicsList = [];\r\n        this.generalSubjectTree = [];\r\n        this.selectedGeneralSubject = null;\r\n        this.selectedGeneralSubjectGrade = null;\r\n        this.modalNodeType = \"\";\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.openTopicMappingModal();\r\n    }\r\n\r\n    loadGeneralSubjectTree() {\r\n        this.generalSubjectTree = [];\r\n        this.modalNodeType = \"\";\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        if (this.selectedGeneralSubject) {\r\n            let generalSubjectId = this.selectedGeneralSubject.id;\r\n            this.generalSubjectService.getSubjectTreeBySubjectId(generalSubjectId).subscribe(\r\n                (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectTree(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            )\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n        }\r\n    }\r\n\r\n    assignGeneralSubjectTree(data: IGeneralSubject[]) {\r\n        this.generalSubjectTree = data;\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.enableExpandGSubjectNode = false;\r\n    }\r\n\r\n    showGeneralSubjectTreeDetails() {\r\n        var localThisObj = this;\r\n        $('#generalSubjectTreeView')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j, conceptId: string;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.modalNodeType = data.node.type;\r\n                    if (localThisObj.modalNodeType === \"root\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    }\r\n                    else if (localThisObj.modalNodeType === \"concept\") {\r\n                        conceptId = data.node.id;\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                        localThisObj.topicIds = [];\r\n                        localThisObj.getTopicsList(conceptId);\r\n                    } else if (localThisObj.modalNodeType === \"topic\") {\r\n                        localThisObj.nodeName = data.node.data.name;\r\n                        localThisObj.nodeDescription = data.node.data.description;\r\n                    } else {\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    getTopicsList(conceptId) {\r\n        let conceptChildrenList: any[];\r\n        conceptChildrenList = this.generalSubjectTree.filter(item => item.parent === conceptId);\r\n        this.generalSubTopicsList = conceptChildrenList.filter(item => item.type === 'topic');\r\n        this.disablePreSelectedTopics();\r\n        this.addToListAction = true;\r\n    }\r\n\r\n    disablePreSelectedTopics() {\r\n        if (this.lessonTopicsList.length > 0) {\r\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\r\n                for (let j = 0; j < this.generalSubTopicsList.length; j++) {\r\n                    if (this.lessonTopicsList[i].topicId === this.generalSubTopicsList[j].data.id) {\r\n                        this.generalSubTopicsList[j].disabled = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    checkNewlyAddedTopics(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = event.target.name;\r\n        if (checked === true) {\r\n            this.topicIds.push(selectedId);\r\n            this.addToListAction = false;\r\n        } else if (checked === false) {\r\n            index = this.topicIds.findIndex(item => item === selectedId);\r\n            this.topicIds.splice(index, 1)\r\n        }\r\n        this.topicIds = this.removeDuplicateElements(this.topicIds);\r\n    }\r\n\r\n    addTopicToList() {\r\n        for (let i = 0; i < this.topicIds.length; i++) {\r\n            this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(item => item.id === this.topicIds[i]));\r\n        }\r\n        this.selectedGeneralSubTopicsList = this.removeDuplicateElements(this.selectedGeneralSubTopicsList);\r\n        this.addToListAction = true;\r\n    }\r\n\r\n    removeFromNewTopicList(id) {\r\n        var topicIndex;\r\n        if (this.selectedGeneralSubTopicsList.length > 0) {\r\n            topicIndex = this.selectedGeneralSubTopicsList.findIndex(item => item.id === id);\r\n            this.selectedGeneralSubTopicsList.splice(topicIndex, 1);\r\n        } else {\r\n            this.selectedGeneralSubTopicsList = [];\r\n        }\r\n    }\r\n\r\n    toggleGeneralSubjectTreeNodes() {\r\n        this.enableExpandGSubjectNode = !this.enableExpandGSubjectNode;\r\n        if (this.enableExpandGSubjectNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#generalSubjectTreeView\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#generalSubjectTreeView\")\r\n        }\r\n    }\r\n\r\n    saveLessonTopicMapping() {\r\n        let newLessonTopicsList: IPrerequisiteLessonTopics[] = [];\r\n        for (let i = 0; i < this.selectedGeneralSubTopicsList.length; i++) {\r\n            newLessonTopicsList.push({\r\n                topicId: this.selectedGeneralSubTopicsList[i].data.id,\r\n                displayName: this.selectedGeneralSubTopicsList[i].data.name,\r\n                lessonId: this.lessonId,\r\n                orderNumber: this.lessonTopicsList.length + i + 1\r\n            })\r\n        }\r\n        if (newLessonTopicsList.length > 0) {\r\n            this.subscribeToSaveResponse(this.lessonTopicService.savePrerequisiteLessonTopicMapping(newLessonTopicsList))\r\n        } else {\r\n            this.pluginService.alertMessage(\"No prerequisite lesson topics added\", \"error\");\r\n        }\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics[]>>) {\r\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IPrerequisiteLessonTopics[]>) {\r\n        this.pluginService.alertMessage(\"Lesson topic mapped successfully\", \"success\");\r\n        this.closeTopicMappingModal();\r\n        this.getLessonTopicList(this.lessonId);\r\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\r\n        this.loadSubjectTree();\r\n    }\r\n\r\n    openTopicMappingModal() {\r\n        this.pluginService.showModalWindow(\"#addNewPrereqTopicMappingModal\");\r\n    }\r\n\r\n    closeTopicMappingModal() {\r\n        this.pluginService.hideModalWindow(\"#addNewPrereqTopicMappingModal\");\r\n    }\r\n\r\n    closeWithOutSavingTopicMapping() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to close without saving ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    localthisObject.closeTopicMappingModal();\r\n                }\r\n            });\r\n    }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\r\nimport { NgJhipsterModule } from 'ng-jhipster';\r\nimport { SharedModule } from '../shared';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { syllabusLessonTopicRoute } from './syllabus-lesson-topic.route';\r\nimport { QuestionBuilderModule } from '../question-builder/question-builder.module';\r\nimport {\r\n    LessonTopicManageComponent,\r\n    PrerequisiteLessonTopicManageComponent,\r\n    CurriculumTopicContentManageComponent,\r\n    CurriculumTopicQuestionManageComponent,\r\n    CurriculumTopicQuestionCreateComponent,\r\n    CurriculumTopicQuestionDetailsComponent,\r\n    CurriculumTopicQuestionUpdateComponent,\r\n    CurriculumAdditionalResourcesManageComponent,\r\n    SyllabusLessonTopicService\r\n} from './index'\r\n\r\n@NgModule({\r\n    imports: [\r\n        QuestionBuilderModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        SharedModule,\r\n        NgJhipsterModule,\r\n        InfiniteScrollModule,\r\n        NgbModule,\r\n        RouterModule.forChild(syllabusLessonTopicRoute),\r\n    ],\r\n    declarations: [\r\n        LessonTopicManageComponent,\r\n        PrerequisiteLessonTopicManageComponent,\r\n        CurriculumTopicContentManageComponent,\r\n        CurriculumTopicQuestionManageComponent,\r\n        CurriculumTopicQuestionCreateComponent,\r\n        CurriculumTopicQuestionDetailsComponent,\r\n        CurriculumTopicQuestionUpdateComponent,\r\n        CurriculumAdditionalResourcesManageComponent\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    exports: [\r\n        CurriculumTopicQuestionDetailsComponent,\r\n        CurriculumTopicQuestionUpdateComponent\r\n    ],\r\n    providers: [\r\n        SyllabusLessonTopicService\r\n    ]\r\n})\r\n\r\nexport class SyllabusLessonTopicModule {\r\n\r\n}","import { UserRouteAccessService } from '../core';\r\nimport { Routes } from '@angular/router';\r\nimport { LessonTopicManageComponent } from './lesson-topic/lesson-topic-manage.component';\r\nimport { PrerequisiteLessonTopicManageComponent } from './prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component';\r\nimport { CurriculumTopicContentManageComponent } from './topic-content/topic-content-manage.component';\r\nimport { CurriculumTopicQuestionManageComponent } from './topic-question/topic-question-manage.component';\r\nimport { CurriculumAdditionalResourcesManageComponent } from './addl-resource/addl-resource-manage.component';\r\nimport { CurriculumTopicQuestionCreateComponent } from './topic-question/topic-question-create.component';\r\nimport { MatchlistComponent } from '../question-builder/matchlist/matchlist.component';\r\nimport { MCQChoiceMatrixComponent } from '../question-builder/mcq-choicematrix';\r\nimport { MCQStandardComponent } from '../question-builder/mcq-standard';\r\nimport { CurriculumTopicQuestionDetailsComponent } from './topic-question/topic-question-details.component';\r\nimport { CurriculumTopicQuestionUpdateComponent } from './topic-question/topic-question-update.component';\r\nimport { DragAndDropComponent } from '../question-builder/cloze/drag-n-drop/drag-n-drop.component';\r\nimport { OCRComponent } from '../shared/ocr/ocr.component';\r\n\r\nexport const syllabusLessonTopicRoute: Routes = [\r\n    {\r\n        path: \"\", redirectTo: \"lesson-topic-manage\", pathMatch: \"full\"\r\n    },\r\n    {\r\n        path: \"lesson-topic-manage\",\r\n        component: LessonTopicManageComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Manage lesson topics'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \"prerequisite-lesson-topic-manage\",\r\n        component: PrerequisiteLessonTopicManageComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Manage prerequisite lesson topics'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \"topic-content\",\r\n        component: CurriculumTopicContentManageComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Manage video content mapping'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \"topic-question\",\r\n        component: CurriculumTopicQuestionManageComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Manage topic questions'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \":id/topic-question-create\",\r\n        component: CurriculumTopicQuestionCreateComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Create new topic question'\r\n        },\r\n        canActivate: [UserRouteAccessService],\r\n        children: [\r\n            {\r\n                path: 'mcqstandard',\r\n                component: MCQStandardComponent,\r\n                data: {\r\n                    type: \"MCQ_SINGLE\",\r\n                    title: \"Create\"\r\n                },\r\n            },\r\n            {\r\n                path: \"mcqmultiple\",\r\n                component: MCQStandardComponent,\r\n                data: {\r\n                    type: \"MCQ_MULTIPLE\",\r\n                    mode: \"Create\"\r\n                }\r\n            },\r\n            {\r\n                path: \"mcqtruefalse\",\r\n                component: MCQStandardComponent,\r\n                data: {\r\n                    type: \"MCQ_TRUE_FALSE\",\r\n                    title: \"Create\"\r\n                }\r\n            },\r\n            {\r\n                path: 'mcqchoicematrix',\r\n                component: MCQChoiceMatrixComponent,\r\n                data: {\r\n                    title: \"Create\",\r\n                    type: \"MCQ_CHOICE_MATRIX\"\r\n                }\r\n            }, {\r\n                path: \"matchlist\",\r\n                component: MatchlistComponent,\r\n                data: {\r\n                    title: \"Create\",\r\n                    type: \"MCQ_MATCH_LIST\"\r\n                }\r\n            },\r\n            {\r\n                path: \"clozedrag\",\r\n                component: DragAndDropComponent,\r\n                data: {\r\n                    title: \"Create\",\r\n                    type: \"mcq-drag\"\r\n                }\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        path: \":id/topic-question-edit\",\r\n        component: CurriculumTopicQuestionUpdateComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Edit topic question'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \":id/topic-question-view\",\r\n        component: CurriculumTopicQuestionDetailsComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'View topic question'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \":id/general-topic-question-view\",\r\n        component: CurriculumTopicQuestionDetailsComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'View topic question'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: \"additional-resources\",\r\n        component: CurriculumAdditionalResourcesManageComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'Manage study material'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    },\r\n    {\r\n        path: 'ocr',\r\n        component: OCRComponent,\r\n        data: {\r\n            authorities: ['SYSTEM_ADMIN'],\r\n            pageTitle: 'OCR tool (Convert image to text)'\r\n        },\r\n        canActivate: [UserRouteAccessService]\r\n    }\r\n];\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { ILessonTopics } from '../shared/model/content/lesson-topics.model';\r\nimport { IPrerequisiteLessonTopics } from '../shared/model/content/prerequisite-lesson-topics.model';\r\nimport { IOrgGeneralTopicContent } from '../shared/model/content/org-general-topic-content.model';\r\nimport { ITopicAllDetails } from '../shared/model/content/topic-all-details.model';\r\nimport { IOrgGeneralTopicQuestion } from '../shared/model/content/org-general-topic-question.model';\r\nimport { IContentPreference } from '../shared/model/content/content-preference.model';\r\nimport { IQuestionPreference } from '../shared/model/content/question-preference.model';\r\nimport { IAddlResource } from '../shared/model/content/addl-resource.model';\r\nimport { IOrgGeneralAddlResource } from '../shared/model/content/org-general-addl-resource.model';\r\nimport { IAddlResoucePreference } from '../shared/model/content/addl-resource-preference.model';\r\nimport { IContent } from '../shared/model/content/content.model';\r\nimport { IQuestion } from '../shared/model/content/question.model';\r\nimport {\r\n    lessonTopic, prereqLessonTopic, content, question, orgGeneralTopicContent, orgGeneralTopicContentSearch, orgGeneralTopicQuestion, orgGeneralTopicQuestionSearch,\r\n    orgGenTopicContentSetPreference, orgGenTopicContentGetPreference, orgGenTopicQuestionSetPreference, orgGenTopicQuestionGetPreference,\r\n    addlResources, orgAddlResources, orgAddlResourcesSetPreference, orgAddlResourcesGetPreference, lessonTopicDetails, lessonPreReqTopicDetails, topicContentDetails, topicQuestionDetails\r\n} from '../shared/constants/service.constants';\r\n\r\ntype lessonTopicResponseType = HttpResponse<ILessonTopics>;\r\ntype lessonTopicArrayResponseType = HttpResponse<ILessonTopics[]>;\r\ntype lessonPreReqTopicResponseType = HttpResponse<IPrerequisiteLessonTopics>;\r\ntype topicResponseType = HttpResponse<ITopicAllDetails>;\r\ntype prerequisiteLessonTopicArrayResponseType = HttpResponse<IPrerequisiteLessonTopics[]>;\r\ntype topicAllDetailsResponseType = HttpResponse<ITopicAllDetails>;\r\ntype orgGeneralTopicContentResponseType = HttpResponse<IOrgGeneralTopicContent[]>;\r\ntype questionEntityResponseType = HttpResponse<IQuestion>;\r\ntype orgGeneralTopicQuestionEntityResponseType = HttpResponse<IOrgGeneralTopicQuestion>;\r\ntype orgGeneralTopicQuestionResponseType = HttpResponse<IOrgGeneralTopicQuestion[]>;\r\ntype contentResponseType = HttpResponse<IContent>;\r\ntype contentPreferenceResponseType = HttpResponse<IContentPreference>;\r\ntype questionPreferenceResponseType = HttpResponse<IQuestionPreference>;\r\ntype addlResourceArrayResponseType = HttpResponse<IAddlResource[]>;\r\ntype orgAddlResourceArrayResponseType = HttpResponse<IOrgGeneralAddlResource[]>;\r\ntype addlResoucePreferenceResponseType = HttpResponse<IAddlResoucePreference>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SyllabusLessonTopicService {\r\n    public lessonTopicResourceUrl = environment.API_URL + lessonTopic;\r\n    public prerequisiteLessonTopicResourceUrl = environment.API_URL + prereqLessonTopic;\r\n    public contentResourceUrl = environment.API_URL + content;\r\n    public topicContentDetailsResouceUrl = environment.API_URL + topicContentDetails;\r\n    public topicQuestionDetailsResouceUrl = environment.API_URL + topicQuestionDetails;\r\n    public questionResourceUrl = environment.API_URL + question;\r\n    public orgGeneralTopicContentResourceUrl = environment.API_URL + orgGeneralTopicContent;\r\n    public orgGeneralTopicContentSearchResourceUrl = environment.API_URL + orgGeneralTopicContentSearch;\r\n    public orgGeneralTopicQuestionResourceUrl = environment.API_URL + orgGeneralTopicQuestion;\r\n    public orgGeneralTopicQuestionSearchResourceUrl = environment.API_URL + orgGeneralTopicQuestionSearch;\r\n    public contentPreferenceResourceUrl = environment.API_URL + orgGenTopicContentSetPreference;\r\n    public getContentPreferenceResourceUrl = environment.API_URL + orgGenTopicContentGetPreference;\r\n    public orgQuestionPreferenceResourceUrl = environment.API_URL + orgGenTopicQuestionSetPreference;\r\n    public getQuestionPreferenceResourceUrl = environment.API_URL + orgGenTopicQuestionGetPreference;\r\n    public lessonTopicDetailsResourceUrl = environment.API_URL + lessonTopicDetails;\r\n    public lessonPreReqTopicDetailsResourceUrl = environment.API_URL + lessonPreReqTopicDetails;\r\n    public addlResourceUrl = environment.API_URL + addlResources;\r\n    public orgAddlResourceUrl = environment.API_URL + orgAddlResources;\r\n    public setAddlResourcePreferenceUrl = environment.API_URL + orgAddlResourcesSetPreference;\r\n    public getAddlResourcePreferenceUrl = environment.API_URL + orgAddlResourcesGetPreference;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    getLessonTopicListByLessonId(id: number): Observable<lessonTopicResponseType> {\r\n        return this.http.get<ILessonTopics>(`${this.lessonTopicDetailsResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getLessonPreReqTopicListByLessonId(id: number): Observable<lessonPreReqTopicResponseType> {\r\n        return this.http.get<IPrerequisiteLessonTopics>(`${this.lessonPreReqTopicDetailsResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getLessonTopicListByLessonTopicId(id: number): Observable<lessonTopicResponseType> {\r\n        return this.http.get<ILessonTopics>(`${this.lessonTopicResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    updateLessonTopicMapping(lessonTopic: ILessonTopics[]): Observable<lessonTopicArrayResponseType> {\r\n        return this.http.put<ILessonTopics[]>(this.lessonTopicResourceUrl, lessonTopic, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    saveLessonTopicMapping(topicMapping: ILessonTopics[]): Observable<lessonTopicArrayResponseType> {\r\n        return this.http.post<ILessonTopics[]>(this.lessonTopicResourceUrl, topicMapping, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteLessonTopicMapping(topicIds: any[]): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.lessonTopicResourceUrl}/${\"batch\"}/${topicIds}`, { observe: 'response' });\r\n    }\r\n\r\n    updatePrerequisiteLessonTopicMapping(lessonTopic: IPrerequisiteLessonTopics[]): Observable<prerequisiteLessonTopicArrayResponseType> {\r\n        return this.http.put<IPrerequisiteLessonTopics[]>(this.prerequisiteLessonTopicResourceUrl, lessonTopic, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    savePrerequisiteLessonTopicMapping(topicMapping: IPrerequisiteLessonTopics[]): Observable<prerequisiteLessonTopicArrayResponseType> {\r\n        return this.http.post<IPrerequisiteLessonTopics[]>(this.prerequisiteLessonTopicResourceUrl, topicMapping, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deletePrerequisiteLessonTopicMapping(topicIds): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.prerequisiteLessonTopicResourceUrl}/${\"batch\"}/${topicIds}`, { observe: 'response' });\r\n    }\r\n\r\n    getTopicContentDetails(id: number): Observable<topicAllDetailsResponseType> {\r\n        return this.http.get<ITopicAllDetails>(`${this.topicContentDetailsResouceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getTopicQuestionDetails(id: number): Observable<topicAllDetailsResponseType> {\r\n        return this.http.get<ITopicAllDetails>(`${this.topicQuestionDetailsResouceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getOrgGeneralTopicContentsByOrgId(topicId: number, organisationId: number): Observable<orgGeneralTopicContentResponseType> {\r\n        var reqJSON = {\r\n            \"generalTopicId\": topicId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.post<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentSearchResourceUrl, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    getOrgGeneralTopicQuestionsByOrgId(topicId: number, organisationId: number): Observable<orgGeneralTopicQuestionResponseType> {\r\n        var reqJSON = {\r\n            \"generalTopicId\": topicId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.post<IOrgGeneralTopicQuestion[]>(this.orgGeneralTopicQuestionSearchResourceUrl, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    setContentPreference(isActive: boolean, generalTopicId: number, organisationId: number) {\r\n        var reqJSON = {\r\n            \"active\": isActive,\r\n            \"generalTopicId\": generalTopicId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.put<IContentPreference>(this.contentPreferenceResourceUrl, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    getContentPreference(organisationId: number, generalTopicId: number): Observable<contentPreferenceResponseType> {\r\n        var reqJSON = {\r\n            organisationId: organisationId,\r\n            generalTopicId: generalTopicId\r\n        }\r\n        return this.http.post<IContentPreference>(this.getContentPreferenceResourceUrl, reqJSON, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    setQuestionPreference(isActive: boolean, generalTopicId: number, organisationId: number) {\r\n        var reqJSON = {\r\n            \"active\": isActive,\r\n            \"generalTopicId\": generalTopicId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.put<IQuestionPreference>(this.orgQuestionPreferenceResourceUrl, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    getQuestionPreference(orgId: number, topicId: number): Observable<questionPreferenceResponseType> {\r\n        var reqJSON = {\r\n            organisationId: orgId,\r\n            generalTopicId: topicId\r\n        }\r\n        return this.http.post<IQuestionPreference>(this.getQuestionPreferenceResourceUrl, reqJSON, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    saveOwnTopicContent(ownGeneralTopicContents: IOrgGeneralTopicContent[]): Observable<orgGeneralTopicContentResponseType> {\r\n        return this.http.post<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentResourceUrl, ownGeneralTopicContents, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateOwnTopicContents(ownGeneralTopicContents: IOrgGeneralTopicContent[]): Observable<orgGeneralTopicContentResponseType> {\r\n        return this.http.put<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentResourceUrl, ownGeneralTopicContents, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateContentSource(ownGeneralTopicContent: IContent): Observable<contentResponseType> {\r\n        return this.http.put<IContent>(this.contentResourceUrl, ownGeneralTopicContent, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteOwnTopicContents(contentIds): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.orgGeneralTopicContentResourceUrl}/${\"batch\"}/${contentIds}`, { observe: 'response' });\r\n    }\r\n\r\n    deleteOwnTopicQuestion(questionId): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.orgGeneralTopicQuestionResourceUrl}/${questionId}`, { observe: 'response' });\r\n    }\r\n\r\n    saveOwnTopicQuestion(ownGeneralTopicQuestion: IOrgGeneralTopicQuestion): Observable<orgGeneralTopicQuestionEntityResponseType> {\r\n        return this.http.post<IOrgGeneralTopicQuestion>(this.orgGeneralTopicQuestionResourceUrl, ownGeneralTopicQuestion, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    getGeneralTopicQuestionByQuestionId(id: number): Observable<questionEntityResponseType> {\r\n        return this.http.get<IQuestion>(`${this.questionResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getOrgTopicQuestionByQuestionId(id: number): Observable<questionEntityResponseType> {\r\n        return this.http.get<IOrgGeneralTopicQuestion>(`${this.orgGeneralTopicQuestionResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    updateOrgTopicQuestion(question: IQuestion): Observable<questionEntityResponseType> {\r\n        return this.http.put<IQuestion>(this.orgGeneralTopicQuestionResourceUrl, question, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateGeneralTopicQuestion(question: IQuestion): Observable<questionEntityResponseType> {\r\n        return this.http.put<IQuestion>(this.questionResourceUrl, question, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    getAddlResource(lessonId): Observable<addlResourceArrayResponseType> {\r\n        var reqJSON = {\r\n            lessonId: lessonId\r\n        }\r\n        return this.http.post<IAddlResource[]>(this.addlResourceUrl + '/search', reqJSON, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    saveAddlResource(addlResource: IAddlResource[]): Observable<addlResourceArrayResponseType> {\r\n        return this.http.post<IAddlResource[]>(this.addlResourceUrl, addlResource, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateAddlResource(addlResources: IAddlResource[]): Observable<addlResourceArrayResponseType> {\r\n        return this.http.put<IAddlResource[]>(this.addlResourceUrl, addlResources, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteAddlResource(resourceIds): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.addlResourceUrl}/${resourceIds}`, { observe: 'response' });\r\n    }\r\n\r\n    getOrgGeneralAddlResourceByOrganisationId(lessonId: number, organisationId: number): Observable<orgAddlResourceArrayResponseType> {\r\n        var reqJSON = {\r\n            lessonId: lessonId,\r\n            organisationId: organisationId\r\n        }\r\n        return this.http.post<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl + '/search', reqJSON, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    saveOwnAddlResource(ownAddlResource: IOrgGeneralAddlResource[]): Observable<orgAddlResourceArrayResponseType> {\r\n        return this.http.post<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl, ownAddlResource, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    updateOwnAddlResource(ownAddlResources: IOrgGeneralAddlResource[]): Observable<orgAddlResourceArrayResponseType> {\r\n        return this.http.put<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl, ownAddlResources, { headers: headers, observe: 'response' });\r\n    }\r\n\r\n    deleteOwnAddlResource(resourceIds): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.orgAddlResourceUrl}/${resourceIds}`, { observe: 'response' });\r\n    }\r\n\r\n    setAddlResourcePreference(isActive: boolean, lessonId: number, organisationId: number) {\r\n        var reqJSON = {\r\n            \"active\": isActive,\r\n            \"lessonId\": lessonId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.put<IAddlResoucePreference>(this.setAddlResourcePreferenceUrl, reqJSON, { observe: 'response' });\r\n    }\r\n\r\n    getAddlResourcePreference(lessonId: number, organisationId: number): Observable<addlResoucePreferenceResponseType> {\r\n        var reqJSON = {\r\n            \"lessonId\": lessonId,\r\n            \"organisationId\": organisationId\r\n        }\r\n        return this.http.post<IAddlResoucePreference>(this.getAddlResourcePreferenceUrl, reqJSON, { headers: headers, observe: 'response' });\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { ISubject } from '../../shared/model/content/subject.model';\r\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\r\nimport { IGrade } from '../../shared/model/common/grade.model';\r\nimport { Principal } from '../../core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\r\nimport { IGeneralTopicContent } from '../../shared/model/content/general-topic-content.model';\r\nimport { IOrgGeneralTopicContent } from '../../shared/model/content/org-general-topic-content.model';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { IContentPreference } from '../../shared/model/content/content-preference.model';\r\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\r\nimport { IContent } from '../../shared/model/content/content.model';\r\nimport { CommonService } from '../../shared/common/common.service';\r\nimport { SubjectService } from '../../subject/subject.service';\r\nimport { OrganisationService } from '../../organisation/organisation.service';\r\nimport { CurriculumService } from '../../curriculum/curriculum.service';\r\nimport { ACTIVE } from '../../shared/constants/common.constants';\r\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\r\nimport { saveAs } from 'file-saver'\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\nimport { GeneralConceptAndTopicService } from '../../general-concept-topic';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./topic-content-manage.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumTopicContentManageComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    topicContentForm: FormGroup;\r\n    curriculumList: ICurriculum[] = [];\r\n    gradeList: IGrade[] = [];\r\n    subjectList: IGrade[] = [];\r\n    subjectTree: ISubject[] = [];\r\n    lessonList: ISubject[] = [];\r\n    organisations: IOrganisation[] = [];\r\n    contentDetails: any = {};\r\n    generalTopicContents: IGeneralTopicContent[] = [];\r\n    ownTopicContents: IOrgGeneralTopicContent[] = [];\r\n    orgGeneralTopicContents: IOrgGeneralTopicContent[] = [];\r\n    contentIds: any[] = [];\r\n    originDetails: any[] = [];\r\n    hostedDetails: any[] = [];\r\n    contentType: any[] = [];\r\n    contentSource: any[] = [];\r\n    generalTopicId: number;\r\n    organisationId: number;\r\n    contentId: number;\r\n    nodeType: string;\r\n    topicName: string;\r\n    topicDescription: string;\r\n    modalTitleName: string;\r\n    fileName: string;\r\n    uploadedFileName: string;\r\n    showFileAction: boolean;\r\n    showContentMapping: boolean;\r\n    showTopicHeading: boolean;\r\n    contentPreferenceStatus: boolean;\r\n    validateForm: boolean;\r\n    checkOrderNumChange: boolean;\r\n    checkOwnContent: boolean;\r\n    checkContentCE: boolean;\r\n    disableDropdown: boolean;\r\n    enableExpandNode: boolean;\r\n    activeUrl: string;\r\n    checkUrl1: boolean;\r\n    checkUrl2: boolean;\r\n    checkUrl3: boolean;\r\n    disableUrl: boolean;\r\n    updateAction: boolean;\r\n    tableAction: boolean;\r\n    selectedCurriculum: any;\r\n    selectedGrade: any;\r\n    selectedSubject: any;\r\n    selectedLesson: any;\r\n    selectedOrganisation: any;\r\n    selectedContentSource: any;\r\n    selectedContentType: any;\r\n    uploadedFilePath: any;\r\n    fileType: any;\r\n    selectedFile: any = null;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public subjectService: SubjectService,\r\n        public curriculumService: CurriculumService,\r\n        public organisationService: OrganisationService,\r\n        public topicContentService: SyllabusLessonTopicService,\r\n        public genearalTopicContentService: GeneralConceptAndTopicService,\r\n        protected eventManager: JhiEventManager,\r\n        protected parseLinks: JhiParseLinks,\r\n        protected principalService: Principal,\r\n        protected formBuilder: FormBuilder,\r\n        public pluginService: PluginService,\r\n        public userLoginService: UserLoginInfoService,\r\n        public commonService: CommonService,\r\n        private changeDetectRef: ChangeDetectorRef,\r\n        public fileService: FileManagementService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.checkContentCE = false;\r\n        this.contentPreferenceStatus = false;\r\n        this.enableExpandNode = false;\r\n        this.validateForm = true;\r\n        this.tableAction = true;\r\n        this.updateAction = true;\r\n        this.checkUrl1 = true;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadCurriculums();\r\n        this.createTopicContentForm();\r\n        this.getContentType();\r\n        this.getContentSource();\r\n    }\r\n\r\n    createTopicContentForm() {\r\n        this.topicContentForm = this.formBuilder.group({\r\n            contentTitle: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)]),\r\n            contentDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\r\n            webUrl1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\r\n            webUrl2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\r\n            webUrl3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\r\n            publisher3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)])\r\n        })\r\n    }\r\n\r\n    get contentFormControl() { return this.topicContentForm.controls; }\r\n\r\n    //TODO: load org specific curriculums if user belongs to a org ELSE IF the user is CognitoED content admin/system \r\n    //admin load all the standard curriculum\r\n    loadCurriculums() {\r\n        this.curriculumService.getCurriculumSearch().subscribe(\r\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignCurriculumList(data: ICurriculum[]) {\r\n        this.curriculumList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.curriculumList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    getContentType() {\r\n        this.commonService.getContentTypeList().subscribe((typeData: any) => {\r\n            this.contentType = typeData;\r\n        });\r\n    }\r\n\r\n    getContentSource() {\r\n        this.commonService.getContentSourceList().subscribe((sourceData: any) => {\r\n            this.contentSource = sourceData;\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.nodeOnSelection();\r\n    }\r\n\r\n    onCurriculumChange() {\r\n        let gradesApplicableFrom, gradesApplicableTo;\r\n        if (this.selectedCurriculum) {\r\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        }\r\n        this.selectedGrade = null;\r\n        this.selectedSubject = null;\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    onGradeChange() {\r\n        let curriculumId, gradeId, status;\r\n        if (this.selectedGrade) {\r\n            curriculumId = this.selectedCurriculum.id;\r\n            gradeId = this.selectedGrade.id;\r\n            status = ACTIVE;\r\n            this.subjectService\r\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedSubject = null;\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    assignSubjectList(data: ISubject[]) {\r\n        $(\"#subject\").val(\"\").trigger('change');\r\n        this.subjectList = [];\r\n        this.subjectTree = [];\r\n        this.pluginService.jsTree(\"#viewTree\", this.subjectTree, false);\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.subjectList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    onSubjectChange() {\r\n        if (this.selectedSubject) {\r\n            let subjectId = this.selectedSubject.id;\r\n            this.loadSubjectTree(subjectId);\r\n        }\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    onActiveWebUrlSelection(event) {\r\n        if (event.target.checked === true) {\r\n            this.activeUrl = event.target.id;\r\n            if (this.activeUrl === \"webUrl1\") {\r\n                this.checkUrl1 = true;\r\n                this.checkUrl2 = false;\r\n                this.checkUrl3 = false;\r\n            } else if (this.activeUrl === \"webUrl2\") {\r\n                this.checkUrl2 = true;\r\n                this.checkUrl3 = false;\r\n                this.checkUrl1 = false;\r\n            } else if (this.activeUrl === \"webUrl3\") {\r\n                this.checkUrl3 = true;\r\n                this.checkUrl1 = false;\r\n                this.checkUrl2 = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onVideoFileChanges(event) {\r\n        let splitType;\r\n        this.selectedFile = event[0];\r\n        splitType = this.selectedFile.type.split('/');\r\n        this.fileType = splitType[0];\r\n        this.fileName = this.selectedFile.name;\r\n        if ((this.fileType === \"video\") && (this.selectedFile.size > 209715200)) {\r\n            this.pluginService.alertMessage(\"Please upload file size lesser than 200 MB\", \"error\");\r\n        }\r\n    }\r\n\r\n    uploadVideoFile() {\r\n        if (this.fileName !== \"No file chosen\") {\r\n            if (this.fileType === \"video\") {\r\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\r\n                    if (res.status === 200) {\r\n                        this.uploadedFileName = Object.keys(res.body)[0];\r\n                        this.uploadedFilePath = Object.values(res.body)[0];\r\n                        this.fileName = this.uploadedFileName;\r\n                        if (this.uploadedFileName && this.uploadedFilePath) {\r\n                            let block, base64Data, dataSrc;\r\n                            dataSrc = this.selectedFile.base64;\r\n                            block = dataSrc.split(\";\");\r\n                            base64Data = block[1].split(\",\")[1];\r\n                            this.fileService.uploadVideoFile(this.uploadedFilePath, base64Data).subscribe((event) => {\r\n                                if (event instanceof HttpResponse) {\r\n                                    this.showFileAction = true;\r\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.pluginService.alertMessage(\"Invalid file, it support only Video formats\", \"error\")\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\r\n        }\r\n    }\r\n\r\n    onDocumentFileChanges(event) {\r\n        this.selectedFile = event.target.files;\r\n        this.fileName = this.selectedFile[0].name;\r\n        if ((this.selectedFile[0].type === \"application/pdf\") && (this.selectedFile[0].size > 104857600)) {\r\n            this.pluginService.alertMessage(\"Please upload file size lesser than 100 MB\", \"error\");\r\n        }\r\n    }\r\n\r\n    uploadDocumentFile() {\r\n        if (this.fileName !== \"No file chosen\") {\r\n            if (this.selectedFile[0].type === \"application/pdf\") {\r\n                let file = this.selectedFile.item(0);\r\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\r\n                    if (res.status === 200) {\r\n                        this.uploadedFileName = Object.keys(res.body)[0];\r\n                        this.uploadedFilePath = Object.values(res.body)[0];\r\n                        this.fileName = this.uploadedFileName;\r\n                        if (this.uploadedFileName && this.uploadedFilePath) {\r\n                            this.fileService.uploadPDFFile(this.uploadedFilePath, file).subscribe((event) => {\r\n                                if (event instanceof HttpResponse) {\r\n                                    this.showFileAction = true;\r\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.pluginService.alertMessage(\"Invalid file, it support only PDF\", \"error\");\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\r\n        }\r\n    }\r\n\r\n    downloadFile() {\r\n        if (this.uploadedFileName) {\r\n            this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName));\r\n        }\r\n    }\r\n\r\n    protected subscribeToDownloadResponse(result: Observable<HttpResponse<any>>) {\r\n        result.subscribe((res: HttpResponse<any>) => this.onDownloadSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    onDownloadSuccess(resp) {\r\n        if (resp.body) {\r\n            let downloadFilePath = Object.values(resp.body)[0];\r\n            saveAs(downloadFilePath);\r\n        }\r\n    }\r\n\r\n    checkContentType() {\r\n        this.closeTopicContentModal();\r\n        if (this.selectedContentSource) {\r\n            if (this.selectedContentSource.tag === 'FILE_UPLOAD') {\r\n                if (this.uploadedFilePath) {\r\n                    this.deleteUploadedFile();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteUploadedFile() {\r\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName));\r\n    }\r\n\r\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onError(res));\r\n    }\r\n\r\n    onDeleteFileSuccess(resp) {\r\n        this.fileName = \"No file chosen\";\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.pluginService.alertMessage(\"File deleted successfully\", \"success\");\r\n    }\r\n\r\n\r\n    generateGradeList(min, max) {\r\n        this.gradeList = [];\r\n        for (var i = min; i <= max; i++) {\r\n            this.gradeList.push({\r\n                \"id\": i,\r\n                \"name\": i\r\n            });\r\n        }\r\n        return this.gradeList;\r\n    }\r\n\r\n    loadSubjectTree(subjectId) {\r\n        this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n            (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignSubjectTree(data: ISubject[]) {\r\n        this.lessonList = [];\r\n        $(\"#lesson\").val(\"\").trigger('change');\r\n        this.subjectTree = data;\r\n        this.lessonList = this.subjectTree.filter(item => item.type === 'lesson');\r\n        this.pluginService.jsTree(\"#viewTree\", this.subjectTree, false);\r\n    }\r\n\r\n    getLessonTopicList() {\r\n        if (this.selectedLesson) {\r\n            let lessonId = this.selectedLesson.data.id;\r\n            if (lessonId) {\r\n                this.topicContentService\r\n                    .getLessonTopicListByLessonId(lessonId)\r\n                    .subscribe(\r\n                        (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\r\n                        (res: HttpErrorResponse) => this.onError(res)\r\n                    );\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n            }\r\n        }\r\n    }\r\n\r\n    assignLessonTopicsList(data: ILessonTopics) {\r\n        let topicsList: ILessonTopics[] = [], treeTopicsList: ISubject[] = [];\r\n        if (data.lessonTopics.length > 0) {\r\n            topicsList = data.lessonTopics;\r\n            for (let i = 0; i < topicsList.length; i++) {\r\n                if (topicsList[i].topicContentCount === 0) {\r\n                    treeTopicsList.push({\r\n                        text: topicsList[i].topicName,\r\n                        generalTopicId: topicsList[i].generalTopicId,\r\n                        id: topicsList[i].id,\r\n                        icon: \"fa fa-times text-danger\"\r\n                    })\r\n                } else {\r\n                    treeTopicsList.push({\r\n                        text: topicsList[i].topicName,\r\n                        generalTopicId: topicsList[i].generalTopicId,\r\n                        id: topicsList[i].id\r\n                    })\r\n                }\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"No topics mapped to a lesson\", \"error\");\r\n        }\r\n        this.enableExpandNode = false;\r\n        this.pluginService.jsTree(\"#topicsList\", treeTopicsList, false);\r\n        this.showContentMapping = false;\r\n        this.showTopicHeading = true;\r\n    }\r\n\r\n    trimValue(value) {\r\n        if (value === null || value === undefined) {\r\n            return value;\r\n        } else {\r\n            return value.trim();\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.validateTopicContentForm();\r\n        this.changeDetectRef.detectChanges();\r\n    }\r\n\r\n    validateTopicContentForm() {\r\n        let contentName, webURL1, webURL2, webURL3;\r\n        contentName = this.trimValue(this.topicContentForm.value.contentTitle);\r\n        webURL1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n        webURL2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n        webURL3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n        if (contentName === \"\" || contentName === undefined || contentName === null) {\r\n            this.validateForm = true;\r\n        }\r\n        if ((this.uploadedFilePath === \"\" || this.uploadedFilePath === undefined || this.uploadedFilePath === null)) {\r\n            this.validateForm = true;\r\n        }\r\n        if (this.topicContentForm.valid) {\r\n            this.validateForm = false;\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateForm = true;\r\n        }\r\n        if (this.checkUrl1 === true) {\r\n            if ((webURL1 === \"\" || webURL1 === undefined || webURL1 === null)) {\r\n                this.validateForm = true;\r\n            }\r\n        }\r\n        if (this.checkUrl2 === true) {\r\n            if ((webURL2 === \"\" || webURL2 === undefined || webURL2 === null)) {\r\n                this.validateForm = true;\r\n            }\r\n        }\r\n        if (this.checkUrl3 === true) {\r\n            if ((webURL3 === \"\" || webURL3 === undefined || webURL3 === null)) {\r\n                this.validateForm = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    nodeOnSelection() {\r\n        var localThisObj = this;\r\n        $('#topicsList')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.generalTopicId = data.node.original.generalTopicId;\r\n                    localThisObj.topicName = data.node.original.text;\r\n                    localThisObj.generalTopicContents = [];\r\n                    localThisObj.orgGeneralTopicContents = [];\r\n                    localThisObj.ownTopicContents = [];\r\n                    //localThisObj.getGeneralTopicContentList(localThisObj.generalTopicId);\r\n                    localThisObj.getTopicContentList(localThisObj.generalTopicId);\r\n                    localThisObj.getOrgGeneralTopicContentByOrganisationId(localThisObj.generalTopicId);\r\n                    localThisObj.getOrganisationList();\r\n                    localThisObj.getContentPreference(localThisObj.generalTopicId);\r\n                    localThisObj.showContentMapping = true;\r\n                    localThisObj.selectedOrganisation = null;\r\n                    localThisObj.updateAction = true;\r\n                    localThisObj.tableAction = true;\r\n                }\r\n            })\r\n    }\r\n\r\n    getGeneralTopicContentList(generalTopicId) {\r\n        this.genearalTopicContentService.getTopicContentList(generalTopicId).subscribe(\r\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToGeneralTopicList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToGeneralTopicList(data: ITopicAllDetails) {\r\n        this.generalTopicContents = [];\r\n        this.generalTopicContents = data.generalTopicContents;\r\n        this.topicDescription = data.description;\r\n        this.sortArrayByOrderNumber(this.generalTopicContents);\r\n        if (this.ownTopicContents.length > 0 || this.generalTopicContents.length > 0) {\r\n            this.dragTableContent();\r\n        }\r\n    }\r\n\r\n\r\n    getTopicContentList(generalTopicId) {\r\n        this.topicContentService.getTopicContentDetails(generalTopicId).subscribe(\r\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToTopicList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToTopicList(data: ITopicAllDetails) {\r\n        this.ownTopicContents = [];\r\n        this.topicDescription = data.description;\r\n        this.ownTopicContents = data.orgGeneralTopicContents;\r\n        this.sortArrayByOrderNumber(this.ownTopicContents);\r\n        if (this.ownTopicContents.length > 0 || this.generalTopicContents.length > 0) {\r\n            this.dragTableContent();\r\n        }\r\n    }\r\n\r\n    getOrgGeneralTopicContentByOrganisationId(generalTopicId) {\r\n        //User login Information for organisationId \r\n        this.organisationId = this.userLoginService.organisationId;\r\n        this.topicContentService.getOrgGeneralTopicContentsByOrgId(generalTopicId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IOrgGeneralTopicContent[]>) => this.assignResponseToOrgTopicList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToOrgTopicList(data: IOrgGeneralTopicContent[]) {\r\n        this.orgGeneralTopicContents = [];\r\n        this.orgGeneralTopicContents = data;\r\n        this.sortArrayByOrderNumber(this.orgGeneralTopicContents);\r\n    }\r\n\r\n    getOrgTopicContentByOrgId() {\r\n        let organisationId = this.selectedOrganisation.id;\r\n        if (organisationId) {\r\n            this.topicContentService.getOrgGeneralTopicContentsByOrgId(this.generalTopicId, organisationId).subscribe(\r\n                (res: HttpResponse<IOrgGeneralTopicContent[]>) => this.assignResponseToOrgTopicContentListByOrgId(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            )\r\n        }\r\n    }\r\n\r\n    protected assignResponseToOrgTopicContentListByOrgId(data: IOrgGeneralTopicContent[]) {\r\n        this.orgGeneralTopicContents = [];\r\n        this.orgGeneralTopicContents = data;\r\n    }\r\n\r\n    checkContentPreference(event) {\r\n        let check = event.target.checked;\r\n        let name = event.target.id;\r\n        if (check === true && name === \"ContentCE\") {\r\n            this.contentPreferenceStatus = false;\r\n        } else if (check === true && name === \"OwnContent\") {\r\n            this.contentPreferenceStatus = true;\r\n        }\r\n    }\r\n\r\n    saveContentPreference() {\r\n        if (this.contentPreferenceStatus === false) {\r\n            // if (this.generalTopicContents.length > 0) {\r\n            //     this.setContentPreference();\r\n            // } else {\r\n            //     this.pluginService.alertMessage(\"Please add atleast one general topic content and change preference\", \"error\");\r\n            // }\r\n        } else if (this.contentPreferenceStatus === true) {\r\n            if (this.ownTopicContents.length > 0) {\r\n                this.setContentPreference();\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please add atleast one own topic content and change preference\", \"error\");\r\n            }\r\n        }\r\n    }\r\n\r\n    setContentPreference() {\r\n        this.topicContentService.setContentPreference(this.contentPreferenceStatus, this.generalTopicId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IContentPreference>) => this.onSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onSuccess(data) {\r\n        this.pluginService.alertMessage(\"Content preference saved successfully\", \"success\");\r\n    }\r\n\r\n    getContentPreference(generalTopicId) {\r\n        //User login Information for organisationId \r\n        let orgId = this.userLoginService.organisationId;\r\n        this.topicContentService.getContentPreference(orgId, generalTopicId).subscribe(\r\n            (res: HttpResponse<IContentPreference>) => this.onGetPreferenceSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onGetPreferenceSuccess(acitveStatus: IContentPreference) {\r\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\r\n            this.checkContentCE = true;\r\n            this.checkOwnContent = false;\r\n        } else if (acitveStatus === true) {\r\n            this.checkContentCE = false;\r\n            this.checkOwnContent = true;\r\n        }\r\n    }\r\n\r\n    openSubjectTreeModal() {\r\n        this.pluginService.showModalWindow(\"#viewSubjectTreeModal\");\r\n    }\r\n\r\n    closeSubjectTreeModal() {\r\n        this.pluginService.hideModalWindow(\"#viewSubjectTreeModal\")\r\n    }\r\n\r\n    getOrganisationList() {\r\n        this.organisationService.getOrganisations().subscribe(\r\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignOrgList(data: IOrganisation[]) {\r\n        this.organisations = data;\r\n    }\r\n\r\n    addOwnTopicContent() {\r\n        this.modalTitleName = \"Add\";\r\n        this.openTopicContentModal();\r\n        this.resetFormValues();\r\n        this.validateForm = false;\r\n        this.disableDropdown = false;\r\n        this.selectedContentSource = null;\r\n        this.selectedContentType = null;\r\n    }\r\n\r\n    viewCETopicContent(contentId) {\r\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\r\n        contentDetails = this.generalTopicContents.filter(item => item.id === contentId);\r\n        contentDetail = contentDetails[0];\r\n        this.modalTitleName = \"View\";\r\n        this.getContentDetails(contentDetail);\r\n        this.openTopicContentModal();\r\n    }\r\n\r\n    patchCEContentFormfields(contentDetails) {\r\n        this.contentId = contentDetails.id;\r\n        this.topicContentForm.patchValue({\r\n            contentTitle: contentDetails.content.title,\r\n            contentDescription: contentDetails.content.description,\r\n            webUrl1: contentDetails.content.url1,\r\n            publisher1: contentDetails.publisher1,\r\n            webUrl2: contentDetails.content.url2,\r\n            publisher2: contentDetails.content.publisher2,\r\n            webUrl3: contentDetails.content.url3,\r\n            publisher3: contentDetails.content.publisher3\r\n        });\r\n        this.selectedContentType = this.contentType.filter(item => item.tag === contentDetails.content.contentType)[0];\r\n        this.selectedContentSource = this.contentSource.filter(item => item.tag === contentDetails.content.contentSource)[0];\r\n        if (contentDetails.content.webUrl == contentDetails.content.url1) {\r\n            this.checkUrl1 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        } else if (contentDetails.content.webUrl == contentDetails.content.url2) {\r\n            this.checkUrl2 = true;\r\n            this.checkUrl3 = false;\r\n            this.checkUrl1 = false;\r\n        } else if (contentDetails.content.webUrl == contentDetails.content.url3) {\r\n            this.checkUrl3 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl1 = false;\r\n        } else {\r\n            this.checkUrl1 = false;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        }\r\n    }\r\n\r\n    viewOrgTopicContent(contentId) {\r\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\r\n        contentDetails = this.orgGeneralTopicContents.filter(item => item.id === contentId);\r\n        contentDetail = contentDetails[0];\r\n        this.modalTitleName = \"ViewOrg\";\r\n\r\n        this.getOwnContentDetails(contentDetail);\r\n        this.openTopicContentModal();\r\n    }\r\n\r\n    editOwnTopicContent(contentId) {\r\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\r\n        contentDetails = this.ownTopicContents.filter(item => item.id === contentId);\r\n        contentDetail = contentDetails[0];\r\n        this.modalTitleName = \"Edit\";\r\n        this.patchContentFormfields(contentDetail);\r\n        this.openTopicContentModal();\r\n    }\r\n\r\n    viewOwnTopicContent(contentId) {\r\n        let contentDetails: IOrgGeneralTopicContent[] = [], topicContent: IOrgGeneralTopicContent = {};\r\n        let contentDetail = {};\r\n        contentDetail = topicContent.content;\r\n        contentDetails = this.ownTopicContents.filter(item => item.id === contentId);\r\n        contentDetail = contentDetails[0];\r\n        this.modalTitleName = \"ViewOrg\";\r\n        this.getOwnContentDetails(contentDetail);\r\n        this.openTopicContentModal();\r\n    }\r\n\r\n    getContentDetails(contentDetail) {\r\n        this.contentDetails = contentDetail;\r\n        if (this.contentDetails.content.webUrl == this.contentDetails.content.url1) {\r\n            this.checkUrl1 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url2) {\r\n            this.checkUrl2 = true;\r\n            this.checkUrl3 = false;\r\n            this.checkUrl1 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url3) {\r\n            this.checkUrl3 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl1 = false;\r\n        } else {\r\n            this.checkUrl1 = false;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        }\r\n    }\r\n\r\n    getOwnContentDetails(contentDetail) {\r\n        this.contentDetails = contentDetail;\r\n        if (this.contentDetails.content.webUrl == this.contentDetails.content.url1) {\r\n            this.checkUrl1 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url2) {\r\n            this.checkUrl2 = true;\r\n            this.checkUrl3 = false;\r\n            this.checkUrl1 = false;\r\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url3) {\r\n            this.checkUrl3 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl1 = false;\r\n        } else {\r\n            this.checkUrl1 = false;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        }\r\n    }\r\n\r\n    patchContentFormfields(contentDetails) {\r\n        this.contentId = contentDetails.content.id;\r\n        this.topicContentForm.patchValue({\r\n            contentTitle: contentDetails.content.title,\r\n            contentDescription: contentDetails.content.description,\r\n            webUrl1: contentDetails.content.url1,\r\n            publisher1: contentDetails.content.publisher1,\r\n            webUrl2: contentDetails.content.url2,\r\n            publisher2: contentDetails.content.publisher2,\r\n            webUrl3: contentDetails.content.url3,\r\n            publisher3: contentDetails.content.publisher3\r\n        })\r\n        // this.selectedContentType = this.contentType.filter(item => item.tag === contentDetails.contentType)[0];\r\n        // this.selectedContentSource = this.contentSource.filter(item => item.tag === contentDetails.contentSource)[0];\r\n        // if (this.selectedContentSource) {\r\n        //     if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n        if (contentDetails.webUrl == contentDetails.url1) {\r\n            this.checkUrl1 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        } else if (contentDetails.webUrl == contentDetails.url2) {\r\n            this.checkUrl2 = true;\r\n            this.checkUrl3 = false;\r\n            this.checkUrl1 = false;\r\n        } else if (contentDetails.webUrl == contentDetails.url3) {\r\n            this.checkUrl3 = true;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl1 = false;\r\n        } else {\r\n            this.checkUrl1 = false;\r\n            this.checkUrl2 = false;\r\n            this.checkUrl3 = false;\r\n        }\r\n        // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n        //     this.uploadedFileName = contentDetails.fileName;\r\n        //     this.fileName = contentDetails.fileName;\r\n        //     this.uploadedFilePath = contentDetails.filePath;\r\n        // }\r\n        // }\r\n    }\r\n\r\n    saveTopicContent() {\r\n        if (this.topicContentForm.valid) {\r\n            let ownGeneralTopicContents: IOrgGeneralTopicContent[] = [], topiccontent: IOrgGeneralTopicContent = {}, contentDetail = topiccontent.content; contentDetail = {};\r\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\r\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\r\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\r\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\r\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\r\n            contentDetail.contentType = \"VIDEO\";\r\n            contentDetail.contentSource = \"WEB_URL\";\r\n            //Below codes are Video and document file upload\r\n            // contentDetail.contentType = this.selectedContentType.tag;\r\n            // contentDetail.contentSource = this.selectedContentSource.tag;\r\n            // if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n            //     contentDetail.fileName = this.uploadedFileName;\r\n            //     contentDetail.filePath = this.uploadedFilePath;\r\n            // } else if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n            //Active web url assigning condition\r\n            if (this.checkUrl1 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            } else if (this.checkUrl2 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url2);\r\n                contentDetail.publisher = contentDetail.publisher2;\r\n            } else if (this.checkUrl3 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url3);\r\n                contentDetail.publisher = contentDetail.publisher3;\r\n            } else {\r\n                //If user not at all changed active url, defaultly it takes first url as active\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            }\r\n            // }\r\n            ownGeneralTopicContents.push({\r\n                organisationId: this.userLoginService.organisationId,\r\n                generalTopicId: this.generalTopicId,\r\n                content: contentDetail,\r\n                orderNumber: this.ownTopicContents.length + 1\r\n            })\r\n            this.saveTopicContents(ownGeneralTopicContents);\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateForm = true;\r\n        }\r\n    }\r\n\r\n    saveTopicContents(ownGeneralTopicContents) {\r\n        this.subscribeToSaveResponse(this.topicContentService.saveOwnTopicContent(ownGeneralTopicContents));\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent[]>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IGeneralTopicContent[]>) {\r\n        this.pluginService.alertMessage(\"Topic content created successfully\", \"success\")\r\n        this.resetFormValues();\r\n        this.closeTopicContentModal();\r\n        this.getTopicContentList(this.generalTopicId);\r\n    }\r\n\r\n\r\n\r\n    updateTopicContents() {\r\n        if (this.topicContentForm.valid) {\r\n            let contentDetail: IContent = {};\r\n            contentDetail = {};\r\n            contentDetail.id = this.contentId;\r\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\r\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\r\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\r\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\r\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\r\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\r\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\r\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\r\n            contentDetail.contentType = \"VIDEO\";\r\n            contentDetail.contentSource = \"WEB_URL\";\r\n            //Below codes are Video and document file upload\r\n            // contentDetail.contentType = this.selectedContentType.tag;\r\n            // contentDetail.contentSource = this.selectedContentSource.tag;\r\n            // if (this.selectedContentSource) {\r\n            //     //Active web url assigning condition\r\n            //     if (this.selectedContentSource.tag === \"WEB_URL\") {\r\n            if (this.checkUrl1 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            } else if (this.checkUrl2 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url2);\r\n                contentDetail.publisher = contentDetail.publisher2;\r\n            } else if (this.checkUrl3 === true) {\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url3);\r\n                contentDetail.publisher = contentDetail.publisher3;\r\n            } else {\r\n                //If user not at all changed active url, defaultly it takes first url as active\r\n                contentDetail.webUrl = this.getEmbedUrl(contentDetail.url1);\r\n                contentDetail.publisher = contentDetail.publisher1;\r\n            }\r\n            // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\r\n            //     contentDetail.fileName = this.uploadedFileName;\r\n            //     contentDetail.filePath = this.uploadedFilePath;\r\n            // }\r\n            // }\r\n            this.subscribeToUpdateResponse(this.topicContentService.updateContentSource(contentDetail));\r\n        }\r\n        if (this.topicContentForm.invalid) {\r\n            this.validateForm = true;\r\n        }\r\n    }\r\n\r\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IContent>>) {\r\n        result.subscribe((res: HttpResponse<IContent>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateSuccess(res: HttpResponse<IContent>) {\r\n        this.pluginService.alertMessage(\"Topic content updated successfully\", \"success\")\r\n        this.resetFormValues();\r\n        this.closeTopicContentModal();\r\n        this.getTopicContentList(this.generalTopicId);\r\n    }\r\n\r\n\r\n\r\n    openTopicContentModal() {\r\n        this.pluginService.showModalWindow(\"#topicContentModal\");\r\n    }\r\n\r\n    closeTopicContentModal() {\r\n        this.pluginService.hideModalWindow(\"#topicContentModal\")\r\n    }\r\n\r\n    resetFormValues() {\r\n        this.topicContentForm.reset();\r\n        this.uploadedFileName = \"\";\r\n        this.uploadedFilePath = \"\";\r\n        this.fileName = \"No file chosen\";\r\n    }\r\n\r\n    dragTableContent() {\r\n        let localThisObj = this;\r\n        var fixHelperModified = function (e, tr) {\r\n            var $originals = tr.children();\r\n            var $helper = tr.clone();\r\n            $helper.children().each(function (index) {\r\n                $(this).width($originals.eq(index).width());\r\n            });\r\n            return $helper;\r\n        },\r\n            updateIndex = function (e, ui) {\r\n                $(\"td.index\", ui.item.parent()).each(function (i) {\r\n                    $(this).html(i + 1);\r\n                });\r\n                localThisObj.updateTopicContentOrder();\r\n            };\r\n        $(\"#dragTable #dragBody\")\r\n            .sortable({\r\n                helper: fixHelperModified,\r\n                stop: updateIndex\r\n            })\r\n        $(\"#dragBody\").sortable({\r\n            distance: 1,\r\n            opacity: 0, delay: 10,\r\n            cursor: \"move\",\r\n            update: function () { }\r\n        });\r\n    }\r\n\r\n    updateTopicContentOrder() {\r\n        this.updateAction = false;\r\n        this.checkOrderNumChange = true;\r\n        var table: HTMLTableElement = document.querySelector('#dragTable');\r\n        var rows = table.querySelectorAll('tbody tr');\r\n        Array.from(rows).forEach((row) => {\r\n            let list = row.querySelectorAll('td');\r\n            var contentId = Number(list[0].title);\r\n            var newOrderNum = Number(list[1].textContent);\r\n            for (let i = 0; i < this.ownTopicContents.length; i++) {\r\n                if (this.ownTopicContents[i].id === contentId) {\r\n                    this.ownTopicContents[i].orderNumber = newOrderNum;\r\n                    break;\r\n                }\r\n            }\r\n            this.sortArrayByOrderNumber(this.ownTopicContents);\r\n        })\r\n    }\r\n\r\n    updateOwnTopicContentsWithOrderNumber() {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to update order ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm === true) {\r\n                    if (localthisObject.checkOrderNumChange === true) {\r\n                        localthisObject.subscribeToUpdateTopicContentResponse(localthisObject.topicContentService.updateOwnTopicContents(localthisObject.ownTopicContents));\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    protected subscribeToUpdateTopicContentResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent[]>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent[]>) => this.onUpdateTopicContentSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onUpdateTopicContentSuccess(res: HttpResponse<IOrgGeneralTopicContent[]>) {\r\n        this.pluginService.alertMessage(\"Topic content order updated successfully\", \"success\");\r\n        this.getTopicContentList(this.generalTopicId);\r\n        this.updateAction = true;\r\n        this.resetFormValues();\r\n    }\r\n\r\n    resetSelectedOwnTopicContent() {\r\n        this.contentIds = [];\r\n        this.tableAction = true;\r\n        $(\".checkAll\").prop(\"checked\", false);\r\n    }\r\n\r\n    checkSelectedOwnContents(event) {\r\n        let selectedId, checked, index;\r\n        checked = event.target.checked;\r\n        selectedId = Number(event.target.title);\r\n        if (checked === true) {\r\n            this.tableAction = false;\r\n            this.contentIds.push(selectedId);\r\n        } else if (checked === false) {\r\n            index = this.contentIds.findIndex(item => item === selectedId);\r\n            this.contentIds.splice(index, 1)\r\n        }\r\n        this.contentIds = this.removeDuplicateElements(this.contentIds);\r\n        if (this.contentIds.length <= 0) {\r\n            this.tableAction = true;\r\n        }\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    sortArrayByOrderNumber(array: any[]) {\r\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\r\n    }\r\n\r\n    deleteOwnTopicContents() {\r\n        if (this.contentPreferenceStatus === true) {\r\n            this.pluginService.alertMessage(\"Please change your content preference and do delete action, \", \"error\");\r\n        } else {\r\n            var localthisObject = this;\r\n            swal({\r\n                title: \"Are you sure to delete content ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        if (localthisObject.contentIds.length > 0) {\r\n                            localthisObject.subscribeToDeleteResponse(localthisObject.topicContentService.deleteOwnTopicContents(localthisObject.contentIds));\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralTopicContent>) {\r\n        this.pluginService.alertMessage(\"Topic content deleted successfully\", \"success\");\r\n        this.tableAction = true;\r\n        this.contentIds = [];\r\n        this.getTopicContentList(this.generalTopicId);\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandNode = !this.enableExpandNode;\r\n        if (this.enableExpandNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#viewTree\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#viewTree\")\r\n        }\r\n    }\r\n\r\n    resetTopicContent() {\r\n        this.resetFormValues();\r\n    }\r\n\r\n    closeTopicContentModalWithOutSaving() {\r\n        if (this.modalTitleName === \"View\" || this.modalTitleName === \"ViewOrg\") {\r\n            this.closeTopicContentModal();\r\n        } else if (this.modalTitleName === \"Add\" || this.modalTitleName === \"Edit\") {\r\n            var localthisObject = this;\r\n            swal({\r\n                title: \"Are you sure to close without saving ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        localthisObject.closeTopicContentModal();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    getEmbedUrl(url) {\r\n        var pattern = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n        var matches = url.match(pattern);\r\n        if (matches) {\r\n            let embedURL = \"https://www.youtube.com/embed/\" + matches[1];\r\n            return embedURL;\r\n        }\r\n        return url;\r\n    }\r\n}\r\n","import { Component, OnInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\r\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\r\nimport { CommonService } from '../../shared/common/common.service';\r\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\nimport { IUserLoginInfo } from '../../shared/model/common/user.login.info.model';\r\nimport { CommonLocalStorageService } from '../../shared/local-storage/local-storage.service';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./topic-question-create.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumTopicQuestionCreateComponent implements OnInit, AfterViewChecked {\r\n    questionResource: any = {};\r\n    questionCategory: any[] = [];\r\n    questionComplexityLevel: any[] = [];\r\n    answers: any[] = [];\r\n    contentSource: any[] = [];\r\n    questionType: string;\r\n    type: string;\r\n    category: string;\r\n    selectedContentSource: string;\r\n    complexityLevel: number;\r\n    generalTopicId: number;\r\n    topicName: string;\r\n    organisationId: number;\r\n    validateQuestionType: boolean;\r\n    showSaveQuestion: boolean;\r\n    showAddQuestion: boolean;\r\n    solutionContent: any;\r\n    editorSolutionConfig: any;\r\n    updatedHTMLDATA: any;\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        public pluginService: PluginService,\r\n        public questionBuilderService: QuestionBuilderService,\r\n        public questionService: SyllabusLessonTopicService,\r\n        public formBuilder: FormBuilder,\r\n        public localStorageService: CommonLocalStorageService,\r\n        public commonService: CommonService,\r\n        public fileService: FileManagementService,\r\n        public changedetector: ChangeDetectorRef,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.editorSolutionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.showSaveQuestion = false;\r\n        this.showAddQuestion = false;\r\n        this.validateQuestionType = true;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.pluginService.sideMenuToggle();\r\n        this.pluginService.newStepperJs();\r\n        this.generalTopicId = Number(this.activatedRoute.snapshot.params['id']);\r\n        if (this.generalTopicId) {\r\n            this.getTopicName();\r\n        }\r\n        this.getContentSource();\r\n        this.getQuestionCategory();\r\n        this.getQuestionComplexityLevel();\r\n    }\r\n\r\n    getTopicName() {\r\n        let topicDetail: ITopicAllDetails = {};\r\n        topicDetail = this.localStorageService.retrieveData(\"topicDetails\");\r\n        if (topicDetail.id === this.generalTopicId) {\r\n            this.topicName = topicDetail.title;\r\n        } else {\r\n            this.topicName = \"\";\r\n        }\r\n    }\r\n\r\n    getContentSource() {\r\n        this.commonService.getContentSourceList().subscribe((data: any) => {\r\n            this.contentSource = data;\r\n        });\r\n    }\r\n\r\n    getQuestionCategory() {\r\n        this.commonService.getQuestionCategoryList().subscribe((data: any) => {\r\n            this.questionCategory = data;\r\n        });\r\n    }\r\n\r\n    getQuestionComplexityLevel() {\r\n        this.commonService.getQuestionComplexityLevelList().subscribe((data: any) => {\r\n            this.questionComplexityLevel = data;\r\n        });\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        this.validateQuestionTypeSelectedOrNot();\r\n        this.changedetector.detectChanges();\r\n    }\r\n\r\n    validateQuestionTypeSelectedOrNot() {\r\n        let currentRoute, splitUrl: any[] = [], lastItem;\r\n        currentRoute = this.router.url;\r\n        splitUrl = currentRoute.split(\"/\");\r\n        lastItem = splitUrl.pop();\r\n        if (lastItem === 'topic-question-create') {\r\n            this.validateQuestionType = true;\r\n        } else {\r\n            this.validateQuestionType = false;\r\n        }\r\n    }\r\n\r\n    loadPreviewQuestion() {\r\n        let duplicateChoices: any[] = [], choiceText, question: any, choices: any[] = [], choiceId, answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.questionResource = [];\r\n        this.questionResource.Choices = [];\r\n        this.questionResource.Options = [];\r\n        this.questionResource.Answers = [];\r\n        this.questionResource = [];\r\n        this.questionResource = this.questionBuilderService.getQuestionResource;\r\n        this.questionType = this.questionResource.QuestionType;\r\n        answers = this.questionResource.Answers;\r\n        this.onChangeOptionType(this.questionType);\r\n        question = this.questionResource.Question;\r\n        if (question === \"\" || question === \"undefined\") {\r\n        } else if (question.length > 2) {\r\n            if (answers.length > 0) {\r\n                if (this.questionType === \"MCQ_SINGLE\" || this.questionType === \"MCQ_MULTIPLE\" || this.questionType === \"MCQ_TRUE_FALSE\") {\r\n                    this.answers = [];\r\n                    duplicateChoices = this.questionResource.Choices;\r\n                    if (duplicateChoices.length > 0) {\r\n                        choices = [];\r\n                        for (let i = 0; i < duplicateChoices.length; i++) {\r\n                            choiceId = duplicateChoices[i].ChoiceId\r\n                            choiceText = duplicateChoices[i].ChoiceText\r\n                            choices.push({\r\n                                \"choiceId\": choiceId,\r\n                                \"choiceText\": choiceText\r\n                            });\r\n                        }\r\n                        for (let j = 0; j < answers.length; j++) {\r\n                            let answerText = choices.find(item => item.choiceId === answers[j]).choiceText;\r\n                            this.answers.push(answerText);\r\n                            answerText = \"\"\r\n                        }\r\n                    }\r\n\r\n                } else if (this.questionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    this.answers = [];\r\n                    matrixChoices = [];\r\n                    matrixOptions = [];\r\n                    matrixChoices = this.questionResource.Choices;\r\n                    matrixOptions = this.questionResource.Options;\r\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\r\n                        if (answers.length > 0) {\r\n                            this.answers = [];\r\n                            for (let k = 0; k < answers.length; k++) {\r\n                                this.answers.push({\r\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else if (this.questionType === \"MCQ_MATCH_LIST\") {\r\n                    matrixChoices = [];\r\n                    matrixOptions = [];\r\n                    matrixChoices = this.questionResource.Choices;\r\n                    matrixOptions = this.questionResource.Options;\r\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\r\n                        if (answers.length > 0) {\r\n                            this.answers = [];\r\n                            for (let k = 0; k < answers.length; k++) {\r\n                                this.answers.push({\r\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.showSaveQuestion = true;\r\n                this.updateQuestionResource();\r\n            }\r\n        }\r\n    }\r\n\r\n    onContentSource(sourceName) {\r\n        this.selectedContentSource = sourceName;\r\n    }\r\n\r\n    onSelectQuestionCategory(value) {\r\n        this.category = value;\r\n    }\r\n\r\n    onSelectComplexityLevel(value) {\r\n        this.complexityLevel = value;\r\n    }\r\n\r\n    onChangeOptionType(questionType) {\r\n        if (questionType === \"MCQ_SINGLE\" || questionType === \"MCQ_TRUE_FALSE\") {\r\n            this.type = \"radio\";\r\n        } else if (questionType === \"MCQ_MULTIPLE\") {\r\n            this.type = \"checkbox\";\r\n        } else {\r\n            this.type = \"\";\r\n        }\r\n    }\r\n\r\n    resetPreviewQuestions() {\r\n        this.questionResource = [];\r\n        this.answers = [];\r\n    }\r\n\r\n    async updateQuestionResource() {\r\n        let choices: any[] = [], options: any[] = [], questionResource: any = {}, choiceText, optionText;\r\n        questionResource = this.questionBuilderService.getQuestionResource;\r\n        if (questionResource.Question) {\r\n            this.updatedHTMLDATA = questionResource.Question;\r\n            await this.updateImageSrc(questionResource.Question);\r\n            questionResource.Question = this.updatedHTMLDATA;\r\n        }\r\n        if (questionResource.Choices.length > 0) {\r\n            for (let i = 0; i < questionResource.Choices.length; i++) {\r\n                this.updatedHTMLDATA = questionResource.Choices[i].ChoiceText;\r\n                await this.updateImageSrc(questionResource.Choices[i].ChoiceText);\r\n                choiceText = this.updatedHTMLDATA;\r\n                choices.push({\r\n                    ChoiceText: choiceText,\r\n                    ChoiceId: questionResource.Choices[i].ChoiceId\r\n                })\r\n            }\r\n            questionResource.Choices = choices;\r\n        }\r\n        if (questionResource.Options.length > 0) {\r\n            for (let i = 0; i < questionResource.Options.length; i++) {\r\n                this.updatedHTMLDATA = questionResource.Options[i].OptionText;\r\n                await this.updateImageSrc(questionResource.Options[i].OptionText);\r\n                optionText = this.updatedHTMLDATA;\r\n                options.push({\r\n                    OptionText: optionText,\r\n                    OptionId: questionResource.Options[i].OptionId\r\n                })\r\n            }\r\n            questionResource.Options = options;\r\n        }\r\n        await this.questionBuilderService.generateQuestionResource(questionResource);\r\n    }\r\n\r\n    async getBase64ImageFromUrl(imageUrl) {\r\n        var res = await fetch(imageUrl);\r\n        var blob = await res.blob();\r\n        return new Promise((resolve, reject) => {\r\n            var reader = new FileReader();\r\n            reader.addEventListener(\"load\", function () {\r\n                resolve(reader.result);\r\n            }, false);\r\n\r\n            reader.onerror = () => {\r\n                return reject(this);\r\n            };\r\n            reader.readAsDataURL(blob);\r\n        })\r\n    }\r\n\r\n    async updateImageSrc(dataSource) {\r\n        let imageTags: any, htmlElement, imageId, imageUrl, index, updatedHTMLData, base64;\r\n        htmlElement = document.createElement(\"div\");\r\n        htmlElement.innerHTML = dataSource;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        if (imageTags.length > 0) {\r\n            for (let i = 0; i < imageTags.length; i++) {\r\n                if (imageTags[i].alt === \"\") {\r\n                    imageId = \"image\" + [i];\r\n                    index = i;\r\n                    imageTags[i].setAttribute(\"id\", imageId); //Set id attribute for image \r\n                    imageUrl = imageTags[i].src; //Get image source \r\n                    base64 = await this.getBase64ImageFromUrl(imageUrl);\r\n                    updatedHTMLData = await this.getAWSFilePath(base64, index, htmlElement);\r\n                }\r\n            }\r\n        } else {\r\n            updatedHTMLData = htmlElement.innerHTML;\r\n        }\r\n        return updatedHTMLData;\r\n    }\r\n\r\n    async getAWSFilePath(base64, index, htmlElement) {\r\n        let block, contentType, encodedData, fileType, imageType, presignedURL, imageTags, updatedHTMLData, updatedFileName;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        block = base64.split(',');\r\n        contentType = block[0].split(':')[1];\r\n        fileType = contentType.split('/')[1];\r\n        imageType = fileType.split(';')[0];\r\n        encodedData = block[1];\r\n        let fileName = new Date().getUTCMilliseconds() + \"quesImage\" + \".\" + imageType;\r\n        if (encodedData) {\r\n            let res: any = await this.fileService.getImagePresignedurls(fileName);\r\n            let map = new Map().set(Object.keys(res)[0], Object.values(res)[0]).set(Object.keys(res)[1], Object.values(res)[1]);\r\n            map.forEach((value: boolean, key: string) => {\r\n                if (key !== \"objectURL\") {\r\n                    presignedURL = value;\r\n                } else if (key === \"objectURL\") {\r\n                    let updatedFilePath: any = value;\r\n                    let fileNameSplit: any;\r\n                    fileNameSplit = updatedFilePath.split(\"/\");\r\n                    updatedFileName = fileNameSplit[fileNameSplit.length - 1];\r\n                    imageTags[index].setAttribute(\"src\", updatedFilePath); //Setting aws filepath in respective image source\r\n                    imageTags[index].setAttribute(\"alt\", updatedFileName); //Passed updatedFileName in alt attribute for delete purpose\r\n                    updatedHTMLData = htmlElement.innerHTML;\r\n                    this.getImagePathUploadedHTML(updatedHTMLData);\r\n                }\r\n            });\r\n            await this.fileService.uploadImagefileAWSS3(presignedURL, encodedData);\r\n        }\r\n    }\r\n\r\n    async getImagePathUploadedHTML(data) {\r\n        this.updatedHTMLDATA = data;\r\n    }\r\n\r\n    async saveQuestion() {\r\n        let questionResource: IOrgGeneralTopicQuestion = {}, questionDetails, updatedQuestionResource, solutionContentJson, updatedSolutionContent;\r\n        questionResource.question = {};\r\n        let userLoginInfo: IUserLoginInfo[] = [];\r\n        userLoginInfo = this.localStorageService.retrieveData(\"userLoginInfo\")\r\n        await this.updateImageSrc(this.solutionContent);\r\n        if (this.solutionContent !== \"\") {\r\n            updatedSolutionContent = this.updatedHTMLDATA;\r\n            solutionContentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedSolutionContent));\r\n        } else {\r\n            solutionContentJson = \"\";\r\n        }\r\n        //User login Information for organisationId \r\n        if (this.category) {\r\n            questionResource.question.category = this.category;\r\n        } else {\r\n            questionResource.question.category = this.questionCategory[0].tag;\r\n        }\r\n        if (this.complexityLevel) {\r\n            questionResource.question.complexityLevel = this.complexityLevel;\r\n        } else {\r\n            questionResource.question.complexityLevel = 1;\r\n        }\r\n        this.organisationId = userLoginInfo[0].organisationId;\r\n        updatedQuestionResource = this.questionBuilderService.getQuestionResource;\r\n        questionResource.question.marks = updatedQuestionResource.TotalMarks * questionResource.question.complexityLevel;\r\n        questionDetails = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedQuestionResource));\r\n        questionResource.question.contentJson = questionDetails;\r\n        questionResource.generalTopicId = this.generalTopicId;\r\n        questionResource.question.generalTopicId = this.generalTopicId;\r\n        questionResource.organisationId = this.organisationId;\r\n        questionResource.question.solutionJson = solutionContentJson;\r\n        this.subscribeToSaveResponse(this.questionService.saveOwnTopicQuestion(questionResource));\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IOrgGeneralTopicQuestion>>) {\r\n        result.subscribe((resp: HttpResponse<IOrgGeneralTopicQuestion>) => this.onSaveSuccess(resp), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\r\n        this.pluginService.alertMessage(\"Own topic question created successfully\", \"success\");\r\n        this.showAddQuestion = true;\r\n        this.showSaveQuestion = false;\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    onBack() {\r\n        var localObj = this;\r\n        swal({\r\n            title: \"Are you sure to go previous page ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localObj.router.navigateByUrl('/lesson-topic/topic-question');\r\n                    localObj.pluginService.sideMenuToggle();\r\n                }\r\n            });\r\n    }\r\n\r\n    addQuestion() {\r\n        window.location.reload();\r\n        this.questionType = \"\";\r\n        this.showSaveQuestion = true;\r\n    }\r\n}","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\r\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\r\nimport { IQuestion } from '../../shared/model/content/question.model';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\nimport { CommonLocalStorageService } from '../../shared/local-storage/local-storage.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./topic-question-details.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumTopicQuestionDetailsComponent implements OnInit {\r\n    questionResource: any = {};\r\n    matchList: any[] = [];\r\n    answers: any[] = [];\r\n    topicName: string;\r\n    questionType: string;\r\n    questionId: number;\r\n    type: string;\r\n    currentRoute: string;\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        public pluginService: PluginService,\r\n        public questionBuilderService: QuestionBuilderService,\r\n        public questionService: SyllabusLessonTopicService,\r\n        public formBuilder: FormBuilder,\r\n        public userLoginService: UserLoginInfoService,\r\n        public localStorageService: CommonLocalStorageService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n        this.getCurrentRouteInfo()\r\n    }\r\n\r\n    getCurrentRouteInfo() {\r\n        let splitArray: any[] = [], currentUrl;\r\n        currentUrl = this.router.url\r\n        splitArray = currentUrl.split('/');\r\n        this.currentRoute = splitArray.pop();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.pluginService.sideMenuToggle();\r\n        this.activatedRoute.params.subscribe(params => {\r\n            this.questionId = params['id'];\r\n            this.questionId = Number(this.activatedRoute.snapshot.params['id']);\r\n            if (this.questionId) {\r\n                this.getTopicName();\r\n            }\r\n            if (this.currentRoute === 'topic-question-view') {\r\n                this.getOrgTopicQuestionDetail(this.questionId);\r\n            } else if (this.currentRoute === 'general-topic-question-view') {\r\n                this.getGeneralTopicQuestionDetail(this.questionId);\r\n            }\r\n        });\r\n    }\r\n\r\n    getTopicName() {\r\n        let topicDetail: ITopicAllDetails = {};\r\n        topicDetail = this.localStorageService.retrieveData(\"topicDetails\");\r\n        if (this.questionId) {\r\n            this.topicName = topicDetail.title;\r\n        } else {\r\n            this.topicName = \"\";\r\n        }\r\n    }\r\n\r\n    getGeneralTopicQuestionDetail(questionId) {\r\n        this.questionService\r\n            .getGeneralTopicQuestionByQuestionId(questionId)\r\n            .subscribe(\r\n                (res: HttpResponse<IQuestion>) => this.assignQuestionResource(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignQuestionResource(data: IQuestion) {\r\n        let questionResource = {};\r\n        questionResource = data;\r\n        this.loadPreviewQuestion(questionResource);\r\n    }\r\n\r\n    getOrgTopicQuestionDetail(questionId) {\r\n        this.questionService\r\n            .getOrgTopicQuestionByQuestionId(questionId)\r\n            .subscribe(\r\n                (res: HttpResponse<IQuestion>) => this.assignOrgQuestionResource(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignOrgQuestionResource(data: IOrgGeneralTopicQuestion) {\r\n        let questionResource = {};\r\n        questionResource = data.question;\r\n        this.loadPreviewQuestion(questionResource);\r\n    }\r\n\r\n    onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    loadPreviewQuestion(questionResource) {\r\n        let duplicateChoices: any[] = [], choiceText, choiceId, choices: any[] = [], question: any, answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.questionResource = [];\r\n        this.questionResource = this.questionBuilderService.convertStringToJson(questionResource.contentJson);\r\n        this.questionType = this.questionResource.QuestionType;\r\n        this.onChangeOptionType(this.questionType);\r\n        question = this.questionResource.Question;\r\n        if (this.questionType === \"MCQ_SINGLE\" || this.questionType === \"MCQ_MULTIPLE\" || this.questionType === \"MCQ_TRUE_FALSE\") {\r\n            duplicateChoices = this.questionResource.Choices;\r\n            answers = this.questionResource.Answers;\r\n            for (let i = 0; i < duplicateChoices.length; i++) {\r\n                choiceId = duplicateChoices[i].ChoiceId\r\n                choiceText = duplicateChoices[i].ChoiceText\r\n                choices.push({\r\n                    \"choiceId\": choiceId,\r\n                    \"choiceText\": choiceText\r\n                });\r\n            }\r\n            for (let j = 0; j < answers.length; j++) {\r\n                let answerText = choices.find(item => item.choiceId === answers[j]).choiceText;\r\n                this.answers.push(answerText);\r\n                answerText = \"\"\r\n            }\r\n        } else if (this.questionType === \"MCQ_CHOICE_MATRIX\") {\r\n            this.answers = [];\r\n            answers = this.questionResource.Answers;\r\n            matrixChoices = this.questionResource.Choices;\r\n            matrixOptions = this.questionResource.Options;\r\n            for (let k = 0; k < answers.length; k++) {\r\n                this.answers.push({\r\n                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                })\r\n            }\r\n        } else if (this.questionType === \"MCQ_MATCH_LIST\") {\r\n            this.answers = [];\r\n            matrixChoices = [];\r\n            matrixOptions = [];\r\n            answers = this.questionResource.Answers;\r\n            matrixChoices = this.questionResource.Choices;\r\n            matrixOptions = this.questionResource.Options;\r\n            for (let k = 0; k < answers.length; k++) {\r\n                this.answers.push({\r\n                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    onChangeOptionType(questionType) {\r\n        if (questionType === \"MCQ_SINGLE\" || questionType === \"MCQ_TRUE_FALSE\") {\r\n            this.type = \"radio\";\r\n        } else if (questionType === \"MCQ_MULTIPLE\") {\r\n            this.type = \"checkbox\";\r\n        } else {\r\n            this.type = \"\";\r\n        }\r\n    }\r\n\r\n    resetPreviewQuestions() {\r\n        this.questionResource = [];\r\n        this.answers = [];\r\n    }\r\n\r\n    editQuestionRoute() {\r\n        if (this.currentRoute === \"topic-question-view\") {\r\n            this.router.navigate(['/lesson-topic', this.questionId, 'topic-question-edit']);\r\n        } else if (this.currentRoute === \"general-topic-question-view\") {\r\n            this.router.navigate(['/general-concept-and-topic', this.questionId, 'general-topic-question-edit']);\r\n        }\r\n    }\r\n\r\n    onBack() {\r\n        var localObj = this;\r\n        swal({\r\n            title: \"Are you sure to go previous page ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localObj.previousUrl();\r\n                    localObj.pluginService.sideMenuToggle();\r\n                }\r\n            });\r\n    }\r\n\r\n    public previousUrl() {\r\n        if (this.currentRoute === \"topic-question-view\") {\r\n            this.router.navigateByUrl('/lesson-topic/topic-question');\r\n        } else if (this.currentRoute === \"general-topic-question-view\") {\r\n            this.router.navigateByUrl('/general-concept-and-topic/general-topic-question');\r\n        } else {\r\n            this.router.navigateByUrl('../')\r\n        }\r\n    }\r\n}","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { ISubject } from '../../shared/model/content/subject.model';\r\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\r\nimport { IGrade } from '../../shared/model/common/grade.model';\r\nimport { Principal } from '../../core';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\r\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\r\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\nimport { Observable } from 'rxjs';\r\nimport { IQuestionPreference } from '../../shared/model/content/question-preference.model';\r\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\r\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\r\nimport { SubjectService } from '../../subject/subject.service';\r\nimport { OrganisationService } from '../../organisation/organisation.service';\r\nimport { CurriculumService } from '../../curriculum/curriculum.service';\r\nimport { ACTIVE } from '../../shared/constants/common.constants';\r\nimport { MatchList } from '../../question-builder/matchlist/matchlist.component';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\nimport { GeneralConceptAndTopicService } from '../../general-concept-topic';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./topic-question-manage.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumTopicQuestionManageComponent implements OnInit, AfterViewInit {\r\n    curriculumList: ICurriculum[] = [];\r\n    gradeList: IGrade[] = [];\r\n    subjectList: IGrade[] = [];\r\n    subjectTree: ISubject[] = [];\r\n    lessonList: ISubject[] = [];\r\n    organisations: IOrganisation[] = [];\r\n    generalTopicQuestions: any[] = [];\r\n    ownTopicQuestions: any[] = [];\r\n    orgGeneralTopicQuestions: any[] = [];\r\n    topicQuestions: any[] = [];\r\n    ownTopicQuestionResources: any[] = [];\r\n    orgTopicQuestionResources: any[] = [];\r\n    generalTopicQuestionResources: any[] = [];\r\n    selectedAnswer: any[] = [];\r\n    nodeType: string;\r\n    topicName: string;\r\n    topicDescription: string;\r\n    modalTitleName: string;\r\n    generalTopicId: number;\r\n    organisationId: number;\r\n    contentId: number;\r\n    showQuestionMapping: boolean;\r\n    showTopicHeading: boolean;\r\n    questionPreferenceStatus: boolean;\r\n    checkOrderNumChange: boolean;\r\n    checkQuestionCE: boolean;\r\n    checkOwnQuestion: boolean;\r\n    enableExpandNode: boolean;\r\n    tableAction: boolean;\r\n    selectedCurriculum: any;\r\n    selectedGrade: any;\r\n    selectedSubject: any;\r\n    selectedLesson: any;\r\n    selectedOrganisation: any;\r\n\r\n    constructor(\r\n        public _router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public curriculumService: CurriculumService,\r\n        public organisationService: OrganisationService,\r\n        public subjectService: SubjectService,\r\n        public topicQuestionService: SyllabusLessonTopicService,\r\n        public generalTopicQuestionService: GeneralConceptAndTopicService,\r\n        protected eventManager: JhiEventManager,\r\n        protected parseLinks: JhiParseLinks,\r\n        protected principalService: Principal,\r\n        public pluginService: PluginService,\r\n        public userLoginService: UserLoginInfoService,\r\n        public errorHandler: CoreErrorHandler,\r\n        public questionBuilderService: QuestionBuilderService) {\r\n        this.enableExpandNode = false;\r\n        this.tableAction = true;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.checkQuestionCE = false;\r\n        this.enableExpandNode = false;\r\n        this.questionPreferenceStatus = false;\r\n        this.loadCurriculums();\r\n    }\r\n\r\n    loadCurriculums() {\r\n        this.curriculumService.getCurriculumSearch().subscribe(\r\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignCurriculumList(data: ICurriculum[]) {\r\n        this.curriculumList = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.curriculumList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    protected onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.nodeOnSelected();\r\n    }\r\n\r\n    onCurriculumChange() {\r\n        let gradesApplicableFrom, gradesApplicableTo;\r\n        if (this.selectedCurriculum) {\r\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        }\r\n        this.selectedGrade = null;\r\n        this.selectedSubject = null;\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    onGradeChange() {\r\n        let curriculumId, gradeId, status;\r\n        if (this.selectedGrade) {\r\n            curriculumId = this.selectedCurriculum.id;\r\n            gradeId = this.selectedGrade.id;\r\n            status = ACTIVE;\r\n            this.subjectService\r\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\r\n                .subscribe(\r\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\r\n                    (res: HttpErrorResponse) => this.onError(res)\r\n                );\r\n        }\r\n        this.selectedSubject = null;\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    onSubjectChange() {\r\n        if (this.selectedSubject) {\r\n            let subjectId = this.selectedSubject.id;\r\n            this.loadSubjectTree(subjectId);\r\n        }\r\n        this.selectedLesson = null;\r\n    }\r\n\r\n    assignSubjectList(data: ISubject[]) {\r\n        this.subjectList = [];\r\n        this.subjectTree = [];\r\n        this.pluginService.jsTree(\"#viewSubjectTree\", this.subjectTree, false);\r\n        for (let i = 0; i < data.length; i++) {\r\n            this.subjectList.push(data[i]);\r\n        }\r\n    }\r\n\r\n    generateGradeList(min, max) {\r\n        this.gradeList = [];\r\n        for (var i = min; i <= max; i++) {\r\n            this.gradeList.push({\r\n                \"id\": i,\r\n                \"name\": i\r\n            });\r\n        }\r\n        return this.gradeList;\r\n    }\r\n\r\n    loadSubjectTree(subjectId) {\r\n        this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\r\n            (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    assignSubjectTree(data: ISubject[]) {\r\n        this.lessonList = [];\r\n        $(\"#lesson\").val(\"\").trigger('change');\r\n        this.subjectTree = data;\r\n        this.lessonList = this.subjectTree.filter(item => item.type === 'lesson');\r\n        this.pluginService.jsTree(\"#viewSubjectTree\", this.subjectTree, false);\r\n    }\r\n\r\n    getLessonTopicList() {\r\n        if (this.selectedLesson) {\r\n            let lessonId = this.selectedLesson.data.id;\r\n            if (lessonId) {\r\n                this.topicQuestionService\r\n                    .getLessonTopicListByLessonId(lessonId)\r\n                    .subscribe(\r\n                        (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\r\n                        (res: HttpErrorResponse) => this.onError(res)\r\n                    );\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\r\n            }\r\n        }\r\n    }\r\n\r\n    assignLessonTopicsList(data: ILessonTopics) {\r\n        let topicsList: ILessonTopics[] = [], treeTopicsList: ISubject[] = [];\r\n        if (data.lessonTopics.length > 0) {\r\n            topicsList = data.lessonTopics;\r\n            for (let i = 0; i < topicsList.length; i++) {\r\n                if (topicsList[i].questionsCount === 0) {\r\n                    treeTopicsList.push({\r\n                        text: topicsList[i].topicName,\r\n                        generalTopicId: topicsList[i].generalTopicId,\r\n                        id: topicsList[i].id,\r\n                        icon: \"fa fa-times text-danger\"\r\n                    })\r\n                } else {\r\n                    treeTopicsList.push({\r\n                        text: topicsList[i].topicName,\r\n                        generalTopicId: topicsList[i].generalTopicId,\r\n                        id: topicsList[i].id\r\n                    })\r\n                }\r\n            }\r\n        } else {\r\n            this.pluginService.alertMessage(\"No topics mapped to a lesson\", \"error\");\r\n        }\r\n        this.pluginService.jsTree(\"#topicsList\", treeTopicsList, false);\r\n        this.showQuestionMapping = false;\r\n        this.showTopicHeading = true;\r\n        this.enableExpandNode = false;\r\n    }\r\n\r\n    nodeOnSelected() {\r\n        var localThisObj = this;\r\n        $('#topicsList')\r\n            .on('changed.jstree', function (e, data) {\r\n                var i, j;\r\n                for (i = 0, j = data.selected.length; i < j; i++) {\r\n                    localThisObj.generalTopicId = data.node.original.generalTopicId;\r\n                    localThisObj.topicName = data.node.original.text;\r\n                    localThisObj.generalTopicQuestions = [];\r\n                    localThisObj.orgGeneralTopicQuestions = [];\r\n                    localThisObj.ownTopicQuestions = [];\r\n                    localThisObj.getGeneralTopicQuestionList(localThisObj.generalTopicId);\r\n                    localThisObj.getTopicQuestionList(localThisObj.generalTopicId);\r\n                    localThisObj.getOrgGeneralTopicQuestionByOrganisationId(localThisObj.generalTopicId);\r\n                    localThisObj.getOrganisationList();\r\n                    localThisObj.getQuestionPreference(localThisObj.generalTopicId)\r\n                    localThisObj.showQuestionMapping = true;\r\n                    localThisObj.tableAction = true;\r\n                }\r\n            })\r\n    }\r\n\r\n    getGeneralTopicQuestionList(generalTopicId) {\r\n        this.generalTopicQuestionService.getTopicQuestionList(generalTopicId).subscribe(\r\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToGeneralTopicQuestionList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToGeneralTopicQuestionList(data: ITopicAllDetails) {\r\n        let questionDetails: any[] = [], question, complexityLevel, questionType;\r\n        this.generalTopicQuestions = [];\r\n        this.generalTopicQuestionResources = [];\r\n        this.topicDescription = data.description;\r\n        this.generalTopicQuestionResources = data.questions;\r\n        for (let i = 0; i < this.generalTopicQuestionResources.length; i++) {\r\n            questionDetails = [];\r\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.generalTopicQuestionResources[i].contentJson));\r\n            for (let j = 0; j < questionDetails.length; j++) {\r\n                question = questionDetails[j].Question;\r\n                if (this.generalTopicQuestionResources[i].complexityLevel === 1) {\r\n                    complexityLevel = \"Low\";\r\n                } else if (this.generalTopicQuestionResources[i].complexityLevel === 2) {\r\n                    complexityLevel = \"Medium\";\r\n                } else if (this.generalTopicQuestionResources[i].complexityLevel === 3) {\r\n                    complexityLevel = \"High\";\r\n                } else {\r\n                    complexityLevel = \"\";\r\n                }\r\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\r\n                    questionType = \"MCQ single answer\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\r\n                    questionType = \"MCQ multiple answers\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    questionType = \"Choice matrix\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                    questionType = \"MCQ true or false\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\r\n                    questionType = \"MCQ match list\";\r\n                } else {\r\n                    questionType = \"\"\r\n                }\r\n                this.generalTopicQuestions.push({\r\n                    id: this.generalTopicQuestionResources[i].id,\r\n                    questionId: this.generalTopicQuestionResources[i].id,\r\n                    questionCategory: this.titleCapitalize(this.generalTopicQuestionResources[i].category),\r\n                    complexityLevel: complexityLevel,\r\n                    questionText: question,\r\n                    questionType: questionType,\r\n                    generalTopicId: this.generalTopicQuestionResources[i].generalTopicId\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getTopicQuestionList(generalTopicId) {\r\n        this.topicQuestionService.getTopicQuestionDetails(generalTopicId).subscribe(\r\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToTopicQuestionList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignResponseToTopicQuestionList(data: ITopicAllDetails) {\r\n        let questionDetails: any[] = [], question, complexityLevel, questionType;\r\n        this.ownTopicQuestions = [];\r\n        this.ownTopicQuestionResources = [];\r\n        this.topicDescription = data.description;\r\n        this.ownTopicQuestionResources = data.orgGeneralTopicQuestions;\r\n        for (let i = 0; i < this.ownTopicQuestionResources.length; i++) {\r\n            questionDetails = [];\r\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.ownTopicQuestionResources[i].question.contentJson));\r\n            for (let j = 0; j < questionDetails.length; j++) {\r\n                question = questionDetails[j].Question;\r\n                if (this.ownTopicQuestionResources[i].question.complexityLevel === 1) {\r\n                    complexityLevel = \"Low\";\r\n                } else if (this.ownTopicQuestionResources[i].question.complexityLevel === 2) {\r\n                    complexityLevel = \"Medium\";\r\n                } else if (this.ownTopicQuestionResources[i].question.complexityLevel === 3) {\r\n                    complexityLevel = \"High\";\r\n                } else {\r\n                    complexityLevel = \"\";\r\n                }\r\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\r\n                    questionType = \"MCQ single answer\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\r\n                    questionType = \"MCQ multiple answers\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    questionType = \"Choice matrix\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                    questionType = \"MCQ true or false\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\r\n                    questionType = \"MCQ match list\";\r\n                } else {\r\n                    questionType = \"\"\r\n                }\r\n                this.ownTopicQuestions.push({\r\n                    id: this.ownTopicQuestionResources[i].id,\r\n                    questionId: this.ownTopicQuestionResources[i].id,\r\n                    questionCategory: this.titleCapitalize(this.ownTopicQuestionResources[i].question.category),\r\n                    complexityLevel: complexityLevel,\r\n                    questionText: question,\r\n                    questionType: questionType,\r\n                    generalTopicId: this.ownTopicQuestionResources[i].generalTopicId\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    getOrgGeneralTopicQuestionByOrganisationId(generalTopicId) {\r\n        //User login Information for organisationId \r\n        this.organisationId = this.userLoginService.organisationId;\r\n        this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(generalTopicId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IOrgGeneralTopicQuestion[]>) => this.assignResponseToOrgTopicQuestionList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    getOrgTopicQuestiontByOrgId() {\r\n        let organisationId = this.selectedOrganisation.id;\r\n        if (organisationId) {\r\n            this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(this.generalTopicId, organisationId).subscribe(\r\n                (res: HttpResponse<IOrgGeneralTopicQuestion[]>) => this.assignResponseToOrgTopicQuestionList(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            )\r\n        }\r\n    }\r\n\r\n    protected assignResponseToOrgTopicQuestionList(data: IOrgGeneralTopicQuestion[]) {\r\n        let questionDetails: any[] = [], question, complexityLevel, questionType;\r\n        this.orgTopicQuestionResources = [];\r\n        this.orgTopicQuestionResources = data;\r\n        for (let i = 0; i < this.orgTopicQuestionResources.length; i++) {\r\n            questionDetails = [];\r\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.orgTopicQuestionResources[i].question.contentJson));\r\n            for (let j = 0; j < questionDetails.length; j++) {\r\n                question = questionDetails[j].Question;\r\n                if (this.orgTopicQuestionResources[i].question.complexityLevel === 1) {\r\n                    complexityLevel = \"Low\";\r\n                } else if (this.orgTopicQuestionResources[i].question.complexityLevel === 2) {\r\n                    complexityLevel = \"Medium\";\r\n                } else if (this.orgTopicQuestionResources[i].question.complexityLevel === 3) {\r\n                    complexityLevel = \"High\";\r\n                } else {\r\n                    complexityLevel = \"\";\r\n                }\r\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\r\n                    questionType = \"MCQ single answer\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\r\n                    questionType = \"MCQ multiple answers\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                    questionType = \"Choice matrix\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                    questionType = \"MCQ true or false\";\r\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\r\n                    questionType = \"MCQ match list\";\r\n                } else {\r\n                    questionType = \"\"\r\n                }\r\n                this.orgGeneralTopicQuestions.push({\r\n                    id: this.orgTopicQuestionResources[i].question.id,\r\n                    questionId: this.orgTopicQuestionResources[i].question.id,\r\n                    questionText: question,\r\n                    questionCategory: this.titleCapitalize(this.orgTopicQuestionResources[i].question.category),\r\n                    complexityLevel: complexityLevel,\r\n                    questionType: questionType,\r\n                    generalTopicId: this.orgTopicQuestionResources[i].generalTopicId\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    titleCapitalize(word: string) {\r\n        if (!word) return word;\r\n        return word[0].toUpperCase() + word.substr(1).toLowerCase();\r\n    }\r\n\r\n\r\n    getOrganisationList() {\r\n        this.organisationService.getOrganisations().subscribe(\r\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    protected assignOrgList(data: IOrganisation[]) {\r\n        this.organisations = data;\r\n    }\r\n\r\n    openSubjectTreeModal() {\r\n        this.pluginService.showModalWindow(\"#viewSubjectTreeModal\");\r\n    }\r\n\r\n    closeSubjectTreeModal() {\r\n        this.pluginService.hideModalWindow(\"#viewSubjectTreeModal\")\r\n    }\r\n\r\n    removeDuplicateElements(array) {\r\n        var temp = [];\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (temp.indexOf(array[i]) == -1) {\r\n                temp.push(array[i]);\r\n            }\r\n        }\r\n        return temp;\r\n    }\r\n\r\n    deleteOwnTopicQuestions(questionId) {\r\n        var localthisObject = this;\r\n        if (this.questionPreferenceStatus === true) {\r\n            this.pluginService.alertMessage(\"Please change your question preference and do delete action, \", \"error\");\r\n        } else {\r\n            swal({\r\n                title: \"Are you sure to delete questions ?\",\r\n                type: \"warning\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes\",\r\n                confirmButtonColor: \"#32b432\",\r\n                cancelButtonText: \"No\",\r\n                closeOnConfirm: true,\r\n                closeOnCancel: true\r\n            },\r\n                function (isConfirm) {\r\n                    if (isConfirm === true) {\r\n                        localthisObject.subscribeToDeleteResponse(localthisObject.topicQuestionService.deleteOwnTopicQuestion(questionId));\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralTopicQuestion>>) {\r\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicQuestion>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\r\n        this.pluginService.alertMessage(\"Topic question deleted successfully\", \"success\");\r\n        this.ownTopicQuestions = [];\r\n        this.getTopicQuestionList(this.generalTopicId);\r\n        this.tableAction = true;\r\n    }\r\n\r\n    checkQuestionPreference(event) {\r\n        let check = event.target.checked;\r\n        let name = event.target.id;\r\n        if (check === true && name === \"QuestionCE\") {\r\n            this.questionPreferenceStatus = false;\r\n        } else if (check === true && name === \"OwnQuestion\") {\r\n            this.questionPreferenceStatus = true;\r\n        }\r\n    }\r\n\r\n    getQuestionPreference(generalTopicId) {\r\n        //User login Information for organisationId \r\n        let orgId = this.userLoginService.organisationId;\r\n        this.topicQuestionService.getQuestionPreference(orgId, generalTopicId).subscribe(\r\n            (res: HttpResponse<IQuestionPreference>) => this.onGetPreferenceSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onGetPreferenceSuccess(acitveStatus: IQuestionPreference) {\r\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\r\n            this.checkQuestionCE = true;\r\n            this.checkOwnQuestion = false;\r\n        } else if (acitveStatus === true) {\r\n            this.checkQuestionCE = false;\r\n            this.checkOwnQuestion = true;\r\n        }\r\n    }\r\n\r\n    saveQuestionPreference() {\r\n        if (this.questionPreferenceStatus === false) {\r\n            if (this.generalTopicQuestions.length >= 10) {\r\n                this.setQuestionPreference();\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please add atleast ten general topic question and change preference\", \"error\");\r\n            }\r\n        } else if (this.questionPreferenceStatus === true) {\r\n            if (this.ownTopicQuestions.length >= 10) {\r\n                this.setQuestionPreference();\r\n            } else {\r\n                this.pluginService.alertMessage(\"Please add atleast ten own topic question and change preference\", \"error\");\r\n            }\r\n        }\r\n    }\r\n\r\n    setQuestionPreference() {\r\n        this.topicQuestionService.setQuestionPreference(this.questionPreferenceStatus, this.generalTopicId, this.organisationId).subscribe(\r\n            (res: HttpResponse<IQuestionPreference>) => this.onSuccess(res.body),\r\n            (res: HttpErrorResponse) => this.onError(res)\r\n        )\r\n    }\r\n\r\n    onSuccess(data) {\r\n        this.pluginService.alertMessage(\"Question preference saved successfully\", \"success\");\r\n    }\r\n\r\n    toggleTreeNodes() {\r\n        this.enableExpandNode = !this.enableExpandNode;\r\n        if (this.enableExpandNode) {\r\n            this.pluginService.openJsTreeAllNodes(\"#viewSubjectTree\");\r\n        } else {\r\n            this.pluginService.closeJsTreeAllNodes(\"#viewSubjectTree\")\r\n        }\r\n    }\r\n\r\n    loadUpdatedTopicQuestion() {\r\n        this.getTopicQuestionList(this.generalTopicId);\r\n        this.getOrgGeneralTopicQuestionByOrganisationId(this.generalTopicId);\r\n    }\r\n\r\n    openGeneralTopicSimulateQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\r\n        this.simulateGeneralTopicQuestionList(this.generalTopicQuestionResources);\r\n    }\r\n\r\n    openOrgTopicSimulateQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\r\n        this.simulateOwnTopicQuestionList(this.orgTopicQuestionResources);\r\n    }\r\n\r\n    openOwnTopicSimulateQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\r\n        this.simulateOwnTopicQuestionList(this.ownTopicQuestionResources);\r\n    }\r\n\r\n    closeSimulateQuestionModal() {\r\n        this.pluginService.hideModalWindow(\"#simulateTopicQuestionModal\");\r\n    }\r\n\r\n    openGeneralTopicPreviewQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\r\n        this.previewGeneralTopicQuestionList(this.generalTopicQuestionResources);\r\n    }\r\n\r\n    openOrgTopicPreviewQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\r\n        this.previewOwnTopicQuestionList(this.orgTopicQuestionResources);\r\n    }\r\n\r\n    openOwnTopicPreviewQuestionModal() {\r\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\r\n        this.previewOwnTopicQuestionList(this.ownTopicQuestionResources);\r\n    }\r\n\r\n    closePreviewQuestionModal() {\r\n        this.pluginService.hideModalWindow(\"#previewTopicQuestionModal\");\r\n    }\r\n\r\n    protected previewGeneralTopicQuestionList(questionResources: any[]) {\r\n        let questionDetails: any, options: any[] = [], answers: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                answers = []; choices = [];\r\n                options = questionDetails.Options;\r\n                choices = questionDetails.Choices;\r\n                for (let k = 0; k < questionDetails.Answers.length; k++) {\r\n                    answers.push({\r\n                        choiceName: choices.find(item => item.ChoiceId === questionDetails.Answers[k].ChoiceId).ChoiceText,\r\n                        optionName: options.find(item => item.OptionId === questionDetails.Answers[k].OptionId).OptionText\r\n                    })\r\n                }\r\n            } else if (questionDetails.QuestionType === \"MCQ_SINGLE\" || questionDetails.QuestionType === \"MCQ_MULTIPLE\" || questionDetails.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                options = []; answers = [];\r\n                for (let j = 0; j < questionDetails.Answers.length; j++) {\r\n                    let answerText = questionDetails.Choices.find(item => item.ChoiceId === questionDetails.Answers[j]).ChoiceText;\r\n                    answers.push(answerText);\r\n                    answerText = \"\"\r\n                }\r\n            }\r\n            this.topicQuestions.push({\r\n                id: questionResources[i].id,\r\n                question: questionDetails.Question,\r\n                questionType: questionDetails.QuestionType,\r\n                generalTopicId: questionResources[i].generalTopicId,\r\n                questionId: questionResources[i].id,\r\n                choices: questionDetails.Choices,\r\n                options: options,\r\n                answers: answers\r\n            })\r\n        }\r\n    }\r\n\r\n    protected simulateGeneralTopicQuestionList(questionResources: any[]) {\r\n        let questionDetails: MatchList, options: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                options = this.shuffleArray(questionDetails.Options);\r\n                choices = questionDetails.Choices;\r\n            } else {\r\n                options = [];\r\n                choices = this.shuffleArray(questionDetails.Choices)\r\n            }\r\n            this.topicQuestions.push({\r\n                id: questionResources[i].id,\r\n                questionId: questionResources[i].id,\r\n                question: questionDetails.Question,\r\n                questionType: questionDetails.QuestionType,\r\n                generalTopicId: questionResources[i].generalTopicId,\r\n                choices: choices,\r\n                options: options,\r\n                answers: questionDetails.Answers,\r\n                checkAnswer: \"\"\r\n            })\r\n        }\r\n    }\r\n\r\n    protected previewOwnTopicQuestionList(questionResources: any[]) {\r\n        let questionDetails: any, options: any[] = [], answers: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].question.contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                answers = []; choices = [];\r\n                options = questionDetails.Options;\r\n                choices = questionDetails.Choices;\r\n                for (let k = 0; k < questionDetails.Answers.length; k++) {\r\n                    answers.push({\r\n                        choiceName: choices.find(item => item.ChoiceId === questionDetails.Answers[k].ChoiceId).ChoiceText,\r\n                        optionName: options.find(item => item.OptionId === questionDetails.Answers[k].OptionId).OptionText\r\n                    })\r\n                }\r\n            } else if (questionDetails.QuestionType === \"MCQ_SINGLE\" || questionDetails.QuestionType === \"MCQ_MULTIPLE\" || questionDetails.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n                options = []; answers = [];\r\n                for (let j = 0; j < questionDetails.Answers.length; j++) {\r\n                    let answerText = questionDetails.Choices.find(item => item.ChoiceId === questionDetails.Answers[j]).ChoiceText;\r\n                    answers.push(answerText);\r\n                    answerText = \"\"\r\n                }\r\n            }\r\n            this.topicQuestions.push({\r\n                id: questionResources[i].id,\r\n                question: questionDetails.Question,\r\n                questionType: questionDetails.QuestionType,\r\n                generalTopicId: questionResources[i].generalTopicId,\r\n                questionId: questionResources[i].question.id,\r\n                choices: questionDetails.Choices,\r\n                options: options,\r\n                answers: answers\r\n            })\r\n        }\r\n    }\r\n\r\n    protected simulateOwnTopicQuestionList(questionResources: any[]) {\r\n        let questionDetails: MatchList, options: any[] = [], choices: any[] = [];\r\n        this.topicQuestions = [];\r\n        for (let i = 0; i < questionResources.length; i++) {\r\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].question.contentJson);\r\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\r\n                options = this.shuffleArray(questionDetails.Options);\r\n                choices = questionDetails.Choices;\r\n            } else {\r\n                options = [];\r\n                choices = this.shuffleArray(questionDetails.Choices)\r\n            }\r\n            this.topicQuestions.push({\r\n                id: questionResources[i].id,\r\n                question: questionDetails.Question,\r\n                questionType: questionDetails.QuestionType,\r\n                generalTopicId: questionResources[i].generalTopicId,\r\n                questionId: questionResources[i].question.id,\r\n                choices: choices,\r\n                options: options,\r\n                answers: questionDetails.Answers,\r\n                checkAnswer: \"\"\r\n            })\r\n        }\r\n    }\r\n\r\n    shuffleArray(array) {\r\n        array.sort(() => Math.random() - 0.5);\r\n        return array\r\n    }\r\n\r\n    public onSelectMCQSingleAnswer(questionId, choiceId) {\r\n        let topicIndex: number;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        for (let i = 0; i < this.topicQuestions[topicIndex].answers.length; i++) {\r\n            if (this.topicQuestions[topicIndex].answers[i] === choiceId) {\r\n                this.topicQuestions[topicIndex].checkAnswer = \"Correct\"\r\n            } else {\r\n                this.topicQuestions[topicIndex].checkAnswer = \"Wrong\"\r\n            }\r\n        }\r\n    }\r\n\r\n    public onSelectMCQMultipleAnswer(questionId, choiceId, event) {\r\n        let topicIndex: number, checked: boolean, choiceIndex: number;\r\n        checked = event.target.checked;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (checked === true) {\r\n            this.selectedAnswer.push(choiceId);\r\n        } else {\r\n            choiceIndex = this.selectedAnswer.findIndex(item => item === choiceId);\r\n            this.selectedAnswer.splice(choiceIndex, 1);\r\n        }\r\n        this.checkMultipleAnswer(topicIndex);\r\n    }\r\n\r\n    checkMultipleAnswer(index) {\r\n        let answers: any[] = this.topicQuestions[index].answers.sort();\r\n        let selectedAnswers: any[] = this.selectedAnswer.sort();\r\n        let duplicateAnswers: any[] = [];\r\n        for (let i = 0; i < answers.length; i++) {\r\n            for (let j = 0; j < selectedAnswers.length; j++) {\r\n                if (answers[i] === selectedAnswers[j]) {\r\n                    duplicateAnswers.push(selectedAnswers[j]);\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\r\n                }\r\n            }\r\n        }\r\n        if (duplicateAnswers.length > 0) {\r\n            if (duplicateAnswers.length === answers.length) {\r\n                if (JSON.stringify(duplicateAnswers.sort()) === JSON.stringify(selectedAnswers)) {\r\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                }\r\n            } else {\r\n                this.topicQuestions[index].checkAnswer = \"Partial\"\r\n            }\r\n        }\r\n    }\r\n\r\n    public onSelectChoiceMatrixAnswer(questionId, choiceId, optionId) {\r\n        let topicIndex: number, index: number;\r\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (this.selectedAnswer.length === 0) {\r\n            this.selectedAnswer = [];\r\n        }\r\n        this.selectedAnswer.push({\r\n            ChoiceId: choiceId,\r\n            OptionId: optionId\r\n        });\r\n        if (this.selectedAnswer.length > 1) {\r\n            for (let i = 0; i < this.selectedAnswer.length; i++) {\r\n                for (let j = i + 1; j < this.selectedAnswer.length; j++) {\r\n                    if (this.selectedAnswer[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\r\n                        index = this.selectedAnswer.findIndex(item => item.ChoiceId === this.selectedAnswer[i].ChoiceId);\r\n                        this.selectedAnswer.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.checkMatrixAndMatchListAnswers(topicIndex);\r\n    }\r\n\r\n    checkAnswerStatus(questionId) {\r\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (this.topicQuestions[topicIndex].checkAnswer === \"Correct\") {\r\n            this.pluginService.alertMessage(\"Good keep going...Correct answer\", \"success\");\r\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Partial\") {\r\n            this.pluginService.alertMessage(\"This is partially correct\", \"warning\");\r\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Wrong\") {\r\n            this.pluginService.alertMessage(\"Oops..! this is wrong\", \"error\");\r\n        } else {\r\n            this.pluginService.alertMessage(\"Please select a answer and check it\", \"error\");\r\n        }\r\n    }\r\n\r\n    updatedDropList(questionId, event: CdkDragDrop<string[]>) {\r\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(\r\n                event.container.data,\r\n                event.previousIndex,\r\n                event.currentIndex\r\n            );\r\n            this.selectedAnswer = [];\r\n            for (let i = 0; i < this.topicQuestions[topicIndex].choices.length; i++) {\r\n                for (let j = 0; j < this.topicQuestions[topicIndex].options.length; j++) {\r\n                    if (i === j) {\r\n                        this.selectedAnswer.push({\r\n                            ChoiceId: this.topicQuestions[topicIndex].choices[i].ChoiceId,\r\n                            OptionId: this.topicQuestions[topicIndex].options[j].OptionId\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            this.checkMatrixAndMatchListAnswers(topicIndex);\r\n        }\r\n    }\r\n\r\n    checkMatrixAndMatchListAnswers(index) {\r\n        let sortArr1, sortArr2, duplicateAnswers: any[] = [];\r\n        for (let i = 0; i < this.topicQuestions[index].answers.length; i++) {\r\n            for (let j = 0; j < this.selectedAnswer.length; j++) {\r\n                if (this.topicQuestions[index].answers[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\r\n                    if (this.topicQuestions[index].answers[i].OptionId === this.selectedAnswer[j].OptionId) {\r\n                        duplicateAnswers.push({\r\n                            ChoiceId: this.selectedAnswer[j].ChoiceId,\r\n                            OptionId: this.selectedAnswer[j].OptionId\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\r\n                }\r\n            }\r\n        }\r\n        if (duplicateAnswers.length > 0) {\r\n            sortArr1 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\r\n            const sortedArray1: any[] = duplicateAnswers.sort(sortArr1);\r\n            sortArr2 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\r\n            const sortedArray2: any[] = this.selectedAnswer.sort(sortArr2);\r\n            if (duplicateAnswers.length === this.topicQuestions[index].answers.length) {\r\n                if (JSON.stringify(sortedArray1) === JSON.stringify(sortedArray2)) {\r\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\r\n                } else {\r\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\r\n                }\r\n            } else {\r\n                this.topicQuestions[index].checkAnswer = \"Partial\"\r\n            }\r\n        }\r\n    }\r\n\r\n    previousQuestion() {\r\n        this.selectedAnswer = [];\r\n    }\r\n\r\n    nextQuestion() {\r\n        this.selectedAnswer = [];\r\n    }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\r\nimport { PluginService } from '../../shared/plugin/plugin.service';\r\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\r\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\r\nimport { Observable } from 'rxjs';\r\nimport { IQuestion } from '../../shared/model/content/question.model';\r\nimport { Choice } from '../../question-builder/mcq-standard/mcq-standard.service';\r\nimport { Option, Answer } from '../../question-builder/mcq-choicematrix';\r\nimport { CommonService } from '../../shared/common/common.service';\r\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\r\nimport { CoreErrorHandler } from '../../shared/error-handler/error-handler.service';\r\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\r\nimport { CommonLocalStorageService } from '../../shared/local-storage/local-storage.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    templateUrl: \"./topic-question-update.component.html\",\r\n    providers: [SyllabusLessonTopicService, CoreErrorHandler]\r\n})\r\nexport class CurriculumTopicQuestionUpdateComponent implements OnInit {\r\n    questionDetail: any = {};\r\n    viewModel: any = {};\r\n    oldViewModel: any = {};\r\n    answers: any[] = [];\r\n    questionCategory: any[] = [];\r\n    questionComplexityLevel: any[] = [];\r\n    contentSource: any[] = [];\r\n    questionType: string;\r\n    currentRoute: string;\r\n    choiceType: string;\r\n    category: string;\r\n    topicName: string;\r\n    questionId: number;\r\n    complexityLevel: number;\r\n    validateQuestion: boolean;\r\n    selectedContentSource: any;\r\n    editorQuestionConfig: any;\r\n    editorChoiceConfig: any;\r\n    solutionContent: any;\r\n    oldSolutionContent: any;\r\n    updatedHTMLDATA: any;\r\n\r\n    constructor(\r\n        public activatedRoute: ActivatedRoute,\r\n        public router: Router,\r\n        public pluginService: PluginService,\r\n        public questionBuilderService: QuestionBuilderService,\r\n        public questionService: SyllabusLessonTopicService,\r\n        public formBuilder: FormBuilder,\r\n        public userLoginService: UserLoginInfoService,\r\n        public commonService: CommonService,\r\n        public fileService: FileManagementService,\r\n        public errorHandler: CoreErrorHandler,\r\n        public localStorageService: CommonLocalStorageService\r\n    ) {\r\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\r\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\r\n        this.validateQuestion = true;\r\n        this.getCurrentRouteInfo();\r\n    }\r\n\r\n    getCurrentRouteInfo() {\r\n        let splitArray: any[] = [], currentUrl;\r\n        currentUrl = this.router.url\r\n        splitArray = currentUrl.split('/');\r\n        this.currentRoute = splitArray.pop();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.pluginService.sideMenuToggle();\r\n        this.pluginService.newStepperJs();\r\n        this.getContentSource();\r\n        this.getQuestionCategory();\r\n        this.getQuestionComplexityLevel();\r\n        this.activatedRoute.params.subscribe(params => {\r\n            this.questionId = params['id'];\r\n            if (this.questionId) {\r\n                this.getTopicName();\r\n            }\r\n            if (this.currentRoute === 'topic-question-edit') {\r\n                this.getOrgTopicQuestionDetail(this.questionId);\r\n            } else if (this.currentRoute === 'general-topic-question-edit') {\r\n                this.getGeneralTopicQuestionDetail(this.questionId);\r\n            }\r\n        });\r\n    }\r\n\r\n    getTopicName() {\r\n        let topicDetail: ITopicAllDetails = {};\r\n        topicDetail = this.localStorageService.retrieveData(\"topicDetails\");\r\n        if (this.questionId) {\r\n            this.topicName = topicDetail.title;\r\n        } else {\r\n            this.topicName = \"\";\r\n        }\r\n    }\r\n\r\n\r\n    getGeneralTopicQuestionDetail(questionId) {\r\n        this.questionService\r\n            .getGeneralTopicQuestionByQuestionId(questionId)\r\n            .subscribe(\r\n                (res: HttpResponse<IQuestion>) => this.assignQuestionResource(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignQuestionResource(data: IQuestion) {\r\n        let categoryIndex, levelIndex;\r\n        this.questionDetail = data;\r\n        this.viewModel = this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson);\r\n        this.oldViewModel = this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson);\r\n        this.solutionContent = this.questionBuilderService.convertStringToJson(this.questionDetail.solutionJson);\r\n        this.oldSolutionContent = this.solutionContent;\r\n        if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\") {\r\n            this.choiceType = \"checkbox\";\r\n        } else if (this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n            this.choiceType = \"radio\";\r\n        }\r\n        categoryIndex = this.questionCategory.findIndex(item => item.tag === this.questionDetail.category);\r\n        this.questionCategory[categoryIndex].checked = true;\r\n        levelIndex = this.questionComplexityLevel.findIndex(item => item.value === this.questionDetail.complexityLevel);\r\n        this.questionComplexityLevel[levelIndex].checked = true;\r\n        this.loadUpdatedAnswers();\r\n    }\r\n\r\n\r\n    getOrgTopicQuestionDetail(questionId) {\r\n        this.questionService\r\n            .getOrgTopicQuestionByQuestionId(questionId)\r\n            .subscribe(\r\n                (res: HttpResponse<IQuestion>) => this.assignOrgQuestionResource(res.body),\r\n                (res: HttpErrorResponse) => this.onError(res)\r\n            );\r\n    }\r\n\r\n    assignOrgQuestionResource(data: IOrgGeneralTopicQuestion) {\r\n        let categoryIndex, levelIndex;\r\n        this.questionDetail = data;\r\n        this.viewModel = this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson);\r\n        this.oldViewModel = this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson);\r\n        this.solutionContent = this.questionBuilderService.convertStringToJson(this.questionDetail.question.solutionJson);\r\n        this.oldSolutionContent = this.solutionContent;\r\n        if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\") {\r\n            this.choiceType = \"checkbox\";\r\n        } else if (this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n            this.choiceType = \"radio\";\r\n        }\r\n        categoryIndex = this.questionCategory.findIndex(item => item.tag === this.questionDetail.question.category);\r\n        this.questionCategory[categoryIndex].checked = true;\r\n        levelIndex = this.questionComplexityLevel.findIndex(item => item.value === this.questionDetail.question.complexityLevel);\r\n        this.questionComplexityLevel[levelIndex].checked = true;\r\n        this.loadUpdatedAnswers();\r\n    }\r\n\r\n    loadUpdatedAnswers() {\r\n        if (this.viewModel.QuestionType === \"MCQ_CHOICE_MATRIX\" || this.viewModel.QuestionType === \"MCQ_MATCH_LIST\") {\r\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\r\n            this.showChoiceMatrixAnswers();\r\n        } else if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\" || this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\r\n            this.showMCQAnswers();\r\n        }\r\n    }\r\n\r\n    loadQuestionResource() {\r\n        if (this.viewModel.QuestionType === \"MCQ_CHOICE_MATRIX\" || this.viewModel.QuestionType === \"MCQ_MATCH_LIST\") {\r\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\r\n            this.showChoiceMatrixAnswers();\r\n            this.validateQuestion = false;\r\n            this.updateQuestionResource();\r\n        } else if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\" || this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\r\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\r\n            this.validateQuestion = false;\r\n            this.showMCQAnswers();\r\n            this.updateQuestionResource();\r\n        }\r\n    }\r\n\r\n    getContentSource() {\r\n        this.commonService.getContentSourceList().subscribe((data: any) => {\r\n            this.contentSource = data;\r\n        });\r\n    }\r\n\r\n    getQuestionCategory() {\r\n        this.commonService.getQuestionCategoryList().subscribe((data: any) => {\r\n            this.questionCategory = data;\r\n        });\r\n    }\r\n\r\n    getQuestionComplexityLevel() {\r\n        this.commonService.getQuestionComplexityLevelList().subscribe((data: any) => {\r\n            this.questionComplexityLevel = data;\r\n        });\r\n    }\r\n\r\n    onSelectQuestionCategory(value) {\r\n        this.category = value;\r\n    }\r\n\r\n    onSelectComplexityLevel(value) {\r\n        this.complexityLevel = value;\r\n    }\r\n\r\n    onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n    public addChoice() {\r\n        this.viewModel.Choices.push(new Choice(new Date().getUTCMilliseconds(), \"\"))\r\n    }\r\n\r\n    public deleteChoice(choiceId) {\r\n        for (let i = 0; i < this.viewModel.Answers.length; i++) {\r\n            if (this.viewModel.Answers[i] !== choiceId) {\r\n                let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n                this.viewModel.Choices.splice(index, 1);\r\n            } else {\r\n                this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteStem(choiceId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\r\n            this.viewModel.Choices.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public markAsMCQAnswer(choiceId: string) {\r\n        var index = this.viewModel.Answers.indexOf(choiceId);\r\n        if (this.viewModel.QuestionType !== \"MCQ_MULTIPLE\") {\r\n            this.viewModel.Answers = [];\r\n        }\r\n        if (index === -1) {\r\n            this.viewModel.Answers = [...this.viewModel.Answers, choiceId]\r\n        } else {\r\n            this.viewModel.Answers = this.viewModel.Answers.filter((item) => { return item !== choiceId; })\r\n        }\r\n        this.loadUpdatedAnswers();\r\n    }\r\n\r\n    public showMCQAnswers() {\r\n        this.answers = [];\r\n        for (let j = 0; j < this.viewModel.Answers.length; j++) {\r\n            let answerText = this.viewModel.Choices.find(item => item.ChoiceId === this.viewModel.Answers[j]).ChoiceText;\r\n            this.answers.push(answerText);\r\n            answerText = \"\"\r\n        }\r\n    }\r\n\r\n    public showChoiceMatrixAnswers() {\r\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\r\n        this.answers = [];\r\n        answers = this.viewModel.Answers;\r\n        matrixChoices = this.viewModel.Choices;\r\n        matrixOptions = this.viewModel.Options;\r\n        for (let k = 0; k < answers.length; k++) {\r\n            this.answers.push({\r\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\r\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\r\n            })\r\n        }\r\n    }\r\n\r\n    addOption() {\r\n        this.viewModel.Options = [...this.viewModel.Options,\r\n        new Option(new Date().getUTCMilliseconds(), \"\")];\r\n    }\r\n\r\n    deleteOption(optionId) {\r\n        if (this.viewModel.Answers.length > 0) {\r\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\r\n        } else {\r\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\r\n            this.viewModel.Options.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    markAsMatrixAnswer(choice: Choice, option: Option) {\r\n        this.viewModel.Answers = this.viewModel.Answers.filter((item: Answer) => {\r\n            return item.ChoiceId !== choice.ChoiceId;\r\n        })\r\n        this.viewModel.Answers = [...this.viewModel.Answers,\r\n        new Answer(choice.ChoiceId, option.OptionId)];\r\n        this.loadUpdatedAnswers();\r\n    }\r\n\r\n    async updateQuestionResource() {\r\n        let choices: any[] = [], options: any[] = [], questionResource: any = {}, choiceText, optionText;\r\n        questionResource = this.questionBuilderService.getQuestionResource;\r\n        if (questionResource.Question) {\r\n            this.updatedHTMLDATA = questionResource.Question;\r\n            await this.updateImageSrc(questionResource.Question);\r\n            questionResource.Question = this.updatedHTMLDATA;\r\n        }\r\n        if (questionResource.Choices.length > 0) {\r\n            for (let i = 0; i < questionResource.Choices.length; i++) {\r\n                this.updatedHTMLDATA = questionResource.Choices[i].ChoiceText;\r\n                await this.updateImageSrc(questionResource.Choices[i].ChoiceText);\r\n                choiceText = this.updatedHTMLDATA;\r\n                choices.push({\r\n                    ChoiceText: choiceText,\r\n                    ChoiceId: questionResource.Choices[i].ChoiceId\r\n                })\r\n            }\r\n            questionResource.Choices = choices;\r\n        }\r\n        if (questionResource.QuestionType === 'MCQ_CHOICE_MATRIX' || questionResource.QuestionType === \"MCQ_MATCH_LIST\") {\r\n            if (questionResource.Options.length > 0) {\r\n                for (let i = 0; i < questionResource.Options.length; i++) {\r\n                    this.updatedHTMLDATA = questionResource.Options[i].OptionText;\r\n                    await this.updateImageSrc(questionResource.Options[i].OptionText);\r\n                    optionText = this.updatedHTMLDATA;\r\n                    options.push({\r\n                        OptionText: optionText,\r\n                        OptionId: questionResource.Options[i].OptionId\r\n                    })\r\n                }\r\n            }\r\n            questionResource.Options = options;\r\n        }\r\n        await this.checkAnyChangesInHtml(questionResource);\r\n    }\r\n\r\n    async getBase64ImageFromUrl(imageUrl) {\r\n        var res = await fetch(imageUrl);\r\n        var blob = await res.blob();\r\n        return new Promise((resolve, reject) => {\r\n            var reader = new FileReader();\r\n            reader.addEventListener(\"load\", function () {\r\n                resolve(reader.result);\r\n            }, false);\r\n\r\n            reader.onerror = () => {\r\n                return reject(this);\r\n            };\r\n            reader.readAsDataURL(blob);\r\n        })\r\n    }\r\n\r\n    async updateImageSrc(dataSource) {\r\n        let imageTags: any, htmlElement, imageId, imageUrl, index, updatedHTMLData, base64;\r\n        htmlElement = document.createElement(\"div\");\r\n        htmlElement.innerHTML = dataSource;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        if (imageTags.length > 0) {\r\n            for (let i = 0; i < imageTags.length; i++) {\r\n                if (imageTags[i].alt === \"\") {\r\n                    imageId = \"image\" + [i];\r\n                    index = i;\r\n                    imageTags[i].setAttribute(\"id\", imageId); //Set id attribute for image \r\n                    imageUrl = imageTags[i].src; //Get image source \r\n                    base64 = await this.getBase64ImageFromUrl(imageUrl);\r\n                    updatedHTMLData = await this.getAWSFilePath(base64, index, htmlElement);\r\n                }\r\n            }\r\n        } else {\r\n            updatedHTMLData = htmlElement.innerHTML;\r\n        }\r\n        return updatedHTMLData;\r\n    }\r\n\r\n    async getAWSFilePath(base64, index, htmlElement) {\r\n        let block, contentType, encodedData, fileType, imageType, presignedURL, imageTags, updatedHTMLData, updatedFileName;\r\n        imageTags = htmlElement.getElementsByTagName(\"img\");\r\n        block = base64.split(',');\r\n        contentType = block[0].split(':')[1];\r\n        fileType = contentType.split('/')[1];\r\n        imageType = fileType.split(';')[0];\r\n        encodedData = block[1];\r\n        let fileName = new Date().getUTCMilliseconds() + \"quesImage\" + \".\" + imageType;\r\n        if (encodedData) {\r\n            let res: any = await this.fileService.getImagePresignedurls(fileName);\r\n            let map = new Map().set(Object.keys(res)[0], Object.values(res)[0]).set(Object.keys(res)[1], Object.values(res)[1]);\r\n            map.forEach((value: boolean, key: string) => {\r\n                if (key !== \"objectURL\") {\r\n                    presignedURL = value;\r\n                } else if (key === \"objectURL\") {\r\n                    let updatedFilePath: any = value;\r\n                    let fileNameSplit: any;\r\n                    fileNameSplit = updatedFilePath.split(\"/\");\r\n                    updatedFileName = fileNameSplit[fileNameSplit.length - 1];\r\n                    imageTags[index].setAttribute(\"src\", updatedFilePath); //Setting aws filepath in respective image source\r\n                    imageTags[index].setAttribute(\"alt\", updatedFileName); //Passed updatedFileName in alt attribute for delete purpose\r\n                    updatedHTMLData = htmlElement.innerHTML;\r\n                    this.getImagePathUploadedHTML(updatedHTMLData);\r\n                }\r\n            });\r\n            await this.fileService.uploadImagefileAWSS3(presignedURL, encodedData);\r\n        }\r\n    }\r\n\r\n    async getImagePathUploadedHTML(data) {\r\n        this.updatedHTMLDATA = data;\r\n    }\r\n\r\n    async checkAnyChangesInHtml(questionResource) {\r\n        if (this.oldViewModel.Question !== questionResource.Question) {\r\n            await this.compareHTMLElements(this.oldViewModel.Question, questionResource.Question);\r\n        }\r\n\r\n        if (questionResource.Choices.length > 0) {\r\n            for (let i = 0; i < this.oldViewModel.Choices.length; i++) {\r\n                await this.compareHTMLElements(this.oldViewModel.Choices[i].ChoiceText, questionResource.Choices[i].ChoiceText);\r\n            }\r\n        }\r\n\r\n        if (questionResource.QuestionType === 'MCQ_CHOICE_MATRIX' || questionResource.QuestionType === \"MCQ_MATCH_LIST\") {\r\n            if (questionResource.Options.length > 0) {\r\n                for (let i = 0; i < this.oldViewModel.Options.length; i++) {\r\n                    await this.compareHTMLElements(this.oldViewModel.Options[i].OptionText, questionResource.Options[i].OptionText);\r\n                }\r\n            }\r\n        }\r\n\r\n        await this.questionBuilderService.generateQuestionResource(questionResource)\r\n    }\r\n\r\n    async compareHTMLElements(oldObject, newObject) {\r\n        let oldHtmlElement: any, newHtmlElement: any, oldImageTags: any, newImageTags: any, oldImageArr: any, newImageArr: any, removedFiles: any[] = [];\r\n        oldHtmlElement = document.createElement(\"div\");\r\n        oldHtmlElement.innerHTML = oldObject;\r\n        oldImageTags = oldHtmlElement.getElementsByTagName(\"img\");\r\n        oldImageArr = Array.from(oldImageTags);\r\n        newHtmlElement = document.createElement(\"div\");\r\n        newHtmlElement.innerHTML = newObject;\r\n        newImageTags = newHtmlElement.getElementsByTagName(\"img\");\r\n        newImageArr = Array.from(newImageTags);\r\n        for (let i = 0; i < oldImageArr.length; i++) {\r\n            if (newImageArr.length === 0) {\r\n                removedFiles.push(\r\n                    oldImageArr[i].alt\r\n                );\r\n            } else {\r\n                let index = newImageArr.findIndex(item => item.alt === oldImageArr[i].alt);\r\n                if (index === -1) {\r\n                    removedFiles.push(\r\n                        oldImageArr[i].alt\r\n                    );\r\n                }\r\n            }\r\n        }\r\n        if (removedFiles.length > 0) {\r\n            for (let i = 0; i < removedFiles.length; i++) {\r\n                let fileName = removedFiles[i];\r\n                this.deleteUploadedFile(fileName);\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteUploadedFile(fileName) {\r\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(fileName));\r\n    }\r\n\r\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onError(res));\r\n    }\r\n\r\n    onDeleteFileSuccess(resp) {\r\n        //File deleted successfully\r\n    }\r\n\r\n    async updateQuestion() {\r\n        let updatedQuestionResource, solutionContentJson, updatedSolutionContent;\r\n        await this.updateImageSrc(this.solutionContent);\r\n        if (this.solutionContent !== \"\") {\r\n            updatedSolutionContent = this.updatedHTMLDATA;\r\n            solutionContentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedSolutionContent));\r\n        } else {\r\n            solutionContentJson = \"\";\r\n        }\r\n        //Removed deleted image to AWS\r\n        await this.compareHTMLElements(this.oldSolutionContent, this.solutionContent);\r\n        updatedQuestionResource = this.questionBuilderService.getQuestionResource;\r\n        if (this.currentRoute === 'topic-question-edit') {\r\n            if (this.category) {\r\n                this.questionDetail.question.category = this.category;\r\n            }\r\n            if (this.complexityLevel) {\r\n                this.questionDetail.question.complexityLevel = this.complexityLevel;\r\n            }\r\n            this.questionDetail.question.contentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedQuestionResource));\r\n            this.questionDetail.question.solutionJson = solutionContentJson;\r\n            this.questionDetail.question.marks = updatedQuestionResource.TotalMarks * this.questionDetail.question.complexityLevel;\r\n            this.subscribeToSaveResponse(this.questionService.updateOrgTopicQuestion(this.questionDetail));\r\n        } else if (this.currentRoute === 'general-topic-question-edit') {\r\n            updatedQuestionResource = this.questionBuilderService.getQuestionResource;\r\n            if (this.category) {\r\n                this.questionDetail.category = this.category;\r\n            }\r\n            if (this.complexityLevel) {\r\n                this.questionDetail.complexityLevel = this.complexityLevel;\r\n            }\r\n            this.questionDetail.contentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedQuestionResource));\r\n            this.questionDetail.solutionJson = solutionContentJson;\r\n            this.questionDetail.marks = updatedQuestionResource.TotalMarks * this.questionDetail.complexityLevel;\r\n            this.subscribeToSaveResponse(this.questionService.updateGeneralTopicQuestion(this.questionDetail));\r\n        }\r\n    }\r\n\r\n    resetQuestion() {\r\n        window.location.reload();\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IQuestion>>) {\r\n        result.subscribe((resp: HttpResponse<IQuestion>) => this.onSaveSuccess(resp), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    protected onSaveSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\r\n        this.pluginService.alertMessage(\"Topic question updated successfully\", \"success\");\r\n        this.previousUrl();\r\n    }\r\n\r\n    onBack() {\r\n        var localObj = this;\r\n        swal({\r\n            title: \"Are you sure to go previous page ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: true,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localObj.previousUrl();\r\n                    localObj.pluginService.sideMenuToggle();\r\n                }\r\n            });\r\n    }\r\n\r\n    public previousUrl() {\r\n        if (this.currentRoute === \"topic-question-edit\") {\r\n            this.router.navigateByUrl('/lesson-topic/topic-question');\r\n        } else if (this.currentRoute === \"general-topic-question-edit\") {\r\n            this.router.navigateByUrl('/general-concept-and-topic/general-topic-question');\r\n        } else {\r\n            this.router.navigateByUrl('../')\r\n        }\r\n    }\r\n}"],"sourceRoot":"webpack:///"}