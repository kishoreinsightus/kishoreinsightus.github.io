function _toConsumableArray(l){return _arrayWithoutHoles(l)||_iterableToArray(l)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}function _arrayWithoutHoles(l){if(Array.isArray(l)){for(var n=0,e=new Array(l.length);n<l.length;n++)e[n]=l[n];return e}}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var e=0;e<n.length;e++){var u=n[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/+cj":function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var u=e("IheW"),t=e("AytR"),i=e("EBJu"),s=e("8Y7J"),o=new u.h;o=o.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");var r=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.lessonTopicResourceUrl=t.a.API_URL+i.y,this.prerequisiteLessonTopicResourceUrl=t.a.API_URL+i.R,this.contentResourceUrl=t.a.API_URL+i.e,this.topicContentDetailsResouceUrl=t.a.API_URL+i.X,this.topicQuestionDetailsResouceUrl=t.a.API_URL+i.Y,this.questionResourceUrl=t.a.API_URL+i.T,this.orgGeneralTopicContentResourceUrl=t.a.API_URL+i.H,this.orgGeneralTopicContentSearchResourceUrl=t.a.API_URL+i.I,this.orgGeneralTopicQuestionResourceUrl=t.a.API_URL+i.J,this.orgGeneralTopicQuestionSearchResourceUrl=t.a.API_URL+i.K,this.contentPreferenceResourceUrl=t.a.API_URL+i.E,this.getContentPreferenceResourceUrl=t.a.API_URL+i.D,this.orgQuestionPreferenceResourceUrl=t.a.API_URL+i.G,this.getQuestionPreferenceResourceUrl=t.a.API_URL+i.F,this.lessonTopicDetailsResourceUrl=t.a.API_URL+i.z,this.lessonPreReqTopicDetailsResourceUrl=t.a.API_URL+i.x,this.addlResourceUrl=t.a.API_URL+i.b,this.orgAddlResourceUrl=t.a.API_URL+i.A,this.setAddlResourcePreferenceUrl=t.a.API_URL+i.C,this.getAddlResourcePreferenceUrl=t.a.API_URL+i.B}return _createClass(l,[{key:"getLessonTopicListByLessonId",value:function(l){return this.http.get("".concat(this.lessonTopicDetailsResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getLessonPreReqTopicListByLessonId",value:function(l){return this.http.get("".concat(this.lessonPreReqTopicDetailsResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getLessonTopicListByLessonTopicId",value:function(l){return this.http.get("".concat(this.lessonTopicResourceUrl,"/").concat(l),{observe:"response"})}},{key:"updateLessonTopicMapping",value:function(l){return this.http.put(this.lessonTopicResourceUrl,l,{headers:o,observe:"response"})}},{key:"saveLessonTopicMapping",value:function(l){return this.http.post(this.lessonTopicResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteLessonTopicMapping",value:function(l){return this.http.delete("".concat(this.lessonTopicResourceUrl,"/batch/").concat(l),{observe:"response"})}},{key:"updatePrerequisiteLessonTopicMapping",value:function(l){return this.http.put(this.prerequisiteLessonTopicResourceUrl,l,{headers:o,observe:"response"})}},{key:"savePrerequisiteLessonTopicMapping",value:function(l){return this.http.post(this.prerequisiteLessonTopicResourceUrl,l,{headers:o,observe:"response"})}},{key:"deletePrerequisiteLessonTopicMapping",value:function(l){return this.http.delete("".concat(this.prerequisiteLessonTopicResourceUrl,"/batch/").concat(l),{observe:"response"})}},{key:"getTopicContentDetails",value:function(l){return this.http.get("".concat(this.topicContentDetailsResouceUrl,"/").concat(l),{observe:"response"})}},{key:"getTopicQuestionDetails",value:function(l){return this.http.get("".concat(this.topicQuestionDetailsResouceUrl,"/").concat(l),{observe:"response"})}},{key:"getOrgGeneralTopicContentsByOrgId",value:function(l,n){return this.http.post(this.orgGeneralTopicContentSearchResourceUrl,{generalTopicId:l,organisationId:n},{observe:"response"})}},{key:"getOrgGeneralTopicQuestionsByOrgId",value:function(l,n){return this.http.post(this.orgGeneralTopicQuestionSearchResourceUrl,{generalTopicId:l,organisationId:n},{observe:"response"})}},{key:"setContentPreference",value:function(l,n,e){return this.http.put(this.contentPreferenceResourceUrl,{active:l,generalTopicId:n,organisationId:e},{observe:"response"})}},{key:"getContentPreference",value:function(l,n){return this.http.post(this.getContentPreferenceResourceUrl,{organisationId:l,generalTopicId:n},{headers:o,observe:"response"})}},{key:"setQuestionPreference",value:function(l,n,e){return this.http.put(this.orgQuestionPreferenceResourceUrl,{active:l,generalTopicId:n,organisationId:e},{observe:"response"})}},{key:"getQuestionPreference",value:function(l,n){return this.http.post(this.getQuestionPreferenceResourceUrl,{organisationId:l,generalTopicId:n},{headers:o,observe:"response"})}},{key:"saveOwnTopicContent",value:function(l){return this.http.post(this.orgGeneralTopicContentResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateOwnTopicContents",value:function(l){return this.http.put(this.orgGeneralTopicContentResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateContentSource",value:function(l){return this.http.put(this.contentResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteOwnTopicContents",value:function(l){return this.http.delete("".concat(this.orgGeneralTopicContentResourceUrl,"/batch/").concat(l),{observe:"response"})}},{key:"deleteOwnTopicQuestion",value:function(l){return this.http.delete("".concat(this.orgGeneralTopicQuestionResourceUrl,"/").concat(l),{observe:"response"})}},{key:"saveOwnTopicQuestion",value:function(l){return this.http.post(this.orgGeneralTopicQuestionResourceUrl,l,{headers:o,observe:"response"})}},{key:"getGeneralTopicQuestionByQuestionId",value:function(l){return this.http.get("".concat(this.questionResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getOrgTopicQuestionByQuestionId",value:function(l){return this.http.get("".concat(this.orgGeneralTopicQuestionResourceUrl,"/").concat(l),{observe:"response"})}},{key:"updateOrgTopicQuestion",value:function(l){return this.http.put(this.orgGeneralTopicQuestionResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateGeneralTopicQuestion",value:function(l){return this.http.put(this.questionResourceUrl,l,{headers:o,observe:"response"})}},{key:"getAddlResource",value:function(l){return this.http.post(this.addlResourceUrl+"/search",{lessonId:l},{headers:o,observe:"response"})}},{key:"saveAddlResource",value:function(l){return this.http.post(this.addlResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateAddlResource",value:function(l){return this.http.put(this.addlResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteAddlResource",value:function(l){return this.http.delete("".concat(this.addlResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getOrgGeneralAddlResourceByOrganisationId",value:function(l,n){return this.http.post(this.orgAddlResourceUrl+"/search",{lessonId:l,organisationId:n},{headers:o,observe:"response"})}},{key:"saveOwnAddlResource",value:function(l){return this.http.post(this.orgAddlResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateOwnAddlResource",value:function(l){return this.http.put(this.orgAddlResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteOwnAddlResource",value:function(l){return this.http.delete("".concat(this.orgAddlResourceUrl,"/").concat(l),{observe:"response"})}},{key:"setAddlResourcePreference",value:function(l,n,e){return this.http.put(this.setAddlResourcePreferenceUrl,{active:l,lessonId:n,organisationId:e},{observe:"response"})}},{key:"getAddlResourcePreference",value:function(l,n){return this.http.post(this.getAddlResourcePreferenceUrl,{lessonId:l,organisationId:n},{headers:o,observe:"response"})}}]),l}();return l.ngInjectableDef=s.Sb({factory:function(){return new l(s.Tb(u.c))},token:l,providedIn:"root"}),l}()},"/b5/":function(l,n,e){"use strict";e.d(n,"a",(function(){return o})),e("JXEQ"),e("tWOK");var u=e("IheW"),t=e("s7LF"),i=(e("QHgc"),e("tmov"),e("aV0t"),e("Iab2")),s=(e("hFJU"),e("BN3N")),o=function(){function l(n,e,u,t,i,s,o,r,c){_classCallCheck(this,l),this._router=n,this.generalSubjectService=e,this.generalTopicContentService=u,this.formBuilder=t,this.pluginService=i,this.commonService=s,this.changeDetectRef=o,this.fileService=r,this.errorHandler=c,this.subjectTree=[],this.topicContents=[],this.allGrades=[],this.contentDetails={},this.contentSource=[],this.contentType=[],this.contentIds=[],this.selectedFile=null,this.enableExpandNode=!1,this.topicContents=[],this.fileName="No file chosen",this.tableAction=!0,this.updateAction=!0,this.checkUrl1=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}return _createClass(l,[{key:"ngOnInit",value:function(){this.createTopicContentForm(),this.getContentType(),this.getContentSource()}},{key:"getContentType",value:function(){var l=this;this.commonService.getContentTypeList().subscribe((function(n){l.contentType=n}))}},{key:"getContentSource",value:function(){var l=this;this.commonService.getContentSourceList().subscribe((function(n){l.contentSource=n}))}},{key:"createTopicContentForm",value:function(){this.topicContentForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),webUrl1:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher1:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl2:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher2:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl3:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher3:new t.f("",[t.y.minLength(3),t.y.maxLength(50)])})}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"showConceptAndTopicDetails",value:function(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.contentIds=[]):"topic"===l.nodeType&&(l.contentIds=[],l.topicContents=[],l.topicId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.getTopicContentList(l.topicId))}))}},{key:"getTopicContentList",value:function(l){var n=this;this.generalTopicContentService.getTopicContentList(l).subscribe((function(l){return n.assignResponseToTopicList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToTopicList",value:function(l){this.contentIds=[],this.topicContents=[],this.topicContents=l.generalTopicContents,this.sortArrayByOrderNumber(this.topicContents),this.updateAction=!0,this.tableAction=!0,this.topicContents.length>0&&this.dragTableContent()}},{key:"ngAfterViewInit",value:function(){this.showConceptAndTopicDetails()}},{key:"onGeneralSubjectGradeChange",value:function(){var l=this;if(this.selectedGeneralSubjectGrade){var n=this.selectedGeneralSubjectGrade.name,e=s.a;this.selectedSubject=null,this.generalSubjectService.getSubjectListByGrade(n,e).subscribe((function(n){return l.assignGeneralSubjectList(n.body)}),(function(n){return l.onError(n)}))}this.selectedGeneralSubjectGrade=null,this.subjects=[]}},{key:"assignGeneralSubjectList",value:function(l){this.subjects=[],this.subjects=l}},{key:"loadSubjectTree",value:function(){var l=this;if(this.selectedSubject||this.selectedGeneralSubjectGrade){this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1);var n=this.selectedSubject.id;n&&this.generalSubjectService.getSubjectTreeBySubjectId(n).subscribe((function(n){return l.assignResponsetoTree(n.body)}),(function(n){return l.onError(n)}))}else this.selectedSubject=null,this.selectedGeneralSubjectGrade=null,this.pluginService.alertMessage("Please select a filter and then apply","error")}},{key:"assignResponsetoTree",value:function(l){if(this.subjectTree=[],l.length>0){for(var n=0;n<l.length;n++)0===l[n].data.contentsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandNode=!1}},{key:"trimValue",value:function(l){return null==l?l:l.trim()}},{key:"ngAfterViewChecked",value:function(){this.validateTopicContentForm(),this.changeDetectRef.detectChanges()}},{key:"validateTopicContentForm",value:function(){var l,n,e,u;l=this.trimValue(this.topicContentForm.value.contentTitle),n=this.trimValue(this.topicContentForm.value.webUrl1),e=this.trimValue(this.topicContentForm.value.webUrl2),u=this.trimValue(this.topicContentForm.value.webUrl3),""!==l&&null!=l||(this.validateContent=!0),""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateContent=!0),this.topicContentForm.valid&&(this.validateContent=!1),this.topicContentForm.invalid&&(this.validateContent=!0),!0===this.checkUrl1&&(""!==n&&null!=n||(this.validateContent=!0)),!0===this.checkUrl2&&(""!==e&&null!=e||(this.validateContent=!0)),!0===this.checkUrl3&&(""!==u&&null!=u||(this.validateContent=!0))}},{key:"onActiveWebUrlSelection",value:function(l){!0===l.target.checked&&(this.activeUrl=l.target.id,"webUrl1"===this.activeUrl?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):"webUrl2"===this.activeUrl?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):"webUrl3"===this.activeUrl&&(this.checkUrl3=!0,this.checkUrl1=!1,this.checkUrl2=!1))}},{key:"onVideoFileChanges",value:function(l){var n;this.selectedFile=l[0],n=this.selectedFile.type.split("/"),this.fileType=n[0],this.fileName=this.selectedFile.name,"video"===this.fileType&&this.selectedFile.size>209715200&&this.pluginService.alertMessage("Please upload file size lesser than 200 MB","error")}},{key:"uploadVideoFile",value:function(){var l=this;"No file chosen"!==this.fileName?"video"===this.fileType?this.fileService.getpresignedurls(this.fileName).subscribe((function(n){var e;200===n.status&&(l.uploadedFileName=Object.keys(n.body)[0],l.uploadedFilePath=Object.values(n.body)[0],l.fileName=l.uploadedFileName,l.uploadedFileName&&l.uploadedFilePath)&&(e=l.selectedFile.base64.split(";")[1].split(",")[1],l.fileService.uploadVideoFile(l.uploadedFilePath,e).subscribe((function(n){n instanceof u.j&&(l.showFileAction=!0,l.pluginService.alertMessage("File uploaded successfully","success"))})))})):this.pluginService.alertMessage("Invalid file format, please upload valid video format ","error"):this.pluginService.alertMessage("Please choose file and upload it","error")}},{key:"onDocumentFileChanges",value:function(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}},{key:"uploadDocumentFile",value:function(){var l=this;if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){var n=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe((function(e){200===e.status&&(l.uploadedFileName=Object.keys(e.body)[0],l.uploadedFilePath=Object.values(e.body)[0],l.fileName=l.uploadedFileName,l.uploadedFileName&&l.uploadedFilePath&&l.fileService.uploadPDFFile(l.uploadedFilePath,n).subscribe((function(n){n instanceof u.j&&(l.showFileAction=!0,l.pluginService.alertMessage("File uploaded successfully","success"))})))}))}else this.pluginService.alertMessage("Invalid file format, please upload file in PDF format","error");else this.pluginService.alertMessage("Please choose a file to upload","error")}},{key:"downloadFile",value:function(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}},{key:"subscribeToDownloadResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDownloadSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDownloadSuccess",value:function(l){if(l.body){var n=Object.values(l.body)[0];Object(i.saveAs)(n)}}},{key:"addContent",value:function(){this.modalTitleName="Add",this.openTopicContentModal(),this.resetFormValues(),this.validateContent=!1,this.selectedContentSource=null,this.selectedContentType=null,this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}},{key:"saveTopicContent",value:function(){if(this.topicContentForm.valid){this.validateContent=!1;var l=[],n={}.content;(n={}).title=this.trimValue(this.topicContentForm.value.contentTitle),n.description=this.trimValue(this.topicContentForm.value.contentDescription),n.url1=this.trimValue(this.topicContentForm.value.webUrl1),n.url2=this.trimValue(this.topicContentForm.value.webUrl2),n.url3=this.trimValue(this.topicContentForm.value.webUrl3),n.publisher1=this.trimValue(this.topicContentForm.value.publisher1),n.publisher2=this.trimValue(this.topicContentForm.value.publisher2),n.publisher3=this.trimValue(this.topicContentForm.value.publisher3),n.contentType="VIDEO",n.contentSource="WEB_URL",!0===this.checkUrl1?(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1):!0===this.checkUrl2?(n.webUrl=this.getEmbedUrl(n.url2),n.publisher=n.publisher2):!0===this.checkUrl3?(n.webUrl=this.getEmbedUrl(n.url3),n.publisher=n.publisher3):(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1),l.push({generalTopicId:this.topicId,content:n,orderNumber:this.topicContents.length+1}),this.saveTopicContents(l)}this.topicContentForm.invalid&&(this.validateContent=!0)}},{key:"saveTopicContents",value:function(l){this.subscribeToSaveResponse(this.generalTopicContentService.saveTopicContent(l))}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Topic content created successfully","success"),this.getTopicContentList(this.topicId),this.checkContentType(),this.resetFormValues(),this.uploadedFileName="",this.uploadedFilePath="",this.loadSubjectTree()}},{key:"openTopicContentModal",value:function(){this.pluginService.showModalWindow("#generalTopicContent")}},{key:"closeTopicContentModal",value:function(){this.pluginService.hideModalWindow("#generalTopicContent")}},{key:"closeTopicContentModalWithOutSaving",value:function(){if("View"===this.modalTitleName)this.closeTopicContentModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n?l.checkContentType():l.closeTopicContentModal()}))}}},{key:"checkContentType",value:function(){this.closeTopicContentModal(),this.selectedContentSource&&"FILE_UPLOAD"===this.selectedContentSource.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}},{key:"deleteUploadedFile",value:function(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}},{key:"subscribeToDeleteFiletResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteFileSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteFileSuccess",value:function(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}},{key:"getContent",value:function(l){var n;n=this.topicContents.filter((function(n){return n.content.id===l})),this.patchContentFormfields(n[0].content),this.openTopicContentModal()}},{key:"getContentDetails",value:function(l){var n;this.contentDetails={},n=this.topicContents.filter((function(n){return n.content.id===l})),this.contentDetails=n[0],this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1),this.openTopicContentModal()}},{key:"onContentError",value:function(l){this.pluginService.alertMessage(l,"error")}},{key:"patchContentFormfields",value:function(l){this.contentId=l.id,this.topicContentForm.patchValue({contentTitle:l.title,contentDescription:l.description,webUrl1:l.url1,publisher1:l.publisher1,webUrl2:l.url2,publisher2:l.publisher2,webUrl3:l.url3,publisher3:l.publisher3}),!0===this.checkUrl1?(l.webUrl=l.url1,l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=l.url2,l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=l.url3,l.publisher=l.publisher3):(l.webUrl=l.url1,l.publisher=l.publisher1)}},{key:"viewContent",value:function(l){this.modalTitleName="View",this.getContentDetails(l)}},{key:"editContent",value:function(l){this.modalTitleName="Edit",this.getContent(l)}},{key:"updateTopicContents",value:function(){if(this.topicContentForm.valid){var l={}.content;(l={}).id=this.contentId,l.title=this.trimValue(this.topicContentForm.value.contentTitle),l.description=this.trimValue(this.topicContentForm.value.contentDescription),l.url1=this.trimValue(this.topicContentForm.value.webUrl1),l.url2=this.trimValue(this.topicContentForm.value.webUrl2),l.url3=this.trimValue(this.topicContentForm.value.webUrl3),l.publisher1=this.trimValue(this.topicContentForm.value.publisher1),l.publisher2=this.trimValue(this.topicContentForm.value.publisher2),l.publisher3=this.trimValue(this.topicContentForm.value.publisher3),l.contentType="VIDEO",l.contentSource="WEB_URL",!0===this.checkUrl1?(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=this.getEmbedUrl(l.url2),l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=this.getEmbedUrl(l.url3),l.publisher=l.publisher3):(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1),this.subscribeToUpdateResponse(this.generalTopicContentService.updateContent(l))}this.topicContentForm.invalid&&(this.validateContent=!0)}},{key:"subscribeToUpdateResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateSuccess",value:function(l){this.getTopicContentList(this.topicId),this.checkContentType(),this.resetFormValues(),this.pluginService.alertMessage("Topic content updated successfully","success")}},{key:"resetTopicContent",value:function(){this.resetFormValues()}},{key:"checkSelectedContents",value:function(l){var n,e,u;n=l.target.id,!0===(e=l.target.checked)?(this.tableAction=!1,this.contentIds.push(n)):!1===e&&(u=this.contentIds.findIndex((function(l){return l===n})),this.contentIds.splice(u,1)),this.contentIds=this.removeDuplicateElements(this.contentIds),this.contentIds.length<=0&&(this.tableAction=!0)}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"resetFormValues",value:function(){this.topicContentForm.reset(),this.selectedContentSource=null,this.selectedContentType=null}},{key:"resetSelectedTopicContent",value:function(){this.contentIds=[],$(".checkAll").prop("checked",!1),this.tableAction=!0}},{key:"deleteTopicContents",value:function(){var l=this;swal({title:"Are you sure to delete content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.contentIds.length>0&&l.subscribeToDeleteResponse(l.generalTopicContentService.deleteTopicContents(l.contentIds))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.getTopicContentList(this.topicId),this.tableAction=!0,this.contentIds=[],this.loadSubjectTree()}},{key:"dragTableContent",value:function(){var l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateTopicContentOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"updateTopicContentOrder",value:function(){var l=this;this.updateAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].title),t=Number(e[1].textContent),i=0;i<l.topicContents.length;i++)if(l.topicContents[i].id===u){l.topicContents[i].orderNumber=t;break}l.sortArrayByOrderNumber(l.topicContents)}))}},{key:"sortArrayByOrderNumber",value:function(l){l.sort((function(l,n){return l.orderNumber>n.orderNumber?1:-1}))}},{key:"updateTopicContentsWithOrderNumber",value:function(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===l.checkOrderNumChange&&(l.subscribeToUpdateTopicContentResponse(l.generalTopicContentService.updateTopicContents(l.topicContents)),l.updateAction=!0)}))}},{key:"subscribeToUpdateTopicContentResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateTopicContentSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateTopicContentSuccess",value:function(l){this.pluginService.alertMessage("Topic content order updated successfully","success"),this.getTopicContentList(this.topicId),this.resetFormValues()}},{key:"toggleTreeNodes",value:function(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}},{key:"getEmbedUrl",value:function(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}},{key:"contentFormControl",get:function(){return this.topicContentForm.controls}}]),l}()},"0ixX":function(l,n,e){"use strict";e.d(n,"a",(function(){return L}));var u=e("8Y7J"),t=e("SVse"),i=e("ZTrc"),s=e("IDBn"),o=e("s7LF"),r=e("XKba"),c=e("WOoW"),a=e("iInd"),d=e("H/4C"),b=e("cUpR"),p=e("Bqwo"),h=e("JXEQ"),g=e("An3Y"),f=e("3ZkO"),m=e("aV0t"),v=u.qb({encapsulation:2,styles:[],data:{}});function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ single answer"]))],null,null)}function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ multiple answers"]))],null,null)}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ true or false"]))],null,null)}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2 mx-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Choice is required "]))],null,null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","w-100 mb-2 my-2 d-flex"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-choice d-flex align-items-center"]],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["name","answer"]],[[8,"type",0],[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsAnswer(l.context.$implicit.ChoiceId)&&u),u}),null,null)),u.rb(6,540672,null,0,i.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,10,"div",[["class","mcq-question"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),s.b,s.a)),u.rb(10,16384,null,0,o.x,[],{required:[0,"required"]},null),u.Jb(1024,null,o.m,(function(l){return[l]}),[o.x]),u.rb(12,4374528,null,0,r.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,o.n,(function(l){return[l]}),[r.a]),u.rb(14,671744,[["choiceInput",4]],0,o.s,[[8,null],[6,o.m],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,o.o,null,[o.s]),u.rb(16,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(18,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(19,0,null,null,1,"div",[["class","mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end delete-icon"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.choiceType,"checkbox"===e.choiceType);l(n,3,0,"mcq-choice d-flex align-items-center",t),l(n,6,0,e.viewModel.Answers,n.context.$implicit.ChoiceId),l(n,10,0,!0),l(n,12,0,e.editorChoiceConfig),l(n,14,0,n.context.$implicit.ChoiceText),l(n,18,0,!u.Eb(n,14).valid)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.choiceType,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,9,0,u.Eb(n,10).required?"":null,u.Eb(n,16).ngClassUntouched,u.Eb(n,16).ngClassTouched,u.Eb(n,16).ngClassPristine,u.Eb(n,16).ngClassDirty,u.Eb(n,16).ngClassValid,u.Eb(n,16).ngClassInvalid,u.Eb(n,16).ngClassPending)}))}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Choice"]))],null,null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(2,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,44,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(4,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(6,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(8,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(9,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,11).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(11,671744,null,0,a.n,[a.k,a.a,t.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(12,2),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(15,0,null,null,3,"a",[["class","btn btn-info mb-2"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,16).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(16,671744,null,0,a.n,[a.k,a.a,t.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.sb(19,0,null,null,11,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,8,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),s.b,s.a)),u.rb(22,16384,null,0,o.x,[],{required:[0,"required"]},null),u.Jb(1024,null,o.m,(function(l){return[l]}),[o.x]),u.rb(24,4374528,null,0,r.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,o.n,(function(l){return[l]}),[r.a]),u.rb(26,671744,[["questionInput",4]],0,o.s,[[8,null],[6,o.m],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,o.o,null,[o.s]),u.rb(28,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(30,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Choices"])),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(35,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(36,0,null,null,2,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(38,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(39,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(44,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"MCQ_SINGLE"===e.viewModel.QuestionType),l(n,6,0,"MCQ_MULTIPLE"===e.viewModel.QuestionType),l(n,8,0,"MCQ_TRUE_FALSE"===e.viewModel.QuestionType);var t=l(n,12,0,"/lesson-topic","ocr");l(n,11,0,"_blank",t),l(n,16,0,"_blank","./topic-question-sample"),l(n,22,0,!0),l(n,24,0,e.editorQuestionConfig),l(n,26,0,e.viewModel.Question),l(n,30,0,!u.Eb(n,26).valid),l(n,35,0,e.viewModel.Choices),l(n,38,0,"MCQ_TRUE_FALSE"!==e.viewModel.QuestionType),l(n,44,0,e.answers.length>0)}),(function(l,n){l(n,10,0,u.Eb(n,11).target,u.Eb(n,11).href),l(n,15,0,u.Eb(n,16).target,u.Eb(n,16).href),l(n,21,0,u.Eb(n,22).required?"":null,u.Eb(n,28).ngClassUntouched,u.Eb(n,28).ngClassTouched,u.Eb(n,28).ngClassPristine,u.Eb(n,28).ngClassDirty,u.Eb(n,28).ngClassValid,u.Eb(n,28).ngClassInvalid,u.Eb(n,28).ngClassPending)}))}function I(l){return u.Ob(0,[u.Gb(0,d.a,[b.b]),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(2,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.viewModel)}),null)}var L=u.ob("ng-component",g.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"ng-component",[],null,null,null,I,v)),u.Jb(512,null,p.b,p.b,[h.a]),u.rb(2,8634368,null,0,g.a,[p.b,a.a,f.a,u.h,h.a,m.a],null,null)],(function(l,n){l(n,2,0)}),null)}),{},{},[])},"1kWI":function(l,n,e){"use strict";e("/b5/"),e("HNQk"),e("J/y8"),e("tWOK")},"3ZkO":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("8Y7J"),t=function(){var l=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"generateQuestionResource",value:function(l){var n=JSON.stringify(l);this.questionDetails=l,this.saveQuestionResource(n)}},{key:"saveQuestionResource",value:function(l){this.questionResource=this.convertJsonToString(l)}},{key:"convertJsonToString",value:function(l){return l.replace(/"/g,'\\"')}},{key:"convertStringToJson",value:function(l){var n;return n=l.replace(/\\"/g,'"'),JSON.parse(n)}},{key:"getQuestionResource",get:function(){return this.questionDetails}}]),l}();return l.ngInjectableDef=u.Sb({factory:function(){return new l},token:l,providedIn:"root"}),l}()},"3df2":function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return o}));var u=e("8Y7J"),t=e("SVse"),i=(e("uH8f"),e("iInd"),e("QHgc"),u.qb({encapsulation:2,styles:[],data:{}}));function s(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"div",[["class","d-flex p-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.navigateToUrl(l.context.$implicit.router)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["name","mcq"],["type","radio"]],[[8,"id",0],[8,"checked",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"div",[["class","mcq-header"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"p",[["class","text-white p-2"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"div",[["class","mcq-img p-2"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),n.context.$implicit.checked),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,9,0,n.context.$implicit.name),l(n,11,0,u.wb(1,"",n.context.$implicit.imgsrc,""),u.wb(1,"",n.context.$implicit.name,""))}))}function o(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","d-flex justify-content-between align-items-start flex-wrap"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,s)),u.rb(2,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.questionTypes)}),null)}},"4Ca9":function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));var u=function l(){_classCallCheck(this,l)}},"6r+a":function(l,n,e){"use strict";e.d(n,"a",(function(){return Ml}));var u=e("8Y7J"),t=e("MJJn"),i=e("wTG2"),s=e("s7LF"),o=e("WOoW"),r=e("iInd"),c=e("SVse"),a=e("vs5s"),d=e("+Ok4"),b=e("Mc5n"),p=e("hOhj"),h=e("IP0z"),g=e("ZTrc"),f=e("H/4C"),m=e("cUpR"),v=e("/+cj"),y=e("IheW"),T=e("hFJU"),C=e("JXEQ"),w=e("roRw"),k=e("wy83"),x=e("GcsT"),E=e("pyIl"),M=e("tWOK"),S=e("BksD"),O=e("ustg"),I=e("3ZkO"),L=u.qb({encapsulation:2,styles:[],data:{}});function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGrade=e)&&t),"change"===n&&(t=!1!==i.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedSubject=e)&&t),"change"===n&&(t=!1!==i.onSubjectChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","text"],["class","ng-select"],["placeholder","Select lesson"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedLesson=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","Select lesson",e.lessonList);var u=e.selectedLesson,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","row d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"h5",[["class","font-20 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson topics"])),(l()(),u.sb(4,0,null,null,10,"div",[["class","col-xxl-9 d-flex justify-content-between flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,5,"div",[["class","badge-lightBlue col-xxl-8 p-2 rounded mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2 text-danger"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No question is mapped "])),(l()(),u.sb(11,0,null,null,3,"div",[["class","col-xxl-4 d-flex justify-content-end mb-2 p-0"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(4,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.topicDescription)}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","col-xxl-12 flex-wrap d-flex justify-content-lg-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-info mb-2 mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openGeneralTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "])),(l()(),u.sb(5,0,null,null,2,"div",[["class","btn btn-success mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openGeneralTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,26,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,20,"div",[["class","collapse"],["data-parent","#generalTopicQuestions"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,19,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,5,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View question "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.id,"general-topic-question-view");l(n,23,0,"_blank",e)}),(function(l,n){l(n,3,0,u.wb(1,"#questionDetail",n.context.$implicit.questionId,"")),l(n,6,0,u.wb(1,"questionDetail",n.context.$implicit.questionId,"")),l(n,12,0,n.context.$implicit.questionCategory),l(n,16,0,n.context.$implicit.questionType),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","col-xxl-12 d-flex flex-wrap justify-content-lg-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-info mb-2 mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOrgTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "])),(l()(),u.sb(5,0,null,null,2,"div",[["class","btn btn-success mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOrgTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,26,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,20,"div",[["class","collapse"],["data-parent","#organisationTopicQuestion"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,19,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,5,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View question "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.id,"topic-question-view");l(n,23,0,"_blank",e)}),(function(l,n){l(n,3,0,u.wb(1,"#organisationQuestionDetail",n.context.$implicit.id,"")),l(n,6,0,u.wb(1,"organisationQuestionDetail",n.context.$implicit.id,"")),l(n,12,0,n.context.$implicit.questionCategory),l(n,16,0,n.context.$implicit.questionType),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","w-100 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,"w-100"],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgTopicQuestiontByOrgId()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(30,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,2,"div",[["class","accordion"],["id","organisationTopicQuestion"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(33,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralTopicQuestions.length>0),l(n,33,0,e.orgGeneralTopicQuestions)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOwnTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "]))],null,null)}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOwnTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,37,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,31,"div",[["class","collapse"],["data-parent","#ownTopicQuestions"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,30,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,16,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View "])),(l()(),u.sb(27,0,null,null,4,"a",[["class","btn btn-success mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,28).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(28,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(29,3),(l()(),u.sb(30,0,null,null,0,"i",[["class","fa fa-edit mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit "])),(l()(),u.sb(32,0,null,null,2,"a",[["class","btn btn-danger  mb-2 d-flex justify-content-center align-items-center"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnTopicQuestions(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Delete "])),(l()(),u.sb(35,0,null,null,2,"a",[["class","btn btn-success mb-2 d-flex justify-content-center align-items-center"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateQuestion(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(36,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.questionId,"topic-question-view");l(n,23,0,"_blank",e);var u=l(n,29,0,"/lesson-topic",n.context.$implicit.questionId,"topic-question-edit");l(n,28,0,"_blank",u)}),(function(l,n){l(n,3,0,u.wb(1,"#ownquestionDetail",n.context.$implicit.questionId,"")),l(n,6,0,u.wb(1,"ownquestionDetail",n.context.$implicit.questionId,"")),l(n,12,0,n.context.$implicit.questionType),l(n,16,0,n.context.$implicit.questionCategory),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href),l(n,27,0,u.Eb(n,28).target,u.Eb(n,28).href)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,57,"div",[["class","py-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,56,"div",[["class","d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["Question preference for ",""])),(l()(),u.sb(5,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,0,"input",[["class","form-check-input"],["id","QuestionCE"],["name","question"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkQuestionPreference(e)&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,1,"label",[["for","QuestionCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(10,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"input",[["class","form-check-input"],["id","OwnQuestion"],["name","question"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkQuestionPreference(e)&&u),u}),null,null)),(l()(),u.sb(12,0,null,null,1,"label",[["for","OwnQuestion"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own question"])),(l()(),u.sb(14,0,null,null,4,"div",[["class","row mx-0"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestionPreference()&&u),u}),null,null)),(l()(),u.sb(16,0,null,null,2,"div",[["class","btn btn-success"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(19,0,null,null,38,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,9,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,1,"a",[["aria-controls","home"],["aria-selected","false"],["class","nav-link show active"],["data-toggle","tab"],["href","#home"],["id","home-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.ib(16777216,null,null,2,null,q)),u.rb(25,16384,null,0,a.a,[d.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(26,2),(l()(),u.sb(27,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own question "])),(l()(),u.sb(30,0,null,null,27,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,5,"div",[["aria-labelledby","home-tab"],["class","tab-pane fade py-3 active show"],["id","home"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(33,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(34,0,null,null,2,"div",[["class","accordion"],["id","generalTopicQuestions"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(36,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,2,null,P)),u.rb(38,16384,null,0,a.a,[d.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(39,2),(l()(),u.sb(40,0,null,null,17,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,12,"div",[["class","col-xxl-12 flex-wrap d-flex justify-content-lg-end justify-content-md-between"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(44,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(46,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(47,0,null,null,4,"a",[["class","btn btn-primary mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,48).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(48,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(49,3),(l()(),u.sb(50,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Create new question "])),(l()(),u.sb(52,0,null,null,2,"div",[["class","btn btn-warning mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadUpdatedTopicQuestion()&&u),u}),null,null)),(l()(),u.sb(53,0,null,null,0,"i",[["class","fa fa-refresh mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Refresh "])),(l()(),u.sb(55,0,null,null,2,"div",[["class","accordion"],["id","ownTopicQuestions"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(57,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,u=l(n,26,0,"SYSTEM_ADMIN","MASTER_QUESTIONS_ADMIN");l(n,25,0,u),l(n,33,0,e.generalTopicQuestions.length>0),l(n,36,0,e.generalTopicQuestions);var t=l(n,39,0,"SYSTEM_ADMIN","MASTER_QUESTIONS_ADMIN");l(n,38,0,t),l(n,44,0,e.ownTopicQuestions.length>0),l(n,46,0,e.ownTopicQuestions.length>0);var i=l(n,49,0,"/lesson-topic",e.generalTopicId,"topic-question-create");l(n,48,0,"_blank",i),l(n,57,0,e.ownTopicQuestions)}),(function(l,n){var e=n.component;l(n,4,0,e.topicName),l(n,7,0,e.checkQuestionCE),l(n,11,0,e.checkOwnQuestion),l(n,47,0,u.Eb(n,48).target,u.Eb(n,48).href)}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(6,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","answer"],["type","radio"]],[[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.onSelectMCQSingleAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,2,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId,""))}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","answers"],["type","checkbox"]],[[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectMCQMultipleAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId,e)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,2,0,u.wb(1," ",n.parent.context.$implicit.ChoiceId,""))}))}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(2,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(5,0,null,null,2,"label",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1)],(function(l,n){l(n,2,0,"MCQ_MULTIPLE"!==n.parent.parent.context.$implicit.questionType),l(n,4,0,"MCQ_MULTIPLE"===n.parent.parent.context.$implicit.questionType);var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,6,0,e)}),null)}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3 text-capitalize"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(11,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,11,0,n.parent.context.$implicit.choices)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","list-box"]],null,null,null,null,null)),u.rb(1,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,1,0,e)}),null)}function ll(l){return u.Ob(0,[(l()(),u.sb(0,16777216,null,null,7,"div",[["cdkDrag",""],["class","list-box cdk-drag"]],[[2,"cdk-drag-dragging",null]],null,null,null,null)),u.Jb(6144,null,b.j,null,[b.c]),u.rb(2,4866048,[[61,4]],3,b.c,[u.k,[3,b.b],c.c,u.y,u.O,p.a,b.h,b.a,[2,h.a],b.f],null,null),u.Kb(603979776,62,{_handles:1}),u.Kb(335544320,63,{_previewTemplate:0}),u.Kb(335544320,64,{_placeholderTemplate:0}),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.ib(0,null,null,0))],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,6,0,e)}),(function(l,n){l(n,0,0,u.Eb(n,2)._dragRef.isDragging())}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,23,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,14,"div",[["cdkDropListGroup",""]],null,null,null,null,null)),u.rb(10,147456,null,0,b.e,[],null,null),(l()(),u.sb(11,0,null,null,12,"div",[["class","example-container d-flex justify-content-between flex-nowrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","mcq-left mr-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"div",[["class","match-list"],["data-value","questiondata.choices"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,7,"div",[["class","mcq-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,6,"div",[["cdkDropList",""],["class","match-list cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(l,n,e){var u=!0;return"cdkDropListDropped"===n&&(u=!1!==l.component.updatedDropList(l.parent.context.$implicit.id,e)&&u),u}),null,null)),u.Jb(6144,null,b.b,null,[b.d]),u.rb(19,1196032,null,1,b.d,[u.k,b.h,u.h,[2,h.a],[3,b.e],[2,c.c],b.f],{data:[0,"data"]},{dropped:"cdkDropListDropped"}),u.Kb(603979776,61,{_draggables:1}),u.Jb(256,null,b.e,void 0,[]),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(23,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,15,0,n.parent.context.$implicit.choices),l(n,19,0,n.parent.context.$implicit.options),l(n,23,0,n.parent.context.$implicit.options)}),(function(l,n){l(n,5,0,n.parent.context.index+1),l(n,17,0,u.Eb(n,19).id,u.Eb(n,19)._dropListRef.isDragging(),u.Eb(n,19)._dropListRef.isReceiving())}))}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectChoiceMatrixAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId,l.context.$implicit.OptionId)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(6,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,e),l(n,6,0,n.parent.parent.context.$implicit.options)}),null)}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","table-matrix my-2 text-capitalize"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(13,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,13,0,n.parent.context.$implicit.options),l(n,15,0,n.parent.context.$implicit.choices)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-danger mb-2"],["data-slide","prev"],["href","#questionSimulateIndicators"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.previousQuestion()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],null,null)}function ol(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success mb-2"],["data-slide","next"],["href","#questionSimulateIndicators"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.nextQuestion()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null))],null,null)}function rl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","carousel-item"]],null,null,null,null,null)),u.Jb(512,null,c.B,c.C,[u.r,u.s,u.k,u.D]),u.rb(2,278528,null,0,c.k,[c.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(3,{active:0}),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(5,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(7,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,il)),u.rb(9,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(10,0,null,null,7,"div",[["class","w-100 d-flex justify-content-end align-self-center my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,sl)),u.rb(12,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(13,0,null,null,2,"div",[["class","btn btn-info mx-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.checkAnswerStatus(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-check mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Check answer "])),(l()(),u.ib(16777216,null,null,1,null,ol)),u.rb(17,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,3,0,0===n.context.index);l(n,2,0,"carousel-item",u),l(n,5,0,"MCQ_SINGLE"===n.context.$implicit.questionType||"MCQ_MULTIPLE"===n.context.$implicit.questionType||"MCQ_TRUE_FALSE"===n.context.$implicit.questionType),l(n,7,0,"MCQ_MATCH_LIST"===n.context.$implicit.questionType),l(n,9,0,"MCQ_CHOICE_MATRIX"===n.context.$implicit.questionType),l(n,12,0,0!==n.context.index),l(n,17,0,n.context.index!==e.topicQuestions.length-1)}),null)}function cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"input",[["disabled",""],["name","answer"],["readonly",""],["type","radio"]],[[8,"id",0]],null,null,null,null)),u.rb(2,540672,null,0,g.a,[u.k],{answers:[0,"answers"]},null),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,2,0,n.parent.parent.parent.context.$implicit.answers)}),(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId,""))}))}function al(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"input",[["disabled",""],["name","answers"],["readonly",""],["type","checkbox"]],[[8,"id",0]],null,null,null,null)),u.rb(2,540672,null,0,g.a,[u.k],{answers:[0,"answers"]},null),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,2,0,n.parent.parent.parent.context.$implicit.answers)}),(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,3,0,u.wb(1," ",n.parent.context.$implicit.ChoiceId,""))}))}function dl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,cl)),u.rb(2,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,al)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(5,0,null,null,2,"label",[],[[8,"htmlFor",0]],null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1)],(function(l,n){l(n,2,0,"MCQ_MULTIPLE"!==n.parent.parent.context.$implicit.questionType),l(n,4,0,"MCQ_MULTIPLE"===n.parent.parent.context.$implicit.questionType);var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,6,0,e)}),(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function bl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(3,null,[" ",""]))],(function(l,n){l(n,2,0,n.context.$implicit||n.component.sanitizeHtml)}),(function(l,n){l(n,3,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function pl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3 text-capitalize"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,dl)),u.rb(11,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(12,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,bl)),u.rb(17,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,11,0,n.parent.context.$implicit.choices),l(n,17,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function hl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function gl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"span",[["class","text-dark d-flex flex-nowrap"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["-"])),(l()(),u.sb(5,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(7,null,[" ",""]))],(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.choiceName||e.sanitizeHtml),l(n,6,0,n.context.$implicit.optionName||e.sanitizeHtml)}),(function(l,n){l(n,7,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function fl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.ib(16777216,null,null,1,null,hl)),u.rb(10,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,gl)),u.rb(16,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,10,0,n.parent.context.$implicit.answers),l(n,16,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function ml(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function vl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function yl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,vl)),u.rb(6,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,e),l(n,6,0,n.parent.parent.context.$implicit.options)}),null)}function Tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"span",[["class","text-dark d-flex flex-nowrap"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["-"])),(l()(),u.sb(5,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(7,null,[" ",""]))],(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.choiceName||e.sanitizeHtml),l(n,6,0,n.context.$implicit.optionName||e.sanitizeHtml)}),(function(l,n){l(n,7,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function Cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","table-matrix my-2 text-capitalize"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,ml)),u.rb(13,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,yl)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,Tl)),u.rb(21,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,13,0,n.parent.context.$implicit.options),l(n,15,0,n.parent.context.$implicit.choices),l(n,21,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function wl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-danger mb-2"],["data-slide","prev"],["href","#questionPreviewIndicators"],["role","button"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],null,null)}function kl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success ml-2  mb-2"],["data-slide","next"],["href","#questionPreviewIndicators"],["role","button"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null))],null,null)}function xl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","carousel-item"]],null,null,null,null,null)),u.Jb(512,null,c.B,c.C,[u.r,u.s,u.k,u.D]),u.rb(2,278528,null,0,c.k,[c.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(3,{active:0}),(l()(),u.ib(16777216,null,null,1,null,pl)),u.rb(5,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,fl)),u.rb(7,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Cl)),u.rb(9,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(10,0,null,null,4,"div",[["class","w-100 d-flex justify-content-end align-self-center my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,wl)),u.rb(12,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,kl)),u.rb(14,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,3,0,0===n.context.index);l(n,2,0,"carousel-item",u),l(n,5,0,"MCQ_SINGLE"===n.context.$implicit.questionType||"MCQ_MULTIPLE"===n.context.$implicit.questionType||"MCQ_TRUE_FALSE"===n.context.$implicit.questionType),l(n,7,0,"MCQ_MATCH_LIST"===n.context.$implicit.questionType),l(n,9,0,"MCQ_CHOICE_MATRIX"===n.context.$implicit.questionType),l(n,12,0,0!==n.context.index),l(n,14,0,n.context.index!==e.topicQuestions.length-1)}),null)}function El(l){return u.Ob(0,[u.Gb(0,f.a,[m.b]),(l()(),u.sb(1,0,null,null,35,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,27,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,8).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==i.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(8,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(22,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(23,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(25,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(27,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(29,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(31,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(32,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getLessonTopicList()&&u),u}),null,null)),(l()(),u.sb(35,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(38,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(39,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,1,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,0,"div",[["id","topicsList"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","col-xxl-9 mb-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(44,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,G)),u.rb(46,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(47,0,null,null,15,"div",[["class","modal slideInRight"],["id","viewSubjectTreeModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,14,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,13,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "])),(l()(),u.sb(53,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(54,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(57,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(58,0,null,null,0,"div",[["id","viewSubjectTree"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,3,"div",[["class","modal-footer d-flex justify-content-end align-items-start"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(61,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(63,0,null,null,16,"div",[["aria-hidden","true"],["aria-labelledby","simulateTopicQuestionModal"],["class","modal"],["id","simulateTopicQuestionModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(64,0,null,null,15,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(65,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(67,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(68,null,[" Simulate question - "," "])),(l()(),u.sb(69,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(70,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(71,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(72,0,null,null,3,"div",[["class","carousel slide carousel-fade"],["data-interval","false"],["data-ride","carousel"],["id","questionSimulateIndicators"]],null,null,null,null,null)),(l()(),u.sb(73,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,rl)),u.rb(75,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(76,0,null,null,3,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(78,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(80,0,null,null,16,"div",[["aria-hidden","true"],["aria-labelledby","previewTopicQuestionModal"],["class","modal"],["id","previewTopicQuestionModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,15,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(82,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(83,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(85,null,[" Preview question - "," "])),(l()(),u.sb(86,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closePreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(87,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(88,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(89,0,null,null,3,"div",[["class","carousel slide carousel-fade"],["data-interval","false"],["data-ride","carousel"],["id","questionPreviewIndicators"]],null,null,null,null,null)),(l()(),u.sb(90,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,xl)),u.rb(92,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(93,0,null,null,3,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(94,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closePreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(95,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],(function(l,n){var e=n.component;l(n,8,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,23,0,!0);l(n,22,0,u,t),l(n,27,0,e.selectedCurriculum),l(n,29,0,e.selectedGrade),l(n,31,0,e.selectedSubject),l(n,38,0,e.showTopicHeading),l(n,44,0,e.topicDescription),l(n,46,0,e.showQuestionMapping),l(n,57,0,e.subjectTree.length>1),l(n,75,0,e.topicQuestions),l(n,92,0,e.topicQuestions)}),(function(l,n){var e=n.component;l(n,6,1,[!u.Eb(n,8).multiple,u.Eb(n,8).typeahead,u.Eb(n,8).multiple,u.Eb(n,8).addTag,u.Eb(n,8).searchable,u.Eb(n,8).clearable,u.Eb(n,8).isOpen,u.Eb(n,8).disabled,u.Eb(n,8).filtered,u.Eb(n,25).ngClassUntouched,u.Eb(n,25).ngClassTouched,u.Eb(n,25).ngClassPristine,u.Eb(n,25).ngClassDirty,u.Eb(n,25).ngClassValid,u.Eb(n,25).ngClassInvalid,u.Eb(n,25).ngClassPending]),l(n,68,0,e.topicName),l(n,85,0,e.topicName)}))}var Ml=u.ob("ng-component",w.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,El,L)),u.Jb(512,null,v.a,v.a,[y.c]),u.Jb(512,null,T.a,T.a,[C.a,u.q]),u.rb(3,4308992,null,0,w.a,[r.k,r.a,k.a,x.a,E.a,v.a,M.a,S.c,S.f,d.a,C.a,O.a,T.a,I.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},"97zz":function(l,n,e){"use strict";e.d(n,"b",(function(){return v})),e.d(n,"c",(function(){return I})),e.d(n,"a",(function(){return L}));var u=e("8Y7J"),t=e("IDBn"),i=e("s7LF"),s=e("XKba"),o=e("SVse"),r=e("WOoW"),c=e("Mc5n"),a=e("hOhj"),d=e("IP0z"),b=e("H/4C"),p=e("cUpR"),h=e("iInd"),g=e("psak"),f=e("3ZkO"),m=e("JXEQ"),v=u.qb({encapsulation:2,styles:[],data:{}});function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(2,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(4,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(6,671744,[["questionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(8,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!0),l(n,4,0,e.editorQuestionConfig),l(n,6,0,e.viewModel.Question),l(n,10,0,!u.Eb(n,6).valid)}),(function(l,n){l(n,1,0,u.Eb(n,2).required?"":null,u.Eb(n,8).ngClassUntouched,u.Eb(n,8).ngClassTouched,u.Eb(n,8).ngClassPristine,u.Eb(n,8).ngClassDirty,u.Eb(n,8).ngClassValid,u.Eb(n,8).ngClassInvalid,u.Eb(n,8).ngClassPending)}))}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Left side option is required "]))],null,null)}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(5,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(7,671744,[["choiceInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(9,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-center ml-3 font-20 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.ChoiceText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Right side option is required "]))],null,null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(5,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(7,671744,[["optionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(9,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-center ml-4 font-20 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","list-box"]],null,null,null,null,null)),u.rb(1,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent,0),n.context.$implicit.ChoiceText));l(n,1,0,e)}),null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,16777216,null,null,7,"div",[["cdkDrag",""],["class","list-box cdk-drag"]],[[2,"cdk-drag-dragging",null]],null,null,null,null)),u.Jb(6144,null,c.j,null,[c.c]),u.rb(2,4866048,[[1,4]],3,c.c,[u.k,[3,c.b],o.c,u.y,u.O,a.a,c.h,c.a,[2,d.a],c.f],null,null),u.Kb(603979776,2,{_handles:1}),u.Kb(335544320,3,{_previewTemplate:0}),u.Kb(335544320,4,{_placeholderTemplate:0}),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.ib(0,null,null,0))],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,6,0,e)}),(function(l,n){l(n,0,0,u.Eb(n,2)._dragRef.isDragging())}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(2,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function I(l){return u.Ob(0,[u.Gb(0,b.a,[p.b]),(l()(),u.sb(1,0,null,null,13,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,12,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - Match list"])),(l()(),u.sb(5,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(7,671744,null,0,h.n,[h.k,h.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(8,2),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(11,0,null,null,3,"a",[["class","btn btn-info"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,12).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(12,671744,null,0,h.n,[h.k,h.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(16,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(17,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Left side option"])),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(21,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(22,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(24,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add left option"])),(l()(),u.sb(26,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Right side option"])),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(31,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add right option"])),(l()(),u.sb(35,0,null,null,23,"div",[["class","drag--container mb-2"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(38,0,null,null,14,"div",[["cdkDropListGroup",""]],null,null,null,null,null)),u.rb(39,147456,null,0,c.e,[],null,null),(l()(),u.sb(40,0,null,null,12,"div",[["class","example-container d-flex justify-content-between flex-nowrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,3,"div",[["class","mcq-left mr-2"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,2,"div",[["class","match-list"],["data-value","viewModel.Choices"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(44,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(45,0,null,null,7,"div",[["class","mcq-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(46,0,null,null,6,"div",[["cdkDropList",""],["class","match-list cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(l,n,e){var u=!0;return"cdkDropListDropped"===n&&(u=!1!==l.component.updatedDropList(e)&&u),u}),null,null)),u.Jb(6144,null,c.b,null,[c.d]),u.rb(48,1196032,null,1,c.d,[u.k,c.h,u.h,[2,d.a],[3,c.e],[2,o.c],c.f],{data:[0,"data"]},{dropped:"cdkDropListDropped"}),u.Kb(603979776,1,{_draggables:1}),u.Jb(256,null,c.e,void 0,[]),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(52,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(53,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(54,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(58,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,8,0,"/lesson-topic","ocr");l(n,7,0,"_blank",u),l(n,12,0,"_blank","./topic-question-sample"),l(n,16,0,e.viewModel),l(n,21,0,e.viewModel.Choices),l(n,30,0,e.viewModel.Options),l(n,44,0,e.viewModel.Choices),l(n,48,0,e.viewModel.Options),l(n,52,0,e.viewModel.Options),l(n,58,0,e.answers.length>0)}),(function(l,n){l(n,6,0,u.Eb(n,7).target,u.Eb(n,7).href),l(n,11,0,u.Eb(n,12).target,u.Eb(n,12).href),l(n,46,0,u.Eb(n,48).id,u.Eb(n,48)._dropListRef.isDragging(),u.Eb(n,48)._dropListRef.isReceiving())}))}var L=u.ob("match-list",g.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"match-list",[],null,null,null,I,v)),u.rb(1,8634368,null,0,g.a,[h.a,h.k,f.a,m.a,u.h],null,null)],(function(l,n){l(n,1,0)}),null)}),{questionResource:"questionResource"},{},[])},"9wII":function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var u=e("8Y7J"),t=e("IheW"),i={"content-type":"application/json",app_id:"rajendra_insightus_in_2bbc89",app_key:"530248e6d18b74e17870"},s=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.ocrURL="https://api.mathpix.com/v3/latex"}return _createClass(l,[{key:"processBase64IntoTex",value:function(l){return this.http.post(this.ocrURL,{src:l,ocr:["math","text"],skip_recrop:!0,formats:["latex_styled"]},{headers:i,observe:"response"})}}]),l}();return l.ngInjectableDef=u.Sb({factory:function(){return new l(u.Tb(t.c))},token:l,providedIn:"root"}),l}()},An3Y:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("Bqwo");e("3ZkO"),e("JXEQ"),e("aV0t");var t=function(){function l(n,e,t,i,s,o){var r=this;_classCallCheck(this,l),this.mcqService=n,this.route=e,this.questionService=t,this.changedetector=i,this.pluginService=s,this.fileService=o,this.choiceType="",this.answers=[],this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.viewModel=n.getQuestion(),this.route.data.subscribe((function(l){"MCQ_SINGLE"===l.type&&(r.choiceType="radio",r.viewModel.QuestionType=l.type),"MCQ_MULTIPLE"===l.type&&(r.choiceType="checkbox",r.viewModel.QuestionType=l.type),"MCQ_TRUE_FALSE"===l.type&&(r.choiceType="radio",r.viewModel.Choices=[new u.a((new Date).getUTCMilliseconds()+1,"True"),new u.a((new Date).getUTCMilliseconds(),"False")],r.viewModel.QuestionType=l.type)}))}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.route.snapshot.data.question&&Promise.resolve().then((function(){l.viewModel=l.mcqService.load(l.route.snapshot.data.question)}))}},{key:"ngAfterViewChecked",value:function(){this.viewModel&&(this.questionService.generateQuestionResource(this.viewModel),this.showMCQAnswers()),this.changedetector.detectChanges()}},{key:"updateQuestionDetails",value:function(){this.questionService.generateQuestionResource(this.viewModel),this.showMCQAnswers()}},{key:"showMCQAnswers",value:function(){var l=this;this.answers=[];for(var n=function(n){var e=l.viewModel.Choices.find((function(e){return e.ChoiceId===l.viewModel.Answers[n]})).ChoiceText;l.answers.push(e),e=""},e=0;e<this.viewModel.Answers.length;e++)n(e)}},{key:"addChoice",value:function(){this.mcqService.addChoice()}},{key:"deleteChoice",value:function(l){this.mcqService.deleteChoice(l)}},{key:"markAsAnswer",value:function(l){"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.mcqService.toggleAnswer(l):this.viewModel.Answers=[l],this.viewModel.TotalMarks=this.viewModel.Answers.length}},{key:"ngOnDestroy",value:function(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}]),l}()},BTcv:function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var u=e("mrSG"),t=(e("/+cj"),e("JXEQ"),e("3ZkO"),e("ustg"),e("Bqwo")),i=e("gfXs");e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");var s=function(){function l(n,e,u,t,i,s,o,r,c,a,d){_classCallCheck(this,l),this.activatedRoute=n,this.router=e,this.pluginService=u,this.questionBuilderService=t,this.questionService=i,this.formBuilder=s,this.userLoginService=o,this.commonService=r,this.fileService=c,this.errorHandler=a,this.localStorageService=d,this.questionDetail={},this.viewModel={},this.oldViewModel={},this.answers=[],this.questionCategory=[],this.questionComplexityLevel=[],this.contentSource=[],this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.validateQuestion=!0,this.getCurrentRouteInfo()}return _createClass(l,[{key:"getCurrentRouteInfo",value:function(){var l=[];l=this.router.url.split("/"),this.currentRoute=l.pop()}},{key:"ngOnInit",value:function(){var l=this;this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel(),this.activatedRoute.params.subscribe((function(n){l.questionId=n.id,l.questionId&&l.getTopicName(),"topic-question-edit"===l.currentRoute?l.getOrgTopicQuestionDetail(l.questionId):"general-topic-question-edit"===l.currentRoute&&l.getGeneralTopicQuestionDetail(l.questionId)}))}},{key:"getTopicName",value:function(){var l;l=this.localStorageService.retrieveData("topicDetails"),this.topicName=this.questionId?l.title:""}},{key:"getGeneralTopicQuestionDetail",value:function(l){var n=this;this.questionService.getGeneralTopicQuestionByQuestionId(l).subscribe((function(l){return n.assignQuestionResource(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignQuestionResource",value:function(l){var n,e,u=this;this.questionDetail=l,this.viewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson),this.oldViewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson),this.solutionContent=this.questionBuilderService.convertStringToJson(this.questionDetail.solutionJson),this.oldSolutionContent=this.solutionContent,"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.choiceType="checkbox":"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.choiceType="radio"),n=this.questionCategory.findIndex((function(l){return l.tag===u.questionDetail.category})),this.questionCategory[n].checked=!0,e=this.questionComplexityLevel.findIndex((function(l){return l.value===u.questionDetail.complexityLevel})),this.questionComplexityLevel[e].checked=!0,this.loadUpdatedAnswers()}},{key:"getOrgTopicQuestionDetail",value:function(l){var n=this;this.questionService.getOrgTopicQuestionByQuestionId(l).subscribe((function(l){return n.assignOrgQuestionResource(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignOrgQuestionResource",value:function(l){var n,e,u=this;this.questionDetail=l,this.viewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson),this.oldViewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson),this.solutionContent=this.questionBuilderService.convertStringToJson(this.questionDetail.question.solutionJson),this.oldSolutionContent=this.solutionContent,"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.choiceType="checkbox":"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.choiceType="radio"),n=this.questionCategory.findIndex((function(l){return l.tag===u.questionDetail.question.category})),this.questionCategory[n].checked=!0,e=this.questionComplexityLevel.findIndex((function(l){return l.value===u.questionDetail.question.complexityLevel})),this.questionComplexityLevel[e].checked=!0,this.loadUpdatedAnswers()}},{key:"loadUpdatedAnswers",value:function(){"MCQ_CHOICE_MATRIX"===this.viewModel.QuestionType||"MCQ_MATCH_LIST"===this.viewModel.QuestionType?(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showChoiceMatrixAnswers()):"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showMCQAnswers())}},{key:"loadQuestionResource",value:function(){"MCQ_CHOICE_MATRIX"===this.viewModel.QuestionType||"MCQ_MATCH_LIST"===this.viewModel.QuestionType?(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showChoiceMatrixAnswers(),this.validateQuestion=!1,this.updateQuestionResource()):"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.questionBuilderService.generateQuestionResource(this.viewModel),this.validateQuestion=!1,this.showMCQAnswers(),this.updateQuestionResource())}},{key:"getContentSource",value:function(){var l=this;this.commonService.getContentSourceList().subscribe((function(n){l.contentSource=n}))}},{key:"getQuestionCategory",value:function(){var l=this;this.commonService.getQuestionCategoryList().subscribe((function(n){l.questionCategory=n}))}},{key:"getQuestionComplexityLevel",value:function(){var l=this;this.commonService.getQuestionComplexityLevelList().subscribe((function(n){l.questionComplexityLevel=n}))}},{key:"onSelectQuestionCategory",value:function(l){this.category=l}},{key:"onSelectComplexityLevel",value:function(l){this.complexityLevel=l}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"addChoice",value:function(){this.viewModel.Choices.push(new t.a((new Date).getUTCMilliseconds(),""))}},{key:"deleteChoice",value:function(l){for(var n=0;n<this.viewModel.Answers.length;n++)if(this.viewModel.Answers[n]!==l){var e=this.viewModel.Choices.findIndex((function(n){return n.ChoiceId===l}));this.viewModel.Choices.splice(e,1)}else this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error")}},{key:"deleteStem",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{var n=this.viewModel.Choices.findIndex((function(n){return n.ChoiceId===l}));this.viewModel.Choices.splice(n,1)}}},{key:"markAsMCQAnswer",value:function(l){var n=this.viewModel.Answers.indexOf(l);"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&(this.viewModel.Answers=[]),this.viewModel.Answers=-1===n?[].concat(_toConsumableArray(this.viewModel.Answers),[l]):this.viewModel.Answers.filter((function(n){return n!==l})),this.loadUpdatedAnswers()}},{key:"showMCQAnswers",value:function(){var l=this;this.answers=[];for(var n=function(n){var e=l.viewModel.Choices.find((function(e){return e.ChoiceId===l.viewModel.Answers[n]})).ChoiceText;l.answers.push(e),e=""},e=0;e<this.viewModel.Answers.length;e++)n(e)}},{key:"showChoiceMatrixAnswers",value:function(){var l,n=this,e=[],u=[];this.answers=[],l=this.viewModel.Answers,e=this.viewModel.Choices,u=this.viewModel.Options;for(var t=function(t){n.answers.push({choiceName:e.find((function(n){return n.ChoiceId===l[t].ChoiceId})).ChoiceText,optionName:u.find((function(n){return n.OptionId===l[t].OptionId})).OptionText})},i=0;i<l.length;i++)t(i)}},{key:"addOption",value:function(){this.viewModel.Options=[].concat(_toConsumableArray(this.viewModel.Options),[new i.c((new Date).getUTCMilliseconds(),"")])}},{key:"deleteOption",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{var n=this.viewModel.Options.findIndex((function(n){return n.OptionId===l}));this.viewModel.Options.splice(n,1)}}},{key:"markAsMatrixAnswer",value:function(l,n){this.viewModel.Answers=this.viewModel.Answers.filter((function(n){return n.ChoiceId!==l.ChoiceId})),this.viewModel.Answers=[].concat(_toConsumableArray(this.viewModel.Answers),[new i.a(l.ChoiceId,n.OptionId)]),this.loadUpdatedAnswers()}},{key:"updateQuestionResource",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=[],e=[],u={},l.t0=(u=this.questionBuilderService.getQuestionResource).Question,!l.t0){l.next=7;break}return this.updatedHTMLDATA=u.Question,l.next=6,this.updateImageSrc(u.Question);case 6:u.Question=this.updatedHTMLDATA;case 7:if(!(u.Choices.length>0)){l.next=18;break}t=0;case 9:if(!(t<u.Choices.length)){l.next=17;break}return this.updatedHTMLDATA=u.Choices[t].ChoiceText,l.next=13,this.updateImageSrc(u.Choices[t].ChoiceText);case 13:n.push({ChoiceText:this.updatedHTMLDATA,ChoiceId:u.Choices[t].ChoiceId});case 14:t++,l.next=9;break;case 17:u.Choices=n;case 18:if("MCQ_CHOICE_MATRIX"!==u.QuestionType&&"MCQ_MATCH_LIST"!==u.QuestionType){l.next=30;break}if(!(u.Options.length>0)){l.next=29;break}i=0;case 21:if(!(i<u.Options.length)){l.next=29;break}return this.updatedHTMLDATA=u.Options[i].OptionText,l.next=25,this.updateImageSrc(u.Options[i].OptionText);case 25:e.push({OptionText:this.updatedHTMLDATA,OptionId:u.Options[i].OptionId});case 26:i++,l.next=21;break;case 29:u.Options=e;case 30:return l.next=32,this.checkAnyChangesInHtml(u);case 32:case"end":return l.stop()}}),l,this)})))}},{key:"getBase64ImageFromUrl",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l);case 2:return e=n.sent,n.next=5,e.blob();case 5:return u=n.sent,n.abrupt("return",new Promise((function(l,n){var e=new FileReader;e.addEventListener("load",(function(){l(e.result)}),!1),e.onerror=function(){return n(t)},e.readAsDataURL(u)})));case 7:case"end":return n.stop()}}),n)})))}},{key:"updateImageSrc",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t,i,s,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((u=document.createElement("div")).innerHTML=l,!((e=u.getElementsByTagName("img")).length>0)){n.next=19;break}r=0;case 2:if(!(r<e.length)){n.next=17;break}if(n.t0=""===e[r].alt,!n.t0){n.next=14;break}return i=r,e[r].setAttribute("id","image"+[r]),t=e[r].src,n.next=10,this.getBase64ImageFromUrl(t);case 10:return o=n.sent,n.next=13,this.getAWSFilePath(o,i,u);case 13:s=n.sent;case 14:r++,n.next=2;break;case 17:n.next=20;break;case 19:s=u.innerHTML;case 20:return n.abrupt("return",s);case 21:case"end":return n.stop()}}),n,this)})))}},{key:"getAWSFilePath",value:function(l,n,e){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function u(){var t,i,s,o,r,c,a,d,b=this;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=e.getElementsByTagName("img"),s=(t=l.split(","))[0].split(":")[1].split("/")[1].split(";")[0],i=t[1],a=(new Date).getUTCMilliseconds()+"quesImage."+s,!i){u.next=9;break}return u.next=5,this.fileService.getImagePresignedurls(a);case 5:return d=u.sent,(new Map).set(Object.keys(d)[0],Object.values(d)[0]).set(Object.keys(d)[1],Object.values(d)[1]).forEach((function(l,u){if("objectURL"!==u)o=l;else if("objectURL"===u){var t,i=l;t=i.split("/"),c=t[t.length-1],r[n].setAttribute("src",i),r[n].setAttribute("alt",c),b.getImagePathUploadedHTML(e.innerHTML)}})),u.next=9,this.fileService.uploadImagefileAWSS3(o,i);case 9:case"end":return u.stop()}}),u,this)})))}},{key:"getImagePathUploadedHTML",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.updatedHTMLDATA=l;case 1:case"end":return n.stop()}}),n,this)})))}},{key:"checkAnyChangesInHtml",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.oldViewModel.Question!==l.Question,!n.t0){n.next=4;break}return n.next=4,this.compareHTMLElements(this.oldViewModel.Question,l.Question);case 4:if(!(l.Choices.length>0)){n.next=12;break}e=0;case 6:if(!(e<this.oldViewModel.Choices.length)){n.next=12;break}return n.next=9,this.compareHTMLElements(this.oldViewModel.Choices[e].ChoiceText,l.Choices[e].ChoiceText);case 9:e++,n.next=6;break;case 12:if("MCQ_CHOICE_MATRIX"!==l.QuestionType&&"MCQ_MATCH_LIST"!==l.QuestionType||!(l.Options.length>0)){n.next=20;break}u=0;case 14:if(!(u<this.oldViewModel.Options.length)){n.next=20;break}return n.next=17,this.compareHTMLElements(this.oldViewModel.Options[u].OptionText,l.Options[u].OptionText);case 17:u++,n.next=14;break;case 20:return n.next=22,this.questionBuilderService.generateQuestionResource(l);case 22:case"end":return n.stop()}}),n,this)})))}},{key:"compareHTMLElements",value:function(l,n){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var u,t,i,s,o,r,c,a,d,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],(u=document.createElement("div")).innerHTML=l,i=u.getElementsByTagName("img"),o=Array.from(i),(t=document.createElement("div")).innerHTML=n,s=t.getElementsByTagName("img"),r=Array.from(s),a=function(l){0===r.length?c.push(o[l].alt):-1===r.findIndex((function(n){return n.alt===o[l].alt}))&&c.push(o[l].alt)},d=0;d<o.length;d++)a(d);if(c.length>0)for(b=0;b<c.length;b++)this.deleteUploadedFile(c[b]);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"deleteUploadedFile",value:function(l){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(l))}},{key:"subscribeToDeleteFiletResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteFileSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteFileSuccess",value:function(l){}},{key:"updateQuestion",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.updateImageSrc(this.solutionContent);case 2:return e=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(this.updatedHTMLDATA)):"",l.next=5,this.compareHTMLElements(this.oldSolutionContent,this.solutionContent);case 5:n=this.questionBuilderService.getQuestionResource,"topic-question-edit"===this.currentRoute?(this.category&&(this.questionDetail.question.category=this.category),this.complexityLevel&&(this.questionDetail.question.complexityLevel=this.complexityLevel),this.questionDetail.question.contentJson=this.questionBuilderService.convertJsonToString(JSON.stringify(n)),this.questionDetail.question.solutionJson=e,this.questionDetail.question.marks=n.TotalMarks*this.questionDetail.question.complexityLevel,this.subscribeToSaveResponse(this.questionService.updateOrgTopicQuestion(this.questionDetail))):"general-topic-question-edit"===this.currentRoute&&(n=this.questionBuilderService.getQuestionResource,this.category&&(this.questionDetail.category=this.category),this.complexityLevel&&(this.questionDetail.complexityLevel=this.complexityLevel),this.questionDetail.contentJson=this.questionBuilderService.convertJsonToString(JSON.stringify(n)),this.questionDetail.solutionJson=e,this.questionDetail.marks=n.TotalMarks*this.questionDetail.complexityLevel,this.subscribeToSaveResponse(this.questionService.updateGeneralTopicQuestion(this.questionDetail)));case 7:case"end":return l.stop()}}),l,this)})))}},{key:"resetQuestion",value:function(){window.location.reload()}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Topic question updated successfully","success"),this.previousUrl()}},{key:"onBack",value:function(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.previousUrl(),l.pluginService.sideMenuToggle())}))}},{key:"previousUrl",value:function(){this.router.navigateByUrl("topic-question-edit"===this.currentRoute?"/lesson-topic/topic-question":"general-topic-question-edit"===this.currentRoute?"/general-concept-and-topic/general-topic-question":"../")}}]),l}()},Bqwo:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"b",(function(){return i})),e("JXEQ");var u=function l(){_classCallCheck(this,l),this.Choices=[],this.Answers=[]},t=function l(n,e){_classCallCheck(this,l),this.ChoiceId=n,this.ChoiceText=e},i=function(){function l(n){_classCallCheck(this,l),this.pluginService=n,this._question=new u}return _createClass(l,[{key:"addChoice",value:function(){this._question.Choices.push(new t((new Date).getUTCMilliseconds(),""))}},{key:"getQuestion",value:function(){return this._question}},{key:"deleteChoice",value:function(l){if(this._question.Answers.length>0)for(var n=0;n<this._question.Answers.length;n++)if(this._question.Answers[n]!==l){var e=this._question.Choices.findIndex((function(n){return n.ChoiceId===l}));this._question.Choices.splice(e,1)}else this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{var u=this._question.Choices.findIndex((function(n){return n.ChoiceId===l}));this._question.Choices.splice(u,1)}}},{key:"toggleAnswer",value:function(l){var n=this._question.Answers.indexOf(l);"MCQ_MULTIPLE"!==this._question.QuestionType&&(this._question.Answers=[]),this._question.Answers=-1===n?[].concat(_toConsumableArray(this._question.Answers),[l]):this._question.Answers.filter((function(n){return n!==l}))}},{key:"load",value:function(l){return this._question=l,this._question}}]),l}()},ChVi:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("IDBn"),i=e("s7LF"),s=e("XKba"),o=e("SVse"),r=e("WOoW"),c=e("ICK7"),a=e("H/4C"),d=e("cUpR"),b=e("iInd"),p=e("Ncj7"),h=e("3ZkO"),g=e("JXEQ");e.d(n,"a",(function(){return O}));var f=u.qb({encapsulation:0,styles:[[".table-matrix[_ngcontent-%COMP%]{border-collapse:collapse}.bg-lightgray[_ngcontent-%COMP%]{background-color:#f0f0f0!important}.table-matrix[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-matrix[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6!important;text-align:center}.roundLabel[_ngcontent-%COMP%]{padding:5px}.roundLabel[_ngcontent-%COMP%]:hover{background:#fcfdd8}.mcq-stem[_ngcontent-%COMP%]{width:95%}.mcq-action[_ngcontent-%COMP%]{width:5%}.radio[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function m(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function v(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Stem is required "]))],null,null)}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(5,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(7,671744,[["choiceInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(9,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,v)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.ChoiceText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Option is required "]))],null,null)}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(5,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(7,671744,[["optionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(9,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsAnswer(l.parent.context.$implicit,l.context.$implicit)&&u),u}),null,null)),u.rb(3,540672,null,0,c.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.viewModel.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(6,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.viewModel.Options)}),null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(2,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function S(l){return u.Ob(0,[u.Gb(0,a.a,[d.b]),(l()(),u.sb(1,0,null,null,13,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,12,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - Choice matrix question"])),(l()(),u.sb(5,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(7,671744,null,0,b.n,[b.k,b.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(8,2),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(11,0,null,null,3,"a",[["class","btn btn-info"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,12).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(12,671744,null,0,b.n,[b.k,b.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.sb(15,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(17,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(19,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,[["questionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(23,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,m)),u.rb(25,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(26,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Stems"])),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(31,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add stem"])),(l()(),u.sb(35,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Options"])),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(39,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(40,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(42,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(44,0,null,null,2,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(45,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(47,0,null,null,6,"table",[["class","table-matrix my-2"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(51,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(53,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(54,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(59,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,8,0,"/lesson-topic","ocr");l(n,7,0,"_blank",t),l(n,12,0,"_blank","./topic-question-sample"),l(n,17,0,!0),l(n,19,0,e.editorQuestionConfig),l(n,21,0,e.viewModel.Question),l(n,25,0,!u.Eb(n,21).valid),l(n,30,0,e.viewModel.Choices),l(n,39,0,e.viewModel.Options),l(n,51,0,e.viewModel.Options),l(n,53,0,e.viewModel.Choices),l(n,59,0,e.answers.length>0)}),(function(l,n){l(n,6,0,u.Eb(n,7).target,u.Eb(n,7).href),l(n,11,0,u.Eb(n,12).target,u.Eb(n,12).href),l(n,16,0,u.Eb(n,17).required?"":null,u.Eb(n,23).ngClassUntouched,u.Eb(n,23).ngClassTouched,u.Eb(n,23).ngClassPristine,u.Eb(n,23).ngClassDirty,u.Eb(n,23).ngClassValid,u.Eb(n,23).ngClassInvalid,u.Eb(n,23).ngClassPending)}))}var O=u.ob("ng-component",p.b,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ng-component",[],null,null,null,S,f)),u.rb(1,8634368,null,0,p.b,[b.a,h.a,g.a,u.h],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[])},GcsT:function(l,n,e){"use strict";e.d(n,"a",(function(){return c}));var u=e("IheW"),t=e("AytR"),i=e("M0ag"),s=e("EBJu"),o=e("8Y7J"),r=new u.h;r=r.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");var c=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.organisationResourceUrl=t.a.API_URL+s.L,this.organisationCoursesSearchResourceUrl=t.a.API_URL+s.M,this.organisationDiscountResourceUrl=t.a.API_URL+s.N,this.organisationLicensesResourceUrl=t.a.API_URL+s.O,this.invoiceSearchUrl=t.a.API_URL+s.w}return _createClass(l,[{key:"createOrganisation",value:function(l){return this.http.post(this.organisationResourceUrl,l,{headers:r,observe:"response"})}},{key:"updateOrganisation",value:function(l){return this.http.put(this.organisationResourceUrl,l,{observe:"response"})}},{key:"getOrganisationByOrganisationId",value:function(l){return this.http.get("".concat(this.organisationResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getOrganisations",value:function(l){var n=Object(i.c)(l);return this.http.get(this.organisationResourceUrl,{params:n,observe:"response"})}},{key:"deleteOrganisation",value:function(l){return this.http.delete("".concat(this.organisationResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getOrgCoursesSearch",value:function(l,n){var e=Object(i.c)(n);return this.http.post(this.organisationCoursesSearchResourceUrl,{organisationId:l},{params:e,observe:"response"})}},{key:"updateOrganisationDiscount",value:function(l){return this.http.put(this.organisationDiscountResourceUrl,l,{observe:"response"})}},{key:"addLicenses",value:function(l){return this.http.put(this.organisationLicensesResourceUrl,l,{observe:"response"})}},{key:"getInvoiceSearch",value:function(l,n){var e=Object(i.c)(n);return this.http.post(this.invoiceSearchUrl,{purchasedByOrganisationId:l},{params:e,observe:"response"})}}]),l}();return l.ngInjectableDef=o.Sb({factory:function(){return new l(o.Tb(u.c))},token:l,providedIn:"root"}),l}()},"H/4C":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("8Y7J"),t=function(){function l(n){_classCallCheck(this,l),this._sanitizer=n}return _createClass(l,[{key:"transform",value:function(l){return this._sanitizer.sanitize(u.H.HTML,this._sanitizer.bypassSecurityTrustHtml(l))}}]),l}()},HNQk:function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e("JXEQ"),e("tWOK"),e("3ZkO"),e("tmov");var u=e("Mc5n"),t=(e("hFJU"),e("BN3N"));e("qd05");var i=function(){function l(n,e,u,t,i,s,o){_classCallCheck(this,l),this._router=n,this.generalSubjectService=e,this.generalTopicQuestionService=u,this.pluginService=t,this.questionBuilderService=i,this.errorHandler=s,this.localStorageService=o,this.subjectTree=[],this.questions=[],this.topicQuestions=[],this.questionResources=[],this.selectedAnswer=[],this.allGrades=[],this.enableExpandNode=!1,this.tableAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}return _createClass(l,[{key:"ngOnInit",value:function(){}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"showConceptAndTopicDetails",value:function(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"topic"===l.nodeType?(l.topicId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.questions=[],l.getTopicQuestionsList(l.topicId)):l.nodeType=""}))}},{key:"loadUpdatedTopicQuestions",value:function(){this.getTopicQuestionsList(this.topicId)}},{key:"getTopicQuestionsList",value:function(l){var n=this;this.generalTopicQuestionService.getTopicQuestionList(l).subscribe((function(l){return n.assignResponseToQuestionList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToQuestionList",value:function(l){var n,e,u=[];if(this.questions=[],this.localStorageService.storeData("topicDetails",l),this.questionResources=l.questions,this.questionResources.length>0)for(var t=0;t<this.questionResources.length;t++)u.push(this.questionBuilderService.convertStringToJson(this.questionResources[t].contentJson)),n=u[t].Question,e="MCQ_SINGLE"===u[t].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===u[t].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===u[t].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===u[t].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===u[t].QuestionType?"MCQ match list":"",this.questions.push({id:this.questionResources[t].id,complexityLevel:1===this.questionResources[t].complexityLevel?"Low":2===this.questionResources[t].complexityLevel?"Medium":3===this.questionResources[t].complexityLevel?"High":"",questionCategory:this.titleCapitalize(this.questionResources[t].category),questionText:n,questionType:e});this.tableAction=!0}},{key:"titleCapitalize",value:function(l){return l?l[0].toUpperCase()+l.substr(1).toLowerCase():l}},{key:"ngAfterViewInit",value:function(){this.showConceptAndTopicDetails()}},{key:"onGeneralSubjectGradeChange",value:function(){var l=this;if(this.selectedGeneralSubjectGrade){var n=this.selectedGeneralSubjectGrade.name,e=t.a;this.selectedSubject=null,this.generalSubjectService.getSubjectListByGrade(n,e).subscribe((function(n){return l.assignGeneralSubjectList(n.body)}),(function(n){return l.onError(n)}))}this.selectedGeneralSubjectGrade=null,this.subjects=[]}},{key:"assignGeneralSubjectList",value:function(l){this.subjects=[],this.subjects=l}},{key:"loadSubjectTree",value:function(){var l=this;if(this.selectedSubject||this.selectedGeneralSubjectGrade){this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1);var n=this.selectedSubject.id;n&&this.generalSubjectService.getSubjectTreeBySubjectId(n).subscribe((function(n){return l.assignResponsetoTree(n.body)}),(function(n){return l.onError(n)}))}else this.selectedSubject=null,this.selectedGeneralSubjectGrade=null,this.pluginService.alertMessage("Please select a filter and then apply","error")}},{key:"assignResponsetoTree",value:function(l){if(this.subjectTree=[],l.length>0){for(var n=0;n<l.length;n++)0===l[n].data.questionsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandNode=!1}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"deleteTopicQuestions",value:function(l){var n=this;swal({title:"Are you sure to delete topic question ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&n.subscribeToDeleteResponse(n.generalTopicQuestionService.deleteTopicQuestion(l))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Topic question deleted successfully","success"),this.questions=[],this.getTopicQuestionsList(this.topicId),this.tableAction=!0}},{key:"toggleTreeNodes",value:function(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}},{key:"openSimulateQuestionModal",value:function(){this.pluginService.showModalWindow("#simulateQuestionModal"),this.simulateTopicQuestionList()}},{key:"closeSimulateQuestionModal",value:function(){this.pluginService.hideModalWindow("#simulateQuestionModal")}},{key:"openPreviewQuestionModal",value:function(){this.pluginService.showModalWindow("#previewQuestionModal"),this.previewTopicQuestionList()}},{key:"closePreviewQuestionModal",value:function(){this.pluginService.hideModalWindow("#previewQuestionModal")}},{key:"previewTopicQuestionList",value:function(){var l,n=[],e=[],u=[];this.topicQuestions=[];for(var t=0;t<this.questionResources.length;t++){if("MCQ_MATCH_LIST"===(l=this.questionBuilderService.convertStringToJson(this.questionResources[t].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===l.QuestionType){e=[],u=[],n=l.Options,u=l.Choices;for(var i=function(t){e.push({choiceName:u.find((function(n){return n.ChoiceId===l.Answers[t].ChoiceId})).ChoiceText,optionName:n.find((function(n){return n.OptionId===l.Answers[t].OptionId})).OptionText})},s=0;s<l.Answers.length;s++)i(s)}else if("MCQ_SINGLE"===l.QuestionType||"MCQ_MULTIPLE"===l.QuestionType||"MCQ_TRUE_FALSE"===l.QuestionType){n=[],e=[];for(var o=function(n){var u=l.Choices.find((function(e){return e.ChoiceId===l.Answers[n]})).ChoiceText;e.push(u),u=""},r=0;r<l.Answers.length;r++)o(r)}this.topicQuestions.push({id:this.questionResources[t].id,question:l.Question,questionType:l.QuestionType,generalTopicId:this.questionResources[t].generalTopicId,questionId:this.questionResources[t].id,choices:l.Choices,options:n,answers:e})}}},{key:"simulateTopicQuestionList",value:function(){var l,n=[],e=[];this.topicQuestions=[];for(var u=0;u<this.questionResources.length;u++)"MCQ_MATCH_LIST"===(l=this.questionBuilderService.convertStringToJson(this.questionResources[u].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===l.QuestionType?(n=this.shuffleArray(l.Options),e=l.Choices):(n=[],e=this.shuffleArray(l.Choices)),this.topicQuestions.push({id:this.questionResources[u].id,questionType:l.QuestionType,question:l.Question,generalTopicId:this.questionResources[u].generalTopicId,questionId:this.questionResources[u].id,choices:e,options:n,answers:l.Answers,checkAnswer:""})}},{key:"shuffleArray",value:function(l){return l.sort((function(){return Math.random()-.5})),l}},{key:"onSelectMCQSingleAnswer",value:function(l,n){var e;e=this.topicQuestions.findIndex((function(n){return n.id===l}));for(var u=0;u<this.topicQuestions[e].answers.length;u++)this.topicQuestions[e].checkAnswer=this.topicQuestions[e].answers[u]===n?"Correct":"Wrong"}},{key:"onSelectMCQMultipleAnswer",value:function(l,n,e){var u,t,i;t=e.target.checked,u=this.topicQuestions.findIndex((function(n){return n.id===l})),!0===t?this.selectedAnswer.push(n):(i=this.selectedAnswer.findIndex((function(l){return l===n})),this.selectedAnswer.splice(i,1)),this.checkMultipleAnswer(u)}},{key:"checkMultipleAnswer",value:function(l){for(var n=this.topicQuestions[l].answers.sort(),e=this.selectedAnswer.sort(),u=[],t=0;t<n.length;t++)for(var i=0;i<e.length;i++)n[t]===e[i]?(u.push(e[i]),this.topicQuestions[l].checkAnswer="Partial"):this.topicQuestions[l].checkAnswer="Wrong";u.length>0&&(this.topicQuestions[l].checkAnswer=u.length===n.length&&JSON.stringify(u.sort())===JSON.stringify(e)?"Correct":"Partial")}},{key:"onSelectChoiceMatrixAnswer",value:function(l,n,e){var u,t,i=this;if(u=this.topicQuestions.findIndex((function(n){return n.id===l})),0===this.selectedAnswer.length&&(this.selectedAnswer=[]),this.selectedAnswer.push({ChoiceId:n,OptionId:e}),this.selectedAnswer.length>1)for(var s=function(l){for(var n=l+1;n<i.selectedAnswer.length;n++)i.selectedAnswer[l].ChoiceId===i.selectedAnswer[n].ChoiceId&&(t=i.selectedAnswer.findIndex((function(n){return n.ChoiceId===i.selectedAnswer[l].ChoiceId})),i.selectedAnswer.splice(t,1))},o=0;o<this.selectedAnswer.length;o++)s(o);this.checkMatrixAndMatchListAnswers(u)}},{key:"checkAnswerStatus",value:function(l){var n=this.topicQuestions.findIndex((function(n){return n.id===l}));"Correct"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("Good keep going...Correct answer","success"):"Partial"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("This is partially correct","warning"):this.pluginService.alertMessage("Wrong"===this.topicQuestions[n].checkAnswer?"Oops..! this is wrong":"Please select a answer and check it","error")}},{key:"updatedDropList",value:function(l,n){var e=this.topicQuestions.findIndex((function(n){return n.id===l}));if(n.previousContainer===n.container){Object(u.i)(n.container.data,n.previousIndex,n.currentIndex),this.selectedAnswer=[];for(var t=0;t<this.topicQuestions[e].choices.length;t++)for(var i=0;i<this.topicQuestions[e].options.length;i++)t===i&&this.selectedAnswer.push({ChoiceId:this.topicQuestions[e].choices[t].ChoiceId,OptionId:this.topicQuestions[e].options[i].OptionId});this.checkMatrixAndMatchListAnswers(e)}}},{key:"checkMatrixAndMatchListAnswers",value:function(l){for(var n=[],e=0;e<this.topicQuestions[l].answers.length;e++)for(var u=0;u<this.selectedAnswer.length;u++)this.topicQuestions[l].answers[e].ChoiceId===this.selectedAnswer[u].ChoiceId?this.topicQuestions[l].answers[e].OptionId===this.selectedAnswer[u].OptionId&&n.push({ChoiceId:this.selectedAnswer[u].ChoiceId,OptionId:this.selectedAnswer[u].OptionId}):this.topicQuestions[l].checkAnswer="Wrong";if(n.length>0){var t=n.sort((function(l,n){return l.ChoiceId-n.ChoiceId})),i=this.selectedAnswer.sort((function(l,n){return l.ChoiceId-n.ChoiceId}));this.topicQuestions[l].checkAnswer=n.length===this.topicQuestions[l].answers.length&&JSON.stringify(t)===JSON.stringify(i)?"Correct":"Partial"}}},{key:"previousQuestion",value:function(){this.selectedAnswer=[]}},{key:"nextQuestion",value:function(){this.selectedAnswer=[]}}]),l}()},ICK7:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("Ncj7");var u=function(){function l(n){_classCallCheck(this,l),this.elementRef=n,this.answers=[]}return _createClass(l,[{key:"ngOnChanges",value:function(l){var n=this;if(this.elementRef.nativeElement.removeAttribute("checked"),l.answers){var e=this.answers.findIndex((function(l){return l.ChoiceId===n.choiceid}));e>-1&&this.answers[e].OptionId===this.optionid&&this.elementRef.nativeElement.setAttribute("checked","checked")}}}]),l}()},IDBn:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"b",(function(){return s}));var u=e("8Y7J"),t=(e("XKba"),e("s7LF"),e("SVse"),u.qb({encapsulation:2,styles:[],data:{}}));function i(l){return u.Ob(0,[(l()(),u.ib(0,null,null,0))],null,null)}function s(l){return u.Ob(0,[(l()(),u.ib(0,null,null,0,null,i))],null,null)}},IP0z:function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var u=e("SVse"),t=e("8Y7J"),i=new t.p("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(t.W)(u.c)}}),s=function(){var l=function(){function l(n){if(_classCallCheck(this,l),this.value="ltr",this.change=new t.m,n){var e=n.documentElement?n.documentElement.dir:null,u=(n.body?n.body.dir:null)||e;this.value="ltr"===u||"rtl"===u?u:"ltr"}}return _createClass(l,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),l}();return l.ngInjectableDef=Object(t.S)({factory:function(){return new l(Object(t.W)(i,8))},token:l,providedIn:"root"}),l}()},Iab2:function(l,n,e){var u,t;void 0===(t="function"==typeof(u=function(){"use strict";function n(l,n,e){var u=new XMLHttpRequest;u.open("GET",l),u.responseType="blob",u.onload=function(){i(u.response,n,e)},u.onerror=function(){console.error("could not download file")},u.send()}function e(l){var n=new XMLHttpRequest;n.open("HEAD",l,!1);try{n.send()}catch(l){}return 200<=n.status&&299>=n.status}function u(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(e)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype?function(l,i,s){var o=t.URL||t.webkitURL,r=document.createElement("a");r.download=i=i||l.name||"download",r.rel="noopener","string"==typeof l?(r.href=l,r.origin===location.origin?u(r):e(r.href)?n(l,i,s):u(r,r.target="_blank")):(r.href=o.createObjectURL(l),setTimeout((function(){o.revokeObjectURL(r.href)}),4e4),setTimeout((function(){u(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(l,t,i){if(t=t||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function(l,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,i),t);else if(e(l))n(l,t,i);else{var s=document.createElement("a");s.href=l,s.target="_blank",setTimeout((function(){u(s)}))}}:function(l,e,u,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof l)return n(l,e,u);var s="application/octet-stream"===l.type,o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||s&&o)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var l=c.result;l=r?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=l:location=l,i=null},c.readAsDataURL(l)}else{var a=t.URL||t.webkitURL,d=a.createObjectURL(l);i?i.location=d:location.href=d,i=null,setTimeout((function(){a.revokeObjectURL(d)}),4e4)}});t.saveAs=i.saveAs=i,l.exports=i})?u.apply(n,[]):u)||(l.exports=t)},"J/y8":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("JXEQ"),e("tWOK"),e("3ZkO"),e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");var t=function(){function l(n,e,u,t,i,s,o,r,c,a,d){_classCallCheck(this,l),this.activatedRoute=n,this.router=e,this.pluginService=u,this.questionBuilderService=t,this.questionService=i,this.commonService=s,this.formBuilder=o,this.changedetector=r,this.fileService=c,this.errorHandler=a,this.localStorageService=d,this.questionResource={},this.questionCategory=[],this.questionComplexityLevel=[],this.answers=[],this.contentSource=[],this.showSaveQuestion=!1,this.showAddQuestion=!1,this.validateQuestionType=!0}return _createClass(l,[{key:"ngOnInit",value:function(){this.editorSolutionConfig=this.pluginService.getCKEditorQuestionConfig(),this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.topicId=Number(this.activatedRoute.snapshot.params.id),this.topicId&&this.getTopicName(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel(),this.validateQuestionTypeSelectedOrNot()}},{key:"getTopicName",value:function(){var l;l=this.localStorageService.retrieveData("topicDetails"),this.topicName=l.id===this.topicId?l.title:""}},{key:"getContentSource",value:function(){var l=this;this.commonService.getContentSourceList().subscribe((function(n){l.contentSource=n}))}},{key:"getQuestionCategory",value:function(){var l=this;this.commonService.getQuestionCategoryList().subscribe((function(n){l.questionCategory=n}))}},{key:"getQuestionComplexityLevel",value:function(){var l=this;this.commonService.getQuestionComplexityLevelList().subscribe((function(n){l.questionComplexityLevel=n}))}},{key:"ngAfterViewChecked",value:function(){this.validateQuestionTypeSelectedOrNot(),this.changedetector.detectChanges()}},{key:"validateQuestionTypeSelectedOrNot",value:function(){var l;l=this.router.url.split("/").pop(),this.validateQuestionType="general-topic-question-create"===l}},{key:"loadPreviewQuestion",value:function(){var l,n=this,e=[],u=[],t=[],i=[];if(this.questionResource=[],this.questionResource=this.questionBuilderService.getQuestionResource,this.questionType=this.questionResource.QuestionType,l=this.questionResource.Answers,this.onChangeOptionType(this.questionType),l.length>0){if("MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){if(this.answers=[],(e=this.questionResource.Choices).length>0){u=[];for(var s=0;s<e.length;s++)u.push({choiceId:e[s].ChoiceId,choiceText:e[s].ChoiceText});for(var o=function(e){var t=u.find((function(n){return n.choiceId===l[e]})).choiceText;n.answers.push(t),t=""},r=0;r<l.length;r++)o(r)}}else if("MCQ_CHOICE_MATRIX"===this.questionType){if(t=[],i=[],i=this.questionResource.Options,(t=this.questionResource.Choices).length>0&&i.length>0&&l.length>0){this.answers=[];for(var c=function(e){n.answers.push({choiceName:t.find((function(n){return n.ChoiceId===l[e].ChoiceId})).ChoiceText,optionName:i.find((function(n){return n.OptionId===l[e].OptionId})).OptionText})},a=0;a<l.length;a++)c(a)}}else if("MCQ_MATCH_LIST"===this.questionType&&(t=[],i=[],i=this.questionResource.Options,(t=this.questionResource.Choices).length>0&&i.length>0&&l.length>0)){this.answers=[];for(var d=function(e){n.answers.push({choiceName:t.find((function(n){return n.ChoiceId===l[e].ChoiceId})).ChoiceText,optionName:i.find((function(n){return n.OptionId===l[e].OptionId})).OptionText})},b=0;b<l.length;b++)d(b)}this.showSaveQuestion=!0,this.updateQuestionResource()}}},{key:"questionAlertMsg",value:function(l){this.pluginService.alertMessage(l,"error")}},{key:"onChangeOptionType",value:function(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}},{key:"onContentSource",value:function(l){this.selectedContentSource=l}},{key:"onSelectQuestionCategory",value:function(l){this.category=l}},{key:"onSelectComplexityLevel",value:function(l){this.complexityLevel=l}},{key:"resetPreviewQuestions",value:function(){this.questionResource=[],this.answers=[]}},{key:"updateQuestionResource",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=[],e=[],u={},l.t0=(u=this.questionBuilderService.getQuestionResource).Question,!l.t0){l.next=7;break}return this.updatedHTMLDATA=u.Question,l.next=6,this.updateImageSrc(u.Question);case 6:u.Question=this.updatedHTMLDATA;case 7:if(!(u.Choices.length>0)){l.next=18;break}t=0;case 9:if(!(t<u.Choices.length)){l.next=17;break}return this.updatedHTMLDATA=u.Choices[t].ChoiceText,l.next=13,this.updateImageSrc(u.Choices[t].ChoiceText);case 13:n.push({ChoiceText:this.updatedHTMLDATA,ChoiceId:u.Choices[t].ChoiceId});case 14:t++,l.next=9;break;case 17:u.Choices=n;case 18:if(!(u.Options.length>0)){l.next=29;break}i=0;case 20:if(!(i<u.Options.length)){l.next=28;break}return this.updatedHTMLDATA=u.Options[i].OptionText,l.next=24,this.updateImageSrc(u.Options[i].OptionText);case 24:e.push({OptionText:this.updatedHTMLDATA,OptionId:u.Options[i].OptionId});case 25:i++,l.next=20;break;case 28:u.Options=e;case 29:return l.next=31,this.questionBuilderService.generateQuestionResource(u);case 31:case"end":return l.stop()}}),l,this)})))}},{key:"getBase64ImageFromUrl",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l);case 2:return e=n.sent,n.next=5,e.blob();case 5:return u=n.sent,n.abrupt("return",new Promise((function(l,n){var e=new FileReader;e.addEventListener("load",(function(){l(e.result)}),!1),e.onerror=function(){return n(t)},e.readAsDataURL(u)})));case 7:case"end":return n.stop()}}),n)})))}},{key:"updateImageSrc",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t,i,s,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((u=document.createElement("div")).innerHTML=l,!((e=u.getElementsByTagName("img")).length>0)){n.next=19;break}r=0;case 2:if(!(r<e.length)){n.next=17;break}if(n.t0=""===e[r].alt,!n.t0){n.next=14;break}return i=r,e[r].setAttribute("id","image"+[r]),t=e[r].src,n.next=10,this.getBase64ImageFromUrl(t);case 10:return o=n.sent,n.next=13,this.getAWSFilePath(o,i,u);case 13:s=n.sent;case 14:r++,n.next=2;break;case 17:n.next=20;break;case 19:s=u.innerHTML;case 20:return n.abrupt("return",s);case 21:case"end":return n.stop()}}),n,this)})))}},{key:"getAWSFilePath",value:function(l,n,e){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function u(){var t,i,s,o,r,c,a,d,b=this;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=e.getElementsByTagName("img"),s=(t=l.split(","))[0].split(":")[1].split("/")[1].split(";")[0],i=t[1],a=(new Date).getUTCMilliseconds()+"quesImage."+s,!i){u.next=9;break}return u.next=5,this.fileService.getImagePresignedurls(a);case 5:return d=u.sent,(new Map).set(Object.keys(d)[0],Object.values(d)[0]).set(Object.keys(d)[1],Object.values(d)[1]).forEach((function(l,u){if("objectURL"!==u)o=l;else if("objectURL"===u){var t,i=l;t=i.split("/"),c=t[t.length-1],r[n].setAttribute("src",i),r[n].setAttribute("alt",c),b.getImagePathUploadedHTML(e.innerHTML)}})),u.next=9,this.fileService.uploadImagefileAWSS3(o,i);case 9:case"end":return u.stop()}}),u,this)})))}},{key:"getImagePathUploadedHTML",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.updatedHTMLDATA=l;case 1:case"end":return n.stop()}}),n,this)})))}},{key:"saveQuestion",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return(i={}).category=this.category?this.category:this.questionCategory[0].tag,i.complexityLevel=this.complexityLevel?this.complexityLevel:1,l.next=5,this.updateImageSrc(this.solutionContent);case 5:u=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(this.updatedHTMLDATA)):"",i.marks=(t=this.questionBuilderService.getQuestionResource).TotalMarks,n=JSON.stringify(t),e=this.questionBuilderService.convertJsonToString(n),i.contentJson=e,i.generalTopicId=this.topicId,i.solutionJson=u,this.subscribeToSaveResponse(this.questionService.saveTopicQuestion(i));case 13:case"end":return l.stop()}}),l,this)})))}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("General Topic question created successfully","success"),this.showAddQuestion=!0,this.showSaveQuestion=!1}},{key:"onBack",value:function(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.router.navigateByUrl("/general-concept-and-topic/general-topic-question"),l.pluginService.sideMenuToggle())}))}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"addQuestion",value:function(){window.location.reload(),this.questionType="",this.showSaveQuestion=!0}}]),l}()},JD3z:function(l,n,e){"use strict";e.d(n,"a",(function(){return Q}));var u=e("8Y7J"),t=e("SVse"),i=e("ZTrc"),s=e("WOoW"),o=e("ICK7"),r=e("H/4C"),c=e("cUpR"),a=e("/+cj"),d=e("IheW"),b=e("hFJU"),p=e("JXEQ"),h=e("fSzn"),g=e("iInd"),f=e("3ZkO"),m=e("s7LF"),v=e("ustg"),y=e("qd05"),T=u.qb({encapsulation:2,styles:[],data:{}});function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{ngClass:[0,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["disabled",""],["name","answer"],["readonly",""]],[[8,"type",0],[8,"id",0]],null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(9,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(10,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(11,1)],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.type,"checkbox"===e.type);l(n,3,0,t),l(n,6,0,e.questionResource.Answers,n.context.$implicit.ChoiceId);var i=u.Nb(n,10,0,l(n,11,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,10,0,i)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.type,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,8,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(11,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(12,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(17,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,11,0,e.questionResource.Choices),l(n,17,0,e.answers)}),null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.questionResource.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,""))}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(5,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,n.context.$implicit.ChoiceText),l(n,5,0,e.questionResource.Options)}),null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","border-collapse my-2 font-18 p-3"],["style","pointer-events: none"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(13,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(15,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(21,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,13,0,e.questionResource.Options),l(n,15,0,e.questionResource.Choices),l(n,21,0,e.answers)}),null)}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(10,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(16,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,10,0,e.answers),l(n,16,0,e.answers)}),null)}function R(l){return u.Ob(0,[u.Gb(0,r.a,[c.b]),(l()(),u.sb(1,0,null,null,6,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,2,"a",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.editQuestionRoute()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-edit mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit question "])),(l()(),u.sb(8,0,null,null,1,"div",[["class","w-100 mb-2 text-primary font-18"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" ","\n"])),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(11,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(13,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(15,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,"MCQ_SINGLE"===e.questionType||"MCQ_MULTIPLE"===e.questionType||"MCQ_TRUE_FALSE"===e.questionType),l(n,13,0,"MCQ_CHOICE_MATRIX"===e.questionType),l(n,15,0,"MCQ_MATCH_LIST"===e.questionType)}),(function(l,n){l(n,9,0,n.component.topicName)}))}var Q=u.ob("ng-component",h.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,R,T)),u.Jb(512,null,a.a,a.a,[d.c]),u.Jb(512,null,b.a,b.a,[p.a,u.q]),u.rb(3,114688,null,0,h.a,[g.a,g.k,p.a,f.a,a.a,m.e,v.a,y.a,b.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},JH4I:function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e("/+cj"),e("ey9i"),e("JXEQ"),e("pyIl"),e("wy83");var u=e("BN3N"),t=(e("tmov"),e("s7LF"));e("hFJU");var i=function(){function l(n,e,u,t,i,s,o,r,c,a,d,b){_classCallCheck(this,l),this._router=n,this.activatedRoute=e,this.curriculumService=u,this.subjectService=t,this.lessonTopicService=i,this.eventManager=s,this.parseLinks=o,this.principalService=r,this.pluginService=c,this.generalSubjectService=a,this.formBuilder=d,this.errorHandler=b,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.generalSubjectList=[],this.subjectTree=[],this.generalSubjectTree=[],this.lessonTopicsList=[],this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.allGrades=[],this.topicIds=[],this.lessonTopicIds=[],this.enableExpandSubjectNode=!1,this.enableExpandGSubjectNode=!1,this.tableAction=!0,this.updateAction=!0,this.addToListAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadCurriculums(),this.createLessonTopicForm()}},{key:"createLessonTopicForm",value:function(){this.lessonTopicForm=this.formBuilder.group({generalTopicName:new t.f(""),newTopicName:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)])})}},{key:"loadCurriculums",value:function(){var l=this;this.curriculumService.getCurriculumSearch().subscribe((function(n){return l.assignCurriculumList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignCurriculumList",value:function(l){this.curriculumList=[];for(var n=0;n<l.length;n++)this.curriculumList.push(l[n])}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"ngAfterViewInit",value:function(){this.showSyllabusDetails(),this.showGeneralSubjectTreeDetails()}},{key:"onCurriculumChange",value:function(){this.selectedCurriculum&&this.generateGradeList(this.selectedCurriculum.gradesApplicableFrom,this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}},{key:"onGradeChange",value:function(){var l=this;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id,this.selectedGrade.id,u.a).subscribe((function(n){return l.assignSubjectList(n.body)}),(function(n){return l.onError(n)})),this.selectedSubject=null}},{key:"assignSubjectList",value:function(l){this.subjectList=[];for(var n=0;n<l.length;n++)this.subjectList.push(l[n])}},{key:"generateGradeList",value:function(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}},{key:"onGeneralSubjectGradeChange",value:function(){var l=this;if(this.selectedGeneralSubjectGrade){var n=this.selectedGeneralSubjectGrade.name,e=u.a;this.selectedGeneralSubject=null,this.generalSubjectService.getSubjectListByGrade(n,e).subscribe((function(n){return l.assignGeneralSubjectList(n.body)}),(function(n){return l.onError(n)}))}this.selectedGeneralSubjectGrade=null,this.generalSubjectList=[]}},{key:"assignGeneralSubjectList",value:function(l){this.generalSubjectList=[],this.generalSubjectList=l}},{key:"loadSubjectTree",value:function(){var l=this;if(this.selectedSubject){var n=this.selectedSubject.id;this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1),n?this.subjectService.getSubjectTreeBySubjectId(n).subscribe((function(n){return l.assignSubjectTree(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}}},{key:"assignSubjectTree",value:function(l){if(this.subjectTree=[],l.length>0){for(var n=0;n<l.length;n++)0===l[n].data.topicsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandSubjectNode=!1}},{key:"showSyllabusDetails",value:function(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.getLessonTopicList(l.lessonId))}))}},{key:"getLessonTopicList",value:function(l){var n=this;this.lessonTopicService.getLessonTopicListByLessonId(l).subscribe((function(l){return n.assignLessonTopicsList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignLessonTopicsList",value:function(l){this.lessonTopicsList=[],l.lessonTopics.length>0&&(this.lessonTopicsList=l.lessonTopics,this.sortArrayByOrderNumber(this.lessonTopicsList),this.updateAction=!0,this.tableAction=!0,this.topicIds=[],this.dragUpdateLessonTopicList())}},{key:"sortArrayByOrderNumber",value:function(l){l.sort((function(l,n){return l.orderNumber>n.orderNumber?1:-1}))}},{key:"toggleTreeNodes",value:function(){this.enableExpandSubjectNode=!this.enableExpandSubjectNode,this.enableExpandSubjectNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}},{key:"checkSelectedTopics",value:function(l){var n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.lessonTopicIds.push(n)):!1===e&&(u=this.lessonTopicIds.findIndex((function(l){return l===n})),this.lessonTopicIds.splice(u,1)),this.lessonTopicIds=this.removeDuplicateElements(this.lessonTopicIds),this.lessonTopicIds.length<=0&&(this.tableAction=!0)}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"deleteLessonTopics",value:function(){var l=this;swal({title:"Are you sure to delete lesson topic mapping ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.lessonTopicIds.length>0&&l.subscribeToDeleteResponse(l.lessonTopicService.deleteLessonTopicMapping(l.lessonTopicIds))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Lesson topic deleted successfully","success"),this.tableAction=!0,this.lessonTopicIds=[],this.getLessonTopicList(this.lessonId),this.loadSubjectTree()}},{key:"resetSelectedTopic",value:function(){this.lessonTopicIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}},{key:"updateLessonTopicMapping",value:function(l){this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(l))}},{key:"subscribeToUpdateResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateSuccess",value:function(l){this.pluginService.alertMessage("Lesson topic mapping updated successfully","success"),this.getLessonTopicList(this.lessonId),this.closeEditLessonTopicModal()}},{key:"dragUpdateLessonTopicList",value:function(){var l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateLessonTopicOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"updateLessonTopicOrder",value:function(){var l=this;this.updateAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].title),t=Number(e[1].textContent),i=0;i<l.lessonTopicsList.length;i++)if(l.lessonTopicsList[i].id===u){l.lessonTopicsList[i].orderNumber=t,l.lessonTopicsList[i].id=u;break}l.sortArrayByOrderNumber(l.lessonTopicsList)}))}},{key:"updateLessonTopics",value:function(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.checkOrderNumChange&&l.subscribeToUpdateResponse(l.lessonTopicService.updateLessonTopicMapping(l.lessonTopicsList))}))}},{key:"addNewGeneralTopicMapping",value:function(){this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.generalSubjectTree=[],this.selectedGeneralSubject=null,this.selectedGeneralSubjectGrade=null,this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.openTopicMappingModal()}},{key:"loadGeneralSubjectTree",value:function(){var l=this;this.generalSubjectTree=[],this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.selectedGeneralSubject?this.generalSubjectService.getSubjectTreeBySubjectId(this.selectedGeneralSubject.id).subscribe((function(n){return l.assignGeneralSubjectTree(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}},{key:"assignGeneralSubjectTree",value:function(l){this.generalSubjectTree=l,this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.enableExpandGSubjectNode=!1}},{key:"showGeneralSubjectTreeDetails",value:function(){var l=this;$("#generalSubjectTreeView").on("changed.jstree",(function(n,e){var u,t,i;for(u=0,t=e.selected.length;u<t;u++)l.modalNodeType=e.node.type,"root"===l.modalNodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.modalNodeType?(i=e.node.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.topicIds=[],this.addToListAction=!0,l.getTopicsList(i)):"topic"===l.modalNodeType&&(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description)}))}},{key:"getTopicsList",value:function(l){var n;n=this.generalSubjectTree.filter((function(n){return n.parent===l})),this.generalSubTopicsList=n.filter((function(l){return"topic"===l.type})),this.disablePreSelectedTopics()}},{key:"disablePreSelectedTopics",value:function(){if(this.lessonTopicsList.length>0)for(var l=0;l<this.lessonTopicsList.length;l++)for(var n=0;n<this.generalSubTopicsList.length;n++)this.lessonTopicsList[l].generalTopicId===this.generalSubTopicsList[n].data.id&&(this.generalSubTopicsList[n].disabled=!0)}},{key:"checkNewlyAddedTopics",value:function(l){var n,e,u;n=l.target.name,!0===(e=l.target.checked)?(this.topicIds.push(n),this.addToListAction=!1):!1===e&&(u=this.topicIds.findIndex((function(l){return l===n})),this.topicIds.splice(u,1)),this.topicIds=this.removeDuplicateElements(this.topicIds)}},{key:"addTopicToList",value:function(){for(var l=this,n=function(n){l.selectedGeneralSubTopicsList.push(l.generalSubTopicsList.find((function(e){return e.id===l.topicIds[n]})))},e=0;e<this.topicIds.length;e++)n(e);this.selectedGeneralSubTopicsList=this.removeDuplicateElements(this.selectedGeneralSubTopicsList),this.addToListAction=!0}},{key:"removeFromNewTopicList",value:function(l){var n;this.selectedGeneralSubTopicsList.length>0?(n=this.selectedGeneralSubTopicsList.findIndex((function(n){return n.id===l})),this.selectedGeneralSubTopicsList.splice(n,1)):this.selectedGeneralSubTopicsList=[]}},{key:"toggleGeneralSubjectTreeNodes",value:function(){this.enableExpandGSubjectNode=!this.enableExpandGSubjectNode,this.enableExpandGSubjectNode?this.pluginService.openJsTreeAllNodes("#generalSubjectTreeView"):this.pluginService.closeJsTreeAllNodes("#generalSubjectTreeView")}},{key:"saveLessonTopicMapping",value:function(){for(var l=[],n=0;n<this.selectedGeneralSubTopicsList.length;n++)l.push({generalTopicId:this.selectedGeneralSubTopicsList[n].data.id,topicName:this.selectedGeneralSubTopicsList[n].data.name,generalTopicName:this.selectedGeneralSubTopicsList[n].data.name,lessonId:this.lessonId,orderNumber:this.lessonTopicsList.length+n+10});l.length>0?this.subscribeToSaveResponse(this.lessonTopicService.saveLessonTopicMapping(l)):this.pluginService.alertMessage("No lesson topics added","error")}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Lesson topic mapped successfully","success"),this.closeTopicMappingModal(),this.getLessonTopicList(this.lessonId),this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.loadSubjectTree()}},{key:"trimValue",value:function(l){return null==l?l:l.trim()}},{key:"editLessonTopic",value:function(l){var n=this.lessonTopicsList.filter((function(n){return n.id===l}))[0];this.lessonTopicId=l,this.lessonTopicForm.setValue({generalTopicName:n.generalTopicName,newTopicName:n.topicName}),this.lessonTopicForm.get("generalTopicName").disable(),this.openEditLessonTopicModal()}},{key:"closeWithOutSavingTopicMapping",value:function(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicMappingModal()}))}},{key:"openEditLessonTopicModal",value:function(){this.pluginService.showModalWindow("#editLessonTopicModal")}},{key:"closeEditLessonTopicModal",value:function(){this.pluginService.hideModalWindow("#editLessonTopicModal")}},{key:"closeWithOutSavingTopicName",value:function(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeEditLessonTopicModal()}))}},{key:"updateLessonTopicName",value:function(){var l=this,n={},e=[];(n=this.lessonTopicsList.filter((function(n){return n.id===l.lessonTopicId}))[0]).topicName=this.trimValue(this.lessonTopicForm.get("newTopicName").value),e.push(n),this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(e))}},{key:"resetEditLessonTopicModal",value:function(){var l=this,n=this.lessonTopicsList.filter((function(n){return n.id===l.lessonTopicId}))[0];this.lessonTopicForm.setValue({generalTopicName:n.generalTopicName,newTopicName:n.topicName}),this.lessonTopicForm.get("generalTopicName").disable()}},{key:"openTopicMappingModal",value:function(){this.pluginService.showModalWindow("#addNewTopicMappingModal")}},{key:"closeTopicMappingModal",value:function(){this.pluginService.hideModalWindow("#addNewTopicMappingModal")}}]),l}()},Ncj7:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"c",(function(){return s})),e.d(n,"b",(function(){return o})),e("3ZkO"),e("JXEQ");var u=function l(){_classCallCheck(this,l),this.Choices=[],this.Options=[],this.Answers=[]},t=function l(n,e){_classCallCheck(this,l),this.ChoiceId=n,this.OptionId=e},i=function l(n,e){_classCallCheck(this,l),this.ChoiceId=n,this.ChoiceText=e},s=function l(n,e){_classCallCheck(this,l),this.OptionId=n,this.OptionText=e},o=function(){function l(n,e,t,i){var s=this;_classCallCheck(this,l),this.route=n,this.questionService=e,this.pluginService=t,this.changedetector=i,this.answers=[],this.viewModel=new u,this.route.data.subscribe((function(l){"MCQ_CHOICE_MATRIX"===l.type&&(s.viewModel.QuestionType=l.type)}))}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.route.snapshot.data.question&&Promise.resolve().then((function(){l.viewModel=l.route.snapshot.data.question}))}},{key:"ngAfterViewChecked",value:function(){this.viewModel&&this.questionService.generateQuestionResource(this.viewModel),this.changedetector.detectChanges()}},{key:"deleteChoice",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{var n=this.viewModel.Choices.findIndex((function(n){return n.ChoiceId===l}));this.viewModel.Choices.splice(n,1)}}},{key:"addChoice",value:function(){this.viewModel.Choices=[].concat(_toConsumableArray(this.viewModel.Choices),[new i((new Date).getUTCMilliseconds(),"")])}},{key:"addOption",value:function(){this.viewModel.Options=[].concat(_toConsumableArray(this.viewModel.Options),[new s((new Date).getUTCMilliseconds(),"")])}},{key:"deleteOption",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{var n=this.viewModel.Options.findIndex((function(n){return n.OptionId===l}));this.viewModel.Options.splice(n,1)}}},{key:"markAsAnswer",value:function(l,n){var e,u=this;if(0===this.viewModel.Answers.length&&(this.viewModel.Answers=[]),this.viewModel.Answers.push({ChoiceId:l.ChoiceId,OptionId:n.OptionId}),this.viewModel.Answers.length>0)for(var t=function(l){for(var n=l+1;n<u.viewModel.Answers.length;n++)u.viewModel.Answers[l].ChoiceId===u.viewModel.Answers[n].ChoiceId&&(e=u.viewModel.Answers.findIndex((function(n){return n.ChoiceId===u.viewModel.Answers[l].ChoiceId})),u.viewModel.Answers.splice(e,1))},i=0;i<this.viewModel.Answers.length;i++)t(i);this.viewModel.TotalMarks=this.viewModel.Answers.length,this.showChoiceMatrixAnswers()}},{key:"showChoiceMatrixAnswers",value:function(){var l,n=this,e=[],u=[];this.answers=[],l=this.viewModel.Answers,e=this.viewModel.Choices,u=this.viewModel.Options;for(var t=function(t){n.answers.push({choiceName:e.find((function(n){return n.ChoiceId===l[t].ChoiceId})).ChoiceText,optionName:u.find((function(n){return n.OptionId===l[t].OptionId})).OptionText})},i=0;i<l.length;i++)t(i)}},{key:"ngOnDestroy",value:function(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.Options=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}]),l}()},OcQ3:function(l,n,e){"use strict";e.d(n,"a",(function(){return G}));var u=e("8Y7J"),t=e("MJJn"),i=e("wTG2"),s=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("/+cj"),a=e("IheW"),d=e("hFJU"),b=e("JXEQ"),p=e("tvYL"),h=e("iInd"),g=e("wy83"),f=e("pyIl"),m=e("BksD"),v=e("+Ok4"),y=e("tmov"),T=u.qb({encapsulation:2,styles:[],data:{}});function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGrade=e)&&t),"change"===n&&(t=!1!==i.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandSubjectNode),l(n,6,0,!0===e.enableExpandSubjectNode)}),null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2 text-danger"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No topic is mapped "]))],null,null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedTopics(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,1,"td",[["data-column","Video count"]],null,null,null,null,null)),(l()(),u.Mb(12,null,[" "," "])),(l()(),u.sb(13,0,null,null,1,"td",[["data-column","Question count"]],null,null,null,null,null)),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(16,null,[" "," "]))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.displayName,""))}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.displayName),l(n,12,0,n.context.$implicit.topicContentCount),l(n,14,0,n.context.$implicit.questionsCount),l(n,16,0,n.context.$implicit.baseGrade)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedTopic()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mx-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteLessonTopics()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopics()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Video count"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question count"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(16,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(18,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(20,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,18,0,e.lessonTopicsList,e.trackId),l(n,20,0,e.lessonTopicsList.length>0)}),null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","d-flex w-100 justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h4",[["class","font-24 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["",""])),(l()(),u.sb(5,0,null,null,3,"div",[["class","d-flex align-items-start"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,2,"a",[["class","btn btn-primary text-white mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addNewGeneralTopicMapping()&&u),u}),null,null)),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new general topic "])),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,10,0,n.component.lessonTopicsList)}),(function(l,n){l(n,4,0,n.component.nodeName)}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleGeneralSubjectTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandGSubjectNode),l(n,6,0,!0===e.enableExpandGSubjectNode)}),null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Concept, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic "]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"td",[["data-column","Select"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["type","checkbox"]],[[8,"name",0],[8,"id",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkNewlyAddedTopics(e)&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(7,null,[" "," "])),(l()(),u.sb(8,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "]))],null,(function(l,n){l(n,2,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+123"),n.context.$implicit.disabled,n.context.$implicit.disabled),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,7,0,n.context.$implicit.data.name),l(n,9,0,n.context.$implicit.data.description),l(n,11,0,n.context.$implicit.data.baseGrade)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.generalSubTopicsList)}),null)}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "])),(l()(),u.sb(5,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"div",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.removeFromNewTopicList(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.data.name),l(n,4,0,n.context.$implicit.data.description),l(n,6,0,n.context.$implicit.data.baseGrade)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.selectedGeneralSubTopicsList)}),null)}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept name"])),(l()(),u.Mb(5,null,[" - ",""])),(l()(),u.sb(6,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept description"])),(l()(),u.Mb(9,null,[" - ",""])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex justify-content-end my-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"button",[["class","btn btn-info"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addTopicToList()&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add to list "])),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(17,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,e.generalSubTopicsList),l(n,17,0,e.selectedGeneralSubTopicsList)}),(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,9,0,e.nodeDescription),l(n,13,0,e.addToListAction)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==i.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,81,"div",[["aria-hidden","true"],["aria-labelledby","addNewPrereqTopicMappingModal"],["class","modal"],["id","addNewPrereqTopicMappingModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,80,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,79,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" Add new prerequisite topic mapping - "," "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicMapping()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,66,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(58,0,null,null,50,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,42,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,20,"div",[["class","col-xxl-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(63,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,65).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGeneralSubjectGrade=e)&&t),"change"===n&&(t=!1!==i.onGeneralSubjectGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(65,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(79,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(80,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(82,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(83,0,null,null,20,"div",[["class","col-xxl-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,19,"ng-select",[["bindLabel","title"],["class","ng-select"],["placeholder","Select general subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,86).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGeneralSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(86,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(100,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(101,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(103,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(104,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(105,0,null,null,3,"div",[["class","col-xxl-2"]],null,null,null,null,null)),(l()(),u.sb(106,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadGeneralSubjectTree()&&u),u}),null,null)),(l()(),u.sb(107,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(109,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(110,0,null,null,4,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(112,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(113,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(114,0,null,null,0,"div",[["id","generalSubjectTreeView"]],null,null,null,null,null)),(l()(),u.sb(115,0,null,null,8,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(117,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(119,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(121,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(123,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(124,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(125,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicMappingModal()&&u),u}),null,null)),(l()(),u.sb(126,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(128,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveLessonTopicMapping()&&u),u}),null,null)),(l()(),u.sb(129,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,65,0,"name","Select grade",e.allGrades);var i=e.selectedGeneralSubjectGrade,s=l(n,80,0,!0);l(n,79,0,i,s),l(n,86,0,"title","Select general subject",e.generalSubjectList);var o=e.selectedGeneralSubject,r=l(n,101,0,!0);l(n,100,0,o,r),l(n,112,0,e.generalSubjectTree.length>1),l(n,117,0,e.generalSubjectTree.length>1),l(n,119,0,"root"===e.modalNodeType),l(n,121,0,"concept"===e.modalNodeType),l(n,123,0,"topic"===e.modalNodeType)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,54,0,e.nodeName),l(n,63,1,[!u.Eb(n,65).multiple,u.Eb(n,65).typeahead,u.Eb(n,65).multiple,u.Eb(n,65).addTag,u.Eb(n,65).searchable,u.Eb(n,65).clearable,u.Eb(n,65).isOpen,u.Eb(n,65).disabled,u.Eb(n,65).filtered,u.Eb(n,82).ngClassUntouched,u.Eb(n,82).ngClassTouched,u.Eb(n,82).ngClassPristine,u.Eb(n,82).ngClassDirty,u.Eb(n,82).ngClassValid,u.Eb(n,82).ngClassInvalid,u.Eb(n,82).ngClassPending]),l(n,84,1,[!u.Eb(n,86).multiple,u.Eb(n,86).typeahead,u.Eb(n,86).multiple,u.Eb(n,86).addTag,u.Eb(n,86).searchable,u.Eb(n,86).clearable,u.Eb(n,86).isOpen,u.Eb(n,86).disabled,u.Eb(n,86).filtered,u.Eb(n,103).ngClassUntouched,u.Eb(n,103).ngClassTouched,u.Eb(n,103).ngClassPristine,u.Eb(n,103).ngClassDirty,u.Eb(n,103).ngClassValid,u.Eb(n,103).ngClassInvalid,u.Eb(n,103).ngClassPending])}))}var G=u.ob("ng-component",p.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,$,T)),u.Jb(512,null,c.a,c.a,[a.c]),u.Jb(512,null,d.a,d.a,[b.a,u.q]),u.rb(3,4308992,null,0,p.a,[h.k,h.a,g.a,f.a,c.a,m.c,m.f,v.a,y.a,b.a,d.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},RFFW:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return t})),e.d(n,"i",(function(){return i})),e.d(n,"j",(function(){return s})),e.d(n,"k",(function(){return o})),e.d(n,"l",(function(){return r})),e.d(n,"m",(function(){return c})),e.d(n,"n",(function(){return a})),e.d(n,"o",(function(){return d})),e.d(n,"p",(function(){return b})),e.d(n,"c",(function(){return p})),e.d(n,"d",(function(){return h})),e.d(n,"e",(function(){return g})),e.d(n,"f",(function(){return f})),e.d(n,"g",(function(){return m})),e.d(n,"h",(function(){return v})),e("ey9i"),e("JH4I"),e("tvYL"),e("h8Em"),e("roRw"),e("XMAV"),e("iEt1"),e("psak"),e("gfXs"),e("zsI8"),e("fSzn"),e("BTcv"),e("gQ5b"),e("TW2f");var u={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage lesson topics"},t={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage prerequisite lesson topics"},i={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage video content mapping"},s={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage topic questions"},o={authorities:["SYSTEM_ADMIN"],pageTitle:"Create new topic question"},r={type:"MCQ_SINGLE",title:"Create"},c={type:"MCQ_MULTIPLE",mode:"Create"},a={type:"MCQ_TRUE_FALSE",title:"Create"},d={title:"Create",type:"MCQ_CHOICE_MATRIX"},b={title:"Create",type:"MCQ_MATCH_LIST"},p={title:"Create",type:"mcq-drag"},h={authorities:["SYSTEM_ADMIN"],pageTitle:"Edit topic question"},g={authorities:["SYSTEM_ADMIN"],pageTitle:"View topic question"},f={authorities:["SYSTEM_ADMIN"],pageTitle:"View topic question"},m={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage study material"},v={authorities:["SYSTEM_ADMIN"],pageTitle:"OCR tool (Convert image to text)"}},TW2f:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("JXEQ"),e("9wII");var t=function(){function l(n,e){_classCallCheck(this,l),this.pluginService=n,this.ocrService=e}return _createClass(l,[{key:"ngOnInit",value:function(){this.pluginService.sideMenuToggle(),this.ckEditorMathPix=this.pluginService.getCKEditorMathPixConfig()}},{key:"getBase64ImageFromUrl",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l);case 2:return e=n.sent,n.next=5,e.blob();case 5:return u=n.sent,n.abrupt("return",new Promise((function(l,n){var e=new FileReader;e.addEventListener("load",(function(){l(e.result)}),!1),e.onerror=function(){return n(t)},e.readAsDataURL(u)})));case 7:case"end":return n.stop()}}),n)})))}},{key:"onImageUpload",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if((e=document.createElement("div")).innerHTML=this.dataSource,!((n=e.getElementsByTagName("img")).length>0)){l.next=11;break}i=0;case 2:if(!(i<n.length)){l.next=11;break}return u=n[i].src,l.next=6,this.getBase64ImageFromUrl(u);case 6:t=l.sent,this.subscribeSaveResponse(this.ocrService.processBase64IntoTex(t));case 8:i++,l.next=2;break;case 11:case"end":return l.stop()}}),l,this)})))}},{key:"subscribeSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveResponse(l)}),(function(l){return n.onSaveError(l)}))}},{key:"onSaveResponse",value:function(l){var n=l.body.error;this.generatedFormulaText=l.body.latex_styled,n&&this.pluginService.alertMessage(n,"error")}},{key:"onSaveError",value:function(l){this.pluginService.alertMessage(l,"error")}},{key:"onCopyFormulaText",value:function(){var l=document.getElementById("generatedCode");l.select(),l.setSelectionRange(0,99999),document.execCommand("copy")}}]),l}()},WOoW:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));var u=function(){function l(n){_classCallCheck(this,l),this.element=n}return _createClass(l,[{key:"ngOnChanges",value:function(){MathJax.Hub.Config({showMathMenu:!1,messageStyle:"none"}),MathJax.Hub.Configured(),this.element.nativeElement.innerHTML=this.texExpression,MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.element.nativeElement.innerHTML])}}]),l}()},XMAV:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var u=e("IheW"),t=(e("/+cj"),e("ey9i"),e("JXEQ"),e("s7LF")),i=(e("ustg"),e("QHgc"),e("pyIl"),e("GcsT"),e("wy83"),e("BN3N")),s=(e("aV0t"),e("Iab2"));e("hFJU");var o=function(){function l(n,e,u,t,i,s,o,r,c,a,d,b,p,h,g,f){_classCallCheck(this,l),this._router=n,this.activatedRoute=e,this.addlResourceService=u,this.curriculumService=t,this.subjectService=i,this.organisationService=s,this.eventManager=o,this.parseLinks=r,this.principalService=c,this.pluginService=a,this.formBuilder=d,this.userLoginInfo=b,this.commonService=p,this.changeDetectorRef=h,this.fileService=g,this.errorHandler=f,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.resourceCategory=[],this.contentType=[],this.resourceIds=[],this.ownLessonResourceIds=[],this.organisations=[],this.addlResource=[],this.ownAddlResource=[],this.orgGeneralAddlResource=[],this.selectedFile=null,this.enableExpandNode=!1,this.checkContentCE=!1,this.contentPreferenceStatus=!1,this.validateForm=!0,this.tableAction=!0,this.updateAction=!0,this.tableGenAction=!0,this.updateGenAction=!0}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadCurriculums(),this.createAdditionLessonResourceForm(),this.getContentCategory(),this.getContentType()}},{key:"getContentCategory",value:function(){var l=this;this.commonService.getContentCategoryList().subscribe((function(n){l.resourceCategory=n}))}},{key:"getContentType",value:function(){var l=this;this.commonService.getContentTypeList().subscribe((function(n){l.contentType=n}))}},{key:"createAdditionLessonResourceForm",value:function(){this.lessonResourceForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),resourceCategory:new t.f(null,[t.y.required]),contentType:new t.f(null,[t.y.required]),webSource:new t.f(null)})}},{key:"loadCurriculums",value:function(){var l=this;this.curriculumService.getCurriculumSearch().subscribe((function(n){return l.assignCurriculumList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignCurriculumList",value:function(l){this.curriculumList=[];for(var n=0;n<l.length;n++)this.curriculumList.push(l[n])}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"onDocumentFileChanges",value:function(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}},{key:"uploadDocumentFile",value:function(){var l=this;if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){var n=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe((function(e){200===e.status&&(l.uploadedFileName=Object.keys(e.body)[0],l.uploadedFilePath=Object.values(e.body)[0],l.fileName=l.uploadedFileName,l.uploadedFileName&&l.uploadedFilePath&&l.fileService.uploadPDFFile(l.uploadedFilePath,n).subscribe((function(n){n instanceof u.j&&(l.showFileAction=!0,l.pluginService.alertMessage("File uploaded successfully","success"))})))}))}else this.pluginService.alertMessage("Invalid file, it support only PDF","error");else this.pluginService.alertMessage("Please choose file and upload it","error")}},{key:"downloadFile",value:function(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}},{key:"subscribeToDownloadResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDownloadSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDownloadSuccess",value:function(l){if(l.body){var n=Object.values(l.body)[0];Object(s.saveAs)(n)}}},{key:"checkContentType",value:function(){this.selectedContentType&&"DOCUMENT"===this.selectedContentType.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}},{key:"deleteUploadedFile",value:function(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}},{key:"subscribeToDeleteFiletResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteFileSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteFileSuccess",value:function(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}},{key:"ngAfterViewInit",value:function(){this.showSyllabusDetails()}},{key:"onCurriculumChange",value:function(){this.selectedCurriculum&&this.generateGradeList(this.selectedCurriculum.gradesApplicableFrom,this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}},{key:"onGradeChange",value:function(){var l=this;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id,this.selectedGrade.id,i.a).subscribe((function(n){return l.assignSubjectList(n.body)}),(function(n){return l.onError(n)})),this.selectedSubject=null}},{key:"assignSubjectList",value:function(l){this.subjectList=[];for(var n=0;n<l.length;n++)this.subjectList.push(l[n])}},{key:"generateGradeList",value:function(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}},{key:"loadSubjectTree",value:function(){var l=this;if(this.selectedSubject){var n=this.selectedSubject.id;n?this.subjectService.getSubjectTreeBySubjectId(n).subscribe((function(n){return l.assignSubjectTree(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}}},{key:"assignSubjectTree",value:function(l){if(this.subjectTree=[],l.length>0){for(var n=0;n<l.length;n++)0===l[n].data.addlContentsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.enableExpandNode=!1}},{key:"trimValue",value:function(l){return null==l?l:l.trim()}},{key:"ngAfterViewChecked",value:function(){this.validateTopicContentForm(),this.changeDetectorRef.detectChanges()}},{key:"validateTopicContentForm",value:function(){var l,n;l=this.trimValue(this.lessonResourceForm.value.contentTitle),n=this.trimValue(this.lessonResourceForm.value.webSource),""!==l&&null!=l||(this.validateForm=!0),this.lessonResourceForm.valid&&(this.validateForm=!1),this.lessonResourceForm.invalid&&(this.validateForm=!0),""!==n&&null!=n&&""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateForm=!0)}},{key:"showSyllabusDetails",value:function(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.addlResource=[],l.orgGeneralAddlResource=[],l.ownAddlResource=[],l.getAddlResourceList(l.lessonId),l.getOrgGeneralAddlResourceByOrganisationId(l.lessonId),l.getOrganisationList(),l.getAddlResourcePreference(l.lessonId),l.updateAction=!0,l.updateGenAction=!0,l.tableAction=!0,l.tableGenAction=!0)}))}},{key:"getAddlResourceList",value:function(l){var n=this;this.addlResourceService.getAddlResource(l).subscribe((function(l){return n.assignResponseToAddlResourceList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToAddlResourceList",value:function(l){this.addlResource=l,this.sortArrayByOrderNumber(this.addlResource),this.dragTableContent()}},{key:"getOrgGeneralAddlResourceByOrganisation",value:function(){var l=this;this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(this.lessonId,this.selectedOrganisation.id).subscribe((function(n){return l.assignResponseToOrgAddlResource(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignResponseToOrgAddlResource",value:function(l){this.orgGeneralAddlResource=l,this.sortArrayByOrderNumber(this.orgGeneralAddlResource)}},{key:"getOrgGeneralAddlResourceByOrganisationId",value:function(l){var n=this;this.organisationId=this.userLoginInfo.organisationId,this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(l,this.organisationId).subscribe((function(l){return n.assignResponseToOrgAddlResourceList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToOrgAddlResourceList",value:function(l){this.orgGeneralAddlResource=l,this.ownAddlResource=l,this.sortArrayByOrderNumber(this.ownAddlResource),this.ownAddlResourceDragTableContent()}},{key:"getOrganisationList",value:function(){var l=this;this.organisationService.getOrganisations().subscribe((function(n){return l.assignOrgList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignOrgList",value:function(l){this.organisations=l}},{key:"sortArrayByOrderNumber",value:function(l){l.sort((function(l,n){return l.orderNumber>n.orderNumber?1:-1}))}},{key:"getAddlResourcePreference",value:function(l){var n=this;this.addlResourceService.getAddlResourcePreference(l,this.organisationId).subscribe((function(l){return n.onGetPreferenceSuccess(l.body)}),(function(l){return n.onError(l)}))}},{key:"onGetPreferenceSuccess",value:function(l){""===l||null===l||!1===l?(this.checkContentCE=!0,this.checkOwnContent=!1):!0===l&&(this.checkContentCE=!1,this.checkOwnContent=!0)}},{key:"checkContentPreference",value:function(l){var n=l.target.checked,e=l.target.id;!0===n&&"ContentCE"===e?this.contentPreferenceStatus=!1:!0===n&&"OwnContent"===e&&(this.contentPreferenceStatus=!0)}},{key:"saveContentPreference",value:function(){!1===this.contentPreferenceStatus?this.addlResource.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one general additional lesson resources and change preference","error"):!0===this.contentPreferenceStatus&&(this.ownAddlResource.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one own additional lesson resources and change preference","error"))}},{key:"setContentPreference",value:function(){var l=this;this.addlResourceService.setAddlResourcePreference(this.contentPreferenceStatus,this.lessonId,this.organisationId).subscribe((function(n){return l.onSuccess(n.body)}),(function(n){return l.onError(n)}))}},{key:"onSuccess",value:function(l){this.pluginService.alertMessage("Content preference saved successfully","success")}},{key:"resetFormValues",value:function(){this.lessonResourceForm.reset(),this.selectedCategory=null,this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}},{key:"addAddlessonResources",value:function(){this.openLessonResourceModal(),this.modalTitleName="Add",this.modalActionName="AddlResource",this.resetFormValues(),this.enableFormFields()}},{key:"addOwnAddlResources",value:function(){this.openLessonResourceModal(),this.modalTitleName="Add",this.modalActionName="OwnAddlResource",this.resetFormValues(),this.enableFormFields()}},{key:"openLessonResourceModal",value:function(){this.pluginService.showModalWindow("#additionalResourceModal")}},{key:"closeLessonResourceModal",value:function(){this.pluginService.hideModalWindow("#additionalResourceModal")}},{key:"viewAddlResource",value:function(l){var n;n=this.addlResource.filter((function(n){return n.id===l}))[0],this.modalTitleName="View",this.modalActionName="AddlResource",this.patchContentFormfields(n),this.openLessonResourceModal()}},{key:"editAddlResource",value:function(l){var n;n=this.addlResource.filter((function(n){return n.id===l}))[0],this.modalTitleName="Edit",this.modalActionName="AddlResource",this.patchContentFormfields(n),this.openLessonResourceModal()}},{key:"viewOrgAddlResource",value:function(l){var n;n=this.orgGeneralAddlResource.filter((function(n){return n.id===l}))[0],this.modalTitleName="View",this.modalActionName="OrgAddlResource",this.patchContentFormfields(n),this.openLessonResourceModal()}},{key:"editOwnAddlResource",value:function(l){var n;n=this.ownAddlResource.filter((function(n){return n.id===l}))[0],this.modalTitleName="Edit",this.modalActionName="OwnAddlResource",this.patchContentFormfields(n),this.openLessonResourceModal()}},{key:"viewOwnAddlResource",value:function(l){var n;n=this.ownAddlResource.filter((function(n){return n.id===l}))[0],this.modalTitleName="View",this.modalActionName="OwnAddlResource",this.patchContentFormfields(n),this.openLessonResourceModal()}},{key:"patchContentFormfields",value:function(l){this.contentId=l.content.id,this.selectedCategory=this.resourceCategory.filter((function(n){return n.tag===l.content.tag}))[0],this.selectedContentType=this.contentType.filter((function(n){return n.tag===l.content.contentType}))[0],this.lessonResourceForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description}),"DOCUMENT"===this.selectedContentType.tag?(this.showFileAction=!0,this.fileName=l.content.fileName,this.uploadedFileName=l.content.fileName,this.uploadedFilePath=l.content.filePath):"VIDEO"===this.selectedContentType.tag&&this.lessonResourceForm.patchValue({webSource:l.content.webUrl}),"View"===this.modalTitleName?this.disableFormFields():"Edit"!==this.modalTitleName&&"Add"!==this.modalTitleName||this.enableFormFields()}},{key:"disableFormFields",value:function(){this.lessonResourceForm.get("contentTitle").disable(),this.lessonResourceForm.get("contentDescription").disable(),this.lessonResourceForm.get("resourceCategory").disable(),this.lessonResourceForm.get("contentType").disable(),this.lessonResourceForm.get("webSource").disable()}},{key:"enableFormFields",value:function(){this.lessonResourceForm.get("contentTitle").enable(),this.lessonResourceForm.get("contentDescription").enable(),this.lessonResourceForm.get("resourceCategory").enable(),this.lessonResourceForm.get("contentType").enable(),this.lessonResourceForm.get("webSource").enable()}},{key:"saveAddlResource",value:function(){var l=this;if(this.lessonResourceForm.valid){var n=[],e={content:{}};e.lessonId=this.lessonId,e.orderNumber=this.addlResource.length+1,e.content.title=this.trimValue(this.lessonResourceForm.value.contentTitle),e.content.description=this.trimValue(this.lessonResourceForm.value.contentDescription),e.content.tag=this.selectedCategory.tag,e.content.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(e.content.contentSource="WEB_URL",e.content.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(e.content.contentSource="FILE_UPLOAD",e.content.fileName=this.uploadedFileName,e.content.filePath=this.uploadedFilePath),n.push(e),this.addlResourceService.saveAddlResource(n).subscribe((function(n){return l.onSaveSuccess(n.body)}),(function(n){return l.onError(n.error)}))}}},{key:"saveOwnAddlResource",value:function(){var l=this;if(this.lessonResourceForm.valid){var n=[],e={content:{}};e.lessonId=this.lessonId,e.organisationId=this.userLoginInfo.organisationId,e.orderNumber=this.ownAddlResource.length+1,e.content.title=this.trimValue(this.lessonResourceForm.value.contentTitle),e.content.description=this.trimValue(this.lessonResourceForm.value.contentDescription),e.content.tag=this.selectedCategory.tag,e.content.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(e.content.contentSource="WEB_URL",e.content.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(e.content.contentSource="FILE_UPLOAD",e.content.fileName=this.uploadedFileName,e.content.filePath=this.uploadedFilePath),n.push(e),this.addlResourceService.saveOwnAddlResource(n).subscribe((function(n){return l.onSaveSuccess(n.body)}),(function(n){return l.onError(n.error)}))}}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Additional Lesson resource added successfully","success"),this.resetFormValues(),this.closeLessonResourceModal(),this.getAddlResourceList(this.lessonId),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.loadSubjectTree()}},{key:"updateAddlResource",value:function(){var l={};(l={}).id=this.contentId,l.title=this.trimValue(this.lessonResourceForm.value.contentTitle),l.description=this.trimValue(this.lessonResourceForm.value.contentDescription),l.tag=this.selectedCategory.tag,l.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(l.contentSource="WEB_URL",l.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(l.contentSource="FILE_UPLOAD",l.fileName=this.uploadedFileName,l.filePath=this.uploadedFilePath),this.subscribeToUpdateResponse(this.addlResourceService.updateContentSource(l))}},{key:"subscribeToUpdateResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateSuccess",value:function(l){this.pluginService.alertMessage("Additional Lesson resource updated successfully","success"),this.resetFormValues(),this.closeLessonResourceModal(),this.getAddlResourceList(this.lessonId)}},{key:"checkSelectedContents",value:function(l){var n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableGenAction=!1,this.resourceIds.push(n)):!1===e&&(u=this.resourceIds.findIndex((function(l){return l===n})),this.resourceIds.splice(u,1)),this.resourceIds=this.removeDuplicateElements(this.resourceIds),this.resourceIds.length<=0&&(this.tableGenAction=!0)}},{key:"checkSelectedOwnContents",value:function(l){var n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.ownLessonResourceIds.push(n)):!1===e&&(u=this.ownLessonResourceIds.findIndex((function(l){return l===n})),this.ownLessonResourceIds.splice(u,1)),this.ownLessonResourceIds=this.removeDuplicateElements(this.ownLessonResourceIds),this.ownLessonResourceIds.length<=0&&(this.tableAction=!0)}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"resetSelectedAddlResource",value:function(){this.resourceIds=[],this.tableGenAction=!0,$(".checkAll").prop("checked",!1)}},{key:"resetSelectedOwnAddlResource",value:function(){this.ownLessonResourceIds=[],this.tableAction=!0,$(".checkAllOwnContents").prop("checked",!1)}},{key:"deleteAddlResource",value:function(){var l=this;swal({title:"Are you sure to delete additional lesson resources ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.resourceIds.length>0&&l.subscribeToDeleteResponse(l.addlResourceService.deleteAddlResource(l.resourceIds))}))}},{key:"deleteOwnAddlResource",value:function(){var l=this;!0===this.contentPreferenceStatus?this.pluginService.alertMessage("Please change your content preference and do delete action, ","error"):swal({title:"Are you sure to delete additional lesson resources ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.ownLessonResourceIds.length>0&&l.subscribeToDeleteResponse(l.addlResourceService.deleteOwnAddlResource(l.ownLessonResourceIds))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.tableGenAction=!0,this.tableAction=!0,this.resourceIds=[],this.ownLessonResourceIds=[],this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.getAddlResourceList(this.lessonId),this.loadSubjectTree()}},{key:"dragTableContent",value:function(){var l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateAddlResourceOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"ownAddlResourceDragTableContent",value:function(){var l=this;$("#ownContentDragTable #ownContentDragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateOwnAddlResourceOrder()}}),$("#ownContentDragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"updateAddlResourceOrder",value:function(){var l=this;this.updateGenAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].id),t=Number(e[1].textContent),i=0;i<l.addlResource.length;i++)if(l.addlResource[i].id===u){l.addlResource[i].orderNumber=t;break}l.sortArrayByOrderNumber(l.addlResource)}))}},{key:"updateOwnAddlResourceOrder",value:function(){var l=this;this.updateAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#ownContentDragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].id),t=Number(e[1].textContent),i=0;i<l.ownAddlResource.length;i++)if(l.ownAddlResource[i].id===u){l.ownAddlResource[i].orderNumber=t;break}l.sortArrayByOrderNumber(l.ownAddlResource)}))}},{key:"updateAddlResourceWithOrderNumber",value:function(){for(var l=[],n=0;n<this.addlResource.length;n++)l.push({id:this.addlResource[n].id,orderNumber:this.addlResource[n].orderNumber});var e=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===e.checkOrderNumChange&&e.subscribeToUpdateAddlResouceResponse(e.addlResourceService.updateAddlResource(l))}))}},{key:"subscribeToUpdateAddlResouceResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateAddlSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateAddlSuccess",value:function(l){this.pluginService.alertMessage("Additional resource order updated successfully","success"),this.getAddlResourceList(this.lessonId),this.updateGenAction=!0,this.resetFormValues(),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId)}},{key:"updateOwnAddlResourceWithOrderNumber",value:function(){for(var l=[],n=0;n<this.ownAddlResource.length;n++)l.push({id:this.ownAddlResource[n].id,orderNumber:this.ownAddlResource[n].orderNumber});var e=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===e.checkOrderNumChange&&e.subscribeToUpdateOwnAddlResouceResponse(e.addlResourceService.updateOwnAddlResource(l))}))}},{key:"subscribeToUpdateOwnAddlResouceResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateOwnAddlSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateOwnAddlSuccess",value:function(l){this.pluginService.alertMessage("Additional resource order updated successfully","success"),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.updateAction=!0,this.resetFormValues(),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId)}},{key:"toggleTreeNodes",value:function(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}},{key:"closeLessonResourceModalWithOutSaving",value:function(){if("View"===this.modalTitleName)this.closeLessonResourceModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n?(l.checkContentType(),l.closeLessonResourceModal()):l.closeLessonResourceModal()}))}}},{key:"resetLessonResource",value:function(){this.lessonResourceForm.reset(),this.fileName="",this.uploadedFileName="",this.uploadedFilePath="",this.selectedContentType=null,this.selectedCategory=null}},{key:"getEmbedUrl",value:function(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}}]),l}()},YTtD:function(l,n,e){"use strict";e.d(n,"a",(function(){return B}));var u=e("8Y7J"),t=e("IDBn"),i=e("XKba"),s=e("s7LF"),o=e("SVse"),r=e("ZTrc"),c=e("WOoW"),a=e("ICK7"),d=e("97zz"),b=e("psak"),p=e("iInd"),h=e("3ZkO"),g=e("JXEQ"),f=e("H/4C"),m=e("cUpR"),v=e("/+cj"),y=e("IheW"),T=e("hFJU"),C=e("BTcv"),w=e("ustg"),k=e("QHgc"),x=e("aV0t"),E=e("qd05"),M=u.qb({encapsulation:2,styles:[],data:{}});function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","assessmentCategory"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectQuestionCategory(l.context.$implicit.tag)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","complexityLevel"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectComplexityLevel(l.context.$implicit.value)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,12,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","col-xxl-12 d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-18 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question"])),(l()(),u.sb(5,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(8,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(10,671744,[["questionInput",4]],0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(12,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,8,0,e.editorQuestionConfig),l(n,10,0,e.viewModel.Question)}),(function(l,n){l(n,7,0,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[["class","w-100 mb-2 my-2 d-flex"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-choice d-flex align-items-center"]],null,null,null,null,null)),u.Jb(512,null,o.B,o.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,o.k,[o.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["name","answer"]],[[8,"type",0],[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsMCQAnswer(l.context.$implicit.ChoiceId)&&u),u}),null,null)),u.rb(6,540672,null,0,r.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,6,"div",[["class","mcq-question"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(10,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(12,671744,[["questionInput",4]],0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(14,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(15,0,null,null,1,"div",[["class","mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component,u=l(n,4,0,"radio"===e.choiceType,"checkbox"===e.choiceType);l(n,3,0,"mcq-choice d-flex align-items-center",u),l(n,6,0,e.viewModel.Answers,n.context.$implicit.ChoiceId),l(n,10,0,e.editorChoiceConfig),l(n,12,0,n.context.$implicit.ChoiceText)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.choiceType,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,9,0,u.Eb(n,14).ngClassUntouched,u.Eb(n,14).ngClassTouched,u.Eb(n,14).ngClassPristine,u.Eb(n,14).ngClassDirty,u.Eb(n,14).ngClassValid,u.Eb(n,14).ngClassInvalid,u.Eb(n,14).ngClassPending)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Choice"]))],null,null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(3,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"h5",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Choices"])),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(7,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","my-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(16,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.viewModel),l(n,7,0,e.viewModel.Choices),l(n,10,0,"MCQ_TRUE_FALSE"!==e.viewModel.QuestionType),l(n,16,0,e.answers)}),null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(5,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(7,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(8,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteStem(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){l(n,3,0,n.component.editorChoiceConfig),l(n,5,0,n.context.$implicit.ChoiceText)}),(function(l,n){l(n,2,0,u.Eb(n,7).ngClassUntouched,u.Eb(n,7).ngClassTouched,u.Eb(n,7).ngClassPristine,u.Eb(n,7).ngClassDirty,u.Eb(n,7).ngClassValid,u.Eb(n,7).ngClassInvalid,u.Eb(n,7).ngClassPending)}))}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(5,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(7,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(8,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){l(n,3,0,n.component.editorChoiceConfig),l(n,5,0,n.context.$implicit.OptionText)}),(function(l,n){l(n,2,0,u.Eb(n,7).ngClassUntouched,u.Eb(n,7).ngClassTouched,u.Eb(n,7).ngClassPristine,u.Eb(n,7).ngClassDirty,u.Eb(n,7).ngClassValid,u.Eb(n,7).ngClassInvalid,u.Eb(n,7).ngClassPending)}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsMatrixAnswer(l.parent.context.$implicit,l.context.$implicit)&&u),u}),null,null)),u.rb(3,540672,null,0,a.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.viewModel.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(6,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.viewModel.Options)}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,46,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","col-xxl-12 d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-18 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question"])),(l()(),u.sb(5,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(8,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(10,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(12,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(13,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Stems"])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(17,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(18,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(20,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add stem"])),(l()(),u.sb(22,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Options"])),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(26,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(27,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(29,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(31,0,null,null,2,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(34,0,null,null,6,"table",[["class","table-matrix my-2"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(38,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(40,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(41,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(43,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(46,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.editorQuestionConfig),l(n,10,0,e.viewModel.Question),l(n,17,0,e.viewModel.Choices),l(n,26,0,e.viewModel.Options),l(n,38,0,e.viewModel.Options),l(n,40,0,e.viewModel.Choices),l(n,46,0,e.answers)}),(function(l,n){l(n,7,0,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"match-list",[],null,null,null,d.c,d.b)),u.rb(2,8634368,null,0,b.a,[p.a,p.k,h.a,g.a,u.h],{questionResource:[0,"questionResource"]},null)],(function(l,n){l(n,2,0,n.component.viewModel)}),null)}function K(l){return u.Ob(0,[u.Gb(0,f.a,[m.b]),(l()(),u.sb(1,0,null,null,3,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,62,"div",[["id","stepperTab"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"ul",[["id","progressbar"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"li",[["class","active"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"li",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,29,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 1 - Edit question - "])),(l()(),u.sb(15,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(16,null,["",""])),(l()(),u.sb(17,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,12,"div",[["class","col-xxl-12 mx-3"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,5,"div",[["class","form-group mb-2 row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question category"])),(l()(),u.sb(22,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(24,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(25,0,null,null,5,"div",[["class","form-group  row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question complexity level"])),(l()(),u.sb(28,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(32,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(34,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(36,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(37,0,null,null,2,"button",[["class","next btn btn-success float-right"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadQuestionResource()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(39,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,27,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","col-xxl-12 mb-2 alert-warning p-3"]],null,null,null,null,null)),(l()(),u.sb(43,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 2 - Edit solution content - "])),(l()(),u.sb(45,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(46,null,["",""])),(l()(),u.sb(47,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,10,"div",[["class","col-xxl-12 mb-2"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Solution content"])),(l()(),u.sb(51,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.solutionContent=e)&&u),u}),t.b,t.a)),u.rb(52,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(54,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(56,671744,[["questionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(58,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(59,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateQuestion()&&u),u}),null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save question "])),(l()(),u.sb(62,0,null,null,2,"button",[["class","btn btn-danger ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetQuestion()&&u),u}),null,null)),(l()(),u.sb(63,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(65,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],(function(l,n){var e=n.component;l(n,24,0,e.questionCategory),l(n,30,0,e.questionComplexityLevel),l(n,32,0,"MCQ_SINGLE"===e.viewModel.QuestionType||"MCQ_MULTIPLE"===e.viewModel.QuestionType||"MCQ_TRUE_FALSE"===e.viewModel.QuestionType),l(n,34,0,"MCQ_CHOICE_MATRIX"===e.viewModel.QuestionType),l(n,36,0,"MCQ_MATCH_LIST"===e.viewModel.QuestionType),l(n,52,0,!0),l(n,54,0,e.editorQuestionConfig),l(n,56,0,e.solutionContent)}),(function(l,n){var e=n.component;l(n,16,0,e.topicName),l(n,46,0,e.topicName),l(n,51,0,u.Eb(n,52).required?"":null,u.Eb(n,58).ngClassUntouched,u.Eb(n,58).ngClassTouched,u.Eb(n,58).ngClassPristine,u.Eb(n,58).ngClassDirty,u.Eb(n,58).ngClassValid,u.Eb(n,58).ngClassInvalid,u.Eb(n,58).ngClassPending)}))}var B=u.ob("ng-component",C.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,K,M)),u.Jb(512,null,v.a,v.a,[y.c]),u.Jb(512,null,T.a,T.a,[g.a,u.q]),u.rb(3,114688,null,0,C.a,[p.a,p.k,g.a,h.a,v.a,s.e,w.a,k.a,x.a,T.a,E.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},ZTrc:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));var u=function(){function l(n){_classCallCheck(this,l),this.elementRef=n}return _createClass(l,[{key:"ngOnChanges",value:function(l){this.elementRef.nativeElement.removeAttribute("checked"),l.answers&&this.answers.indexOf(this.choiceid)>-1&&this.elementRef.nativeElement.setAttribute("checked","checked")}}]),l}()},fSzn:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("/+cj"),e("JXEQ"),e("3ZkO"),e("ustg"),e("hFJU"),e("qd05");var u=function(){function l(n,e,u,t,i,s,o,r,c){_classCallCheck(this,l),this.activatedRoute=n,this.router=e,this.pluginService=u,this.questionBuilderService=t,this.questionService=i,this.formBuilder=s,this.userLoginService=o,this.localStorageService=r,this.errorHandler=c,this.questionResource={},this.matchList=[],this.answers=[],this.getCurrentRouteInfo()}return _createClass(l,[{key:"getCurrentRouteInfo",value:function(){var l=[];l=this.router.url.split("/"),this.currentRoute=l.pop()}},{key:"ngOnInit",value:function(){var l=this;this.pluginService.sideMenuToggle(),this.activatedRoute.params.subscribe((function(n){l.questionId=n.id,l.questionId=Number(l.activatedRoute.snapshot.params.id),l.questionId&&l.getTopicName(),"topic-question-view"===l.currentRoute?l.getOrgTopicQuestionDetail(l.questionId):"general-topic-question-view"===l.currentRoute&&l.getGeneralTopicQuestionDetail(l.questionId)}))}},{key:"getTopicName",value:function(){var l;l=this.localStorageService.retrieveData("topicDetails"),this.topicName=this.questionId?l.title:""}},{key:"getGeneralTopicQuestionDetail",value:function(l){var n=this;this.questionService.getGeneralTopicQuestionByQuestionId(l).subscribe((function(l){return n.assignQuestionResource(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignQuestionResource",value:function(l){this.loadPreviewQuestion(l)}},{key:"getOrgTopicQuestionDetail",value:function(l){var n=this;this.questionService.getOrgTopicQuestionByQuestionId(l).subscribe((function(l){return n.assignOrgQuestionResource(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignOrgQuestionResource",value:function(l){this.loadPreviewQuestion(l.question)}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"loadPreviewQuestion",value:function(l){var n=this,e=[],u=[],t=[],i=[],s=[];if(this.questionResource=[],this.questionResource=this.questionBuilderService.convertStringToJson(l.contentJson),this.questionType=this.questionResource.QuestionType,this.onChangeOptionType(this.questionType),this.questionResource.Question,"MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){e=this.questionResource.Choices,t=this.questionResource.Answers;for(var o=0;o<e.length;o++)u.push({choiceId:e[o].ChoiceId,choiceText:e[o].ChoiceText});for(var r=function(l){var e=u.find((function(n){return n.choiceId===t[l]})).choiceText;n.answers.push(e),e=""},c=0;c<t.length;c++)r(c)}else if("MCQ_CHOICE_MATRIX"===this.questionType){this.answers=[],t=this.questionResource.Answers,i=this.questionResource.Choices,s=this.questionResource.Options;for(var a=function(l){n.answers.push({choiceName:i.find((function(n){return n.ChoiceId===t[l].ChoiceId})).ChoiceText,optionName:s.find((function(n){return n.OptionId===t[l].OptionId})).OptionText})},d=0;d<t.length;d++)a(d)}else if("MCQ_MATCH_LIST"===this.questionType){this.answers=[],i=[],s=[],t=this.questionResource.Answers,i=this.questionResource.Choices,s=this.questionResource.Options;for(var b=function(l){n.answers.push({choiceName:i.find((function(n){return n.ChoiceId===t[l].ChoiceId})).ChoiceText,optionName:s.find((function(n){return n.OptionId===t[l].OptionId})).OptionText})},p=0;p<t.length;p++)b(p)}}},{key:"onChangeOptionType",value:function(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}},{key:"resetPreviewQuestions",value:function(){this.questionResource=[],this.answers=[]}},{key:"editQuestionRoute",value:function(){"topic-question-view"===this.currentRoute?this.router.navigate(["/lesson-topic",this.questionId,"topic-question-edit"]):"general-topic-question-view"===this.currentRoute&&this.router.navigate(["/general-concept-and-topic",this.questionId,"general-topic-question-edit"])}},{key:"onBack",value:function(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.previousUrl(),l.pluginService.sideMenuToggle())}))}},{key:"previousUrl",value:function(){this.router.navigateByUrl("topic-question-view"===this.currentRoute?"/lesson-topic/topic-question":"general-topic-question-view"===this.currentRoute?"/general-concept-and-topic/general-topic-question":"../")}}]),l}()},gQ5b:function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var u=function l(){_classCallCheck(this,l)},t=function l(n,e){_classCallCheck(this,l),this.ZoneId=n,this.OptionId=e},i=function l(n,e){_classCallCheck(this,l),this.OptionId=n,this.OptionText=e},s=function(){function l(n,e,t){_classCallCheck(this,l),this.router=n,this.activatedRoute=e,this.elementRef=t,this.viewmodel=new u}return _createClass(l,[{key:"ngOnInit",value:function(){this.activatedRoute.snapshot.data.question&&(this.viewmodel=this.activatedRoute.snapshot.data.question,this.resetDropState())}},{key:"ngAfterViewInit",value:function(){$(this.elementRef.nativeElement).find(".drag--container")}},{key:"onDropped",value:function(l){var n=this;$(l.data.dropzone).is(".cloze--dropzone")&&Promise.resolve().then((function(){$(n.elementRef.nativeElement).find(".preview-panel").find(".zone").map((function(l,e){var u=l+1,i="";(e=$(e)).children().length>0&&(i=e.find(".option--item").data("option-id")),n.viewmodel.Answers.push(new t(u,i))}))}))}},{key:"deleteOption",value:function(l){this.viewmodel.Options=this.viewmodel.Options.filter((function(n){return n.OptionId!==l}))}},{key:"addOption",value:function(){this.viewmodel.Options=this.viewmodel.Options||[],this.viewmodel.Options.push(new i((new Date).getUTCMilliseconds(),""))}},{key:"saveQuestion",value:function(){}},{key:"cancel",value:function(){this.router.navigateByUrl("assessment/choose")}},{key:"resetDropState",value:function(){var l=this;Promise.resolve().then((function(){if(l.viewmodel.Answers&&l.viewmodel.Answers.length>0)for(var n=$(l.elementRef.nativeElement),e=n.find(".preview-panel"),u=n.find(".option--container"),t=0;t<l.viewmodel.Answers.length;t++){var i=e.find(".zone:nth-child(".concat(l.viewmodel.Answers[t].ZoneId,")")),s=u.find("[data-option-id='".concat(l.viewmodel.Answers[t].OptionId,"']"));i.append(s).addClass("draggable-dropzone--occupied")}}))}}]),l}()},gfXs:function(l,n,e){"use strict";var u=e("Ncj7");e.d(n,"a",(function(){return u.a})),e.d(n,"b",(function(){return u.b})),e.d(n,"c",(function(){return u.c})),e("ICK7")},gpsc:function(l,n,e){"use strict";e.d(n,"a",(function(){return J}));var u=e("8Y7J"),t=e("MJJn"),i=e("wTG2"),s=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("vX4a"),a=e("/+cj"),d=e("IheW"),b=e("hFJU"),p=e("JXEQ"),h=e("JH4I"),g=e("iInd"),f=e("wy83"),m=e("pyIl"),v=e("BksD"),y=e("+Ok4"),T=e("tmov"),C=u.qb({encapsulation:2,styles:[],data:{}});function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGrade=e)&&t),"change"===n&&(t=!1!==i.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandSubjectNode),l(n,6,0,!0===e.enableExpandSubjectNode)}),null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No topic is mapped "]))],null,null)}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,25,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedTopics(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","General topic name"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,3,"td",[["data-column","New topic name"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,13).onClick()&&t),t}),null,null)),u.rb(13,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,1,"td",[["data-column","Video count"]],null,null,null,null,null)),(l()(),u.Mb(16,null,[" "," "])),(l()(),u.sb(17,0,null,null,1,"td",[["data-column","Question count"]],null,null,null,null,null)),(l()(),u.Mb(18,null,[" "," "])),(l()(),u.sb(19,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(20,null,[" "," "])),(l()(),u.sb(21,0,null,null,4,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,2,"a",[["class","btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit lesson topic name"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,24).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,24).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,24).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,24).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,24).onClick()&&t),"click"===n&&(t=!1!==i.editLessonTopic(l.context.$implicit.id)&&t),t}),null,null)),u.rb(24,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.generalTopicName,"")),l(n,13,0,u.wb(1,"",n.context.$implicit.topicName,"")),l(n,24,0,"Edit lesson topic name")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.generalTopicName),l(n,14,0,n.context.$implicit.topicName),l(n,16,0,n.context.$implicit.topicContentCount),l(n,18,0,n.context.$implicit.questionsCount),l(n,20,0,n.context.$implicit.baseGrade)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedTopic()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mx-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteLessonTopics()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopics()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,21,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,17,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["General topic name"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["New topic name"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Video count"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question count"])),(l()(),u.sb(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(20,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(22,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(24,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,22,0,e.lessonTopicsList,e.trackId),l(n,24,0,e.lessonTopicsList.length>0)}),null)}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","d-flex w-100 justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h4",[["class","font-24 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["",""])),(l()(),u.sb(5,0,null,null,3,"div",[["class","d-flex align-items-start"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,2,"a",[["class","btn btn-primary text-white mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addNewGeneralTopicMapping()&&u),u}),null,null)),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new general topic "])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,10,0,n.component.lessonTopicsList)}),(function(l,n){l(n,4,0,n.component.nodeName)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleGeneralSubjectTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandGSubjectNode),l(n,6,0,!0===e.enableExpandGSubjectNode)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Concept, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic "]))],null,null)}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"td",[["data-column","Select"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["type","checkbox"]],[[8,"name",0],[8,"id",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkNewlyAddedTopics(e)&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(7,null,[" "," "])),(l()(),u.sb(8,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "]))],null,(function(l,n){l(n,2,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+123"),n.context.$implicit.disabled,n.context.$implicit.disabled),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,7,0,n.context.$implicit.data.name),l(n,9,0,n.context.$implicit.data.description),l(n,11,0,n.context.$implicit.data.baseGrade)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.generalSubTopicsList)}),null)}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "])),(l()(),u.sb(5,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"div",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.removeFromNewTopicList(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.data.name),l(n,4,0,n.context.$implicit.data.description),l(n,6,0,n.context.$implicit.data.baseGrade)}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.selectedGeneralSubTopicsList)}),null)}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept name"])),(l()(),u.Mb(5,null,[" - ",""])),(l()(),u.sb(6,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept description"])),(l()(),u.Mb(9,null,[" - ",""])),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex justify-content-end my-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"button",[["class","btn btn-info"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addTopicToList()&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add to list "])),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(17,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,e.generalSubTopicsList),l(n,17,0,e.selectedGeneralSubTopicsList)}),(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,9,0,e.nodeDescription),l(n,13,0,e.addToListAction)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==i.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,81,"div",[["aria-hidden","true"],["aria-labelledby","addNewTopicMappingModal"],["class","modal"],["id","addNewTopicMappingModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,80,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,79,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" Add new general topic mapping - "," "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicMapping()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,66,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(58,0,null,null,50,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,42,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(63,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,65).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGeneralSubjectGrade=e)&&t),"change"===n&&(t=!1!==i.onGeneralSubjectGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(65,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(79,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(80,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(82,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(83,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,19,"ng-select",[["bindLabel","title"],["class","ng-select"],["placeholder","Select general subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,86).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGeneralSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(86,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(100,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(101,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(103,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(104,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(105,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(106,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadGeneralSubjectTree()&&u),u}),null,null)),(l()(),u.sb(107,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(109,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(110,0,null,null,4,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(112,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(113,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(114,0,null,null,0,"div",[["id","generalSubjectTreeView"]],null,null,null,null,null)),(l()(),u.sb(115,0,null,null,8,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(117,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(119,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(121,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(123,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(124,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(125,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicMappingModal()&&u),u}),null,null)),(l()(),u.sb(126,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(128,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveLessonTopicMapping()&&u),u}),null,null)),(l()(),u.sb(129,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "])),(l()(),u.sb(131,0,null,null,42,"div",[["class","modal slideInRight"],["id","editLessonTopicModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(132,0,null,null,41,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(133,0,null,null,40,"div",[["class","modal-content"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,134).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,134).onReset()&&t),t}),null,null)),u.rb(134,540672,null,0,s.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,s.c,null,[s.i]),u.rb(136,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),u.sb(137,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(138,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit lesson topic "])),(l()(),u.sb(140,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicName()&&u),u}),null,null)),(l()(),u.sb(141,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(142,0,null,null,24,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(143,0,null,null,8,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(144,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["General topic name"])),(l()(),u.sb(146,0,null,null,5,"input",[["class","form-control"],["formControlName","generalTopicName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,147)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,147).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,147)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,147)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(147,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(149,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(151,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(152,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(153,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["New topic name"])),(l()(),u.sb(155,0,null,null,9,"input",[["class","form-control"],["formControlName","newTopicName"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter new topic name (minlength: 3 and maxlength: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,156)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,156).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,156)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,156)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,164).onKeyPress(e)&&t),t}),null,null)),u.rb(156,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(157,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(158,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(161,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(163,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(164,16384,null,0,c.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(165,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special character (-) "])),(l()(),u.sb(167,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(168,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetEditLessonTopicModal()&&u),u}),null,null)),(l()(),u.sb(169,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "])),(l()(),u.sb(171,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopicName()&&u),u}),null,null)),(l()(),u.sb(172,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,65,0,"name","Select grade",e.allGrades);var i=e.selectedGeneralSubjectGrade,s=l(n,80,0,!0);l(n,79,0,i,s),l(n,86,0,"title","Select general subject",e.generalSubjectList);var o=e.selectedGeneralSubject,r=l(n,101,0,!0);l(n,100,0,o,r),l(n,112,0,e.generalSubjectTree.length>1),l(n,117,0,e.generalSubjectTree.length>1),l(n,119,0,"root"===e.modalNodeType),l(n,121,0,"concept"===e.modalNodeType),l(n,123,0,"topic"===e.modalNodeType),l(n,134,0,e.lessonTopicForm),l(n,149,0,"generalTopicName"),l(n,157,0,"3"),l(n,158,0,"75"),l(n,161,0,"newTopicName"),l(n,164,0,"alphabetsNumbersWithMinus")}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,54,0,e.nodeName),l(n,63,1,[!u.Eb(n,65).multiple,u.Eb(n,65).typeahead,u.Eb(n,65).multiple,u.Eb(n,65).addTag,u.Eb(n,65).searchable,u.Eb(n,65).clearable,u.Eb(n,65).isOpen,u.Eb(n,65).disabled,u.Eb(n,65).filtered,u.Eb(n,82).ngClassUntouched,u.Eb(n,82).ngClassTouched,u.Eb(n,82).ngClassPristine,u.Eb(n,82).ngClassDirty,u.Eb(n,82).ngClassValid,u.Eb(n,82).ngClassInvalid,u.Eb(n,82).ngClassPending]),l(n,84,1,[!u.Eb(n,86).multiple,u.Eb(n,86).typeahead,u.Eb(n,86).multiple,u.Eb(n,86).addTag,u.Eb(n,86).searchable,u.Eb(n,86).clearable,u.Eb(n,86).isOpen,u.Eb(n,86).disabled,u.Eb(n,86).filtered,u.Eb(n,103).ngClassUntouched,u.Eb(n,103).ngClassTouched,u.Eb(n,103).ngClassPristine,u.Eb(n,103).ngClassDirty,u.Eb(n,103).ngClassValid,u.Eb(n,103).ngClassInvalid,u.Eb(n,103).ngClassPending]),l(n,133,0,u.Eb(n,136).ngClassUntouched,u.Eb(n,136).ngClassTouched,u.Eb(n,136).ngClassPristine,u.Eb(n,136).ngClassDirty,u.Eb(n,136).ngClassValid,u.Eb(n,136).ngClassInvalid,u.Eb(n,136).ngClassPending),l(n,146,0,u.Eb(n,151).ngClassUntouched,u.Eb(n,151).ngClassTouched,u.Eb(n,151).ngClassPristine,u.Eb(n,151).ngClassDirty,u.Eb(n,151).ngClassValid,u.Eb(n,151).ngClassInvalid,u.Eb(n,151).ngClassPending),l(n,155,0,u.Eb(n,157).minlength?u.Eb(n,157).minlength:null,u.Eb(n,158).maxlength?u.Eb(n,158).maxlength:null,u.Eb(n,163).ngClassUntouched,u.Eb(n,163).ngClassTouched,u.Eb(n,163).ngClassPristine,u.Eb(n,163).ngClassDirty,u.Eb(n,163).ngClassValid,u.Eb(n,163).ngClassInvalid,u.Eb(n,163).ngClassPending)}))}var J=u.ob("ng-component",h.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,G,C)),u.Jb(512,null,a.a,a.a,[d.c]),u.Jb(512,null,b.a,b.a,[p.a,u.q]),u.rb(3,4308992,null,0,h.a,[g.k,g.a,f.a,m.a,a.a,v.c,v.f,y.a,p.a,T.a,s.e,b.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},h8Em:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var u=e("IheW"),t=(e("/+cj"),e("ey9i"),e("JXEQ"),e("s7LF")),i=(e("ustg"),e("QHgc"),e("pyIl"),e("GcsT"),e("wy83"),e("BN3N")),s=(e("aV0t"),e("Iab2"));e("hFJU"),e("1kWI");var o=function(){function l(n,e,u,t,i,s,o,r,c,a,d,b,p,h,g,f,m){_classCallCheck(this,l),this._router=n,this.activatedRoute=e,this.subjectService=u,this.curriculumService=t,this.organisationService=i,this.topicContentService=s,this.genearalTopicContentService=o,this.eventManager=r,this.parseLinks=c,this.principalService=a,this.formBuilder=d,this.pluginService=b,this.userLoginService=p,this.commonService=h,this.changeDetectRef=g,this.fileService=f,this.errorHandler=m,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.lessonList=[],this.organisations=[],this.contentDetails={},this.generalTopicContents=[],this.ownTopicContents=[],this.orgGeneralTopicContents=[],this.contentIds=[],this.originDetails=[],this.hostedDetails=[],this.contentType=[],this.contentSource=[],this.selectedFile=null,this.checkContentCE=!1,this.contentPreferenceStatus=!1,this.enableExpandNode=!1,this.validateForm=!0,this.tableAction=!0,this.updateAction=!0,this.checkUrl1=!0}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadCurriculums(),this.createTopicContentForm(),this.getContentType(),this.getContentSource()}},{key:"createTopicContentForm",value:function(){this.topicContentForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),webUrl1:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher1:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl2:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher2:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl3:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher3:new t.f("",[t.y.minLength(3),t.y.maxLength(50)])})}},{key:"loadCurriculums",value:function(){var l=this;this.curriculumService.getCurriculumSearch().subscribe((function(n){return l.assignCurriculumList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignCurriculumList",value:function(l){this.curriculumList=[];for(var n=0;n<l.length;n++)this.curriculumList.push(l[n])}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"getContentType",value:function(){var l=this;this.commonService.getContentTypeList().subscribe((function(n){l.contentType=n}))}},{key:"getContentSource",value:function(){var l=this;this.commonService.getContentSourceList().subscribe((function(n){l.contentSource=n}))}},{key:"ngAfterViewInit",value:function(){this.nodeOnSelection()}},{key:"onCurriculumChange",value:function(){this.selectedCurriculum&&this.generateGradeList(this.selectedCurriculum.gradesApplicableFrom,this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null,this.selectedLesson=null}},{key:"onGradeChange",value:function(){var l=this;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id,this.selectedGrade.id,i.a).subscribe((function(n){return l.assignSubjectList(n.body)}),(function(n){return l.onError(n)})),this.selectedSubject=null,this.selectedLesson=null}},{key:"assignSubjectList",value:function(l){$("#subject").val("").trigger("change"),this.subjectList=[],this.subjectTree=[],this.pluginService.jsTree("#viewTree",this.subjectTree,!1);for(var n=0;n<l.length;n++)this.subjectList.push(l[n])}},{key:"onSubjectChange",value:function(){this.selectedSubject&&this.loadSubjectTree(this.selectedSubject.id),this.selectedLesson=null}},{key:"onActiveWebUrlSelection",value:function(l){!0===l.target.checked&&(this.activeUrl=l.target.id,"webUrl1"===this.activeUrl?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):"webUrl2"===this.activeUrl?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):"webUrl3"===this.activeUrl&&(this.checkUrl3=!0,this.checkUrl1=!1,this.checkUrl2=!1))}},{key:"onVideoFileChanges",value:function(l){var n;this.selectedFile=l[0],n=this.selectedFile.type.split("/"),this.fileType=n[0],this.fileName=this.selectedFile.name,"video"===this.fileType&&this.selectedFile.size>209715200&&this.pluginService.alertMessage("Please upload file size lesser than 200 MB","error")}},{key:"uploadVideoFile",value:function(){var l=this;"No file chosen"!==this.fileName?"video"===this.fileType?this.fileService.getpresignedurls(this.fileName).subscribe((function(n){var e;200===n.status&&(l.uploadedFileName=Object.keys(n.body)[0],l.uploadedFilePath=Object.values(n.body)[0],l.fileName=l.uploadedFileName,l.uploadedFileName&&l.uploadedFilePath)&&(e=l.selectedFile.base64.split(";")[1].split(",")[1],l.fileService.uploadVideoFile(l.uploadedFilePath,e).subscribe((function(n){n instanceof u.j&&(l.showFileAction=!0,l.pluginService.alertMessage("File uploaded successfully","success"))})))})):this.pluginService.alertMessage("Invalid file, it support only Video formats","error"):this.pluginService.alertMessage("Please choose file and upload it","error")}},{key:"onDocumentFileChanges",value:function(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}},{key:"uploadDocumentFile",value:function(){var l=this;if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){var n=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe((function(e){200===e.status&&(l.uploadedFileName=Object.keys(e.body)[0],l.uploadedFilePath=Object.values(e.body)[0],l.fileName=l.uploadedFileName,l.uploadedFileName&&l.uploadedFilePath&&l.fileService.uploadPDFFile(l.uploadedFilePath,n).subscribe((function(n){n instanceof u.j&&(l.showFileAction=!0,l.pluginService.alertMessage("File uploaded successfully","success"))})))}))}else this.pluginService.alertMessage("Invalid file, it support only PDF","error");else this.pluginService.alertMessage("Please choose file and upload it","error")}},{key:"downloadFile",value:function(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}},{key:"subscribeToDownloadResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDownloadSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDownloadSuccess",value:function(l){if(l.body){var n=Object.values(l.body)[0];Object(s.saveAs)(n)}}},{key:"checkContentType",value:function(){this.closeTopicContentModal(),this.selectedContentSource&&"FILE_UPLOAD"===this.selectedContentSource.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}},{key:"deleteUploadedFile",value:function(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}},{key:"subscribeToDeleteFiletResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteFileSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteFileSuccess",value:function(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}},{key:"generateGradeList",value:function(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}},{key:"loadSubjectTree",value:function(l){var n=this;this.subjectService.getSubjectTreeBySubjectId(l).subscribe((function(l){return n.assignSubjectTree(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignSubjectTree",value:function(l){this.lessonList=[],$("#lesson").val("").trigger("change"),this.subjectTree=l,this.lessonList=this.subjectTree.filter((function(l){return"lesson"===l.type})),this.pluginService.jsTree("#viewTree",this.subjectTree,!1)}},{key:"getLessonTopicList",value:function(){var l=this;if(this.selectedLesson){var n=this.selectedLesson.data.id;n?this.topicContentService.getLessonTopicListByLessonId(n).subscribe((function(n){return l.assignLessonTopicsList(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}}},{key:"assignLessonTopicsList",value:function(l){var n=[],e=[];if(l.lessonTopics.length>0){n=l.lessonTopics;for(var u=0;u<n.length;u++)e.push(0===n[u].topicContentCount?{text:n[u].topicName,generalTopicId:n[u].generalTopicId,id:n[u].id,icon:"fa fa-times text-danger"}:{text:n[u].topicName,generalTopicId:n[u].generalTopicId,id:n[u].id})}else this.pluginService.alertMessage("No topics mapped to a lesson","error");this.enableExpandNode=!1,this.pluginService.jsTree("#topicsList",e,!1),this.showContentMapping=!1,this.showTopicHeading=!0}},{key:"trimValue",value:function(l){return null==l?l:l.trim()}},{key:"ngAfterViewChecked",value:function(){this.validateTopicContentForm(),this.changeDetectRef.detectChanges()}},{key:"validateTopicContentForm",value:function(){var l,n,e,u;l=this.trimValue(this.topicContentForm.value.contentTitle),n=this.trimValue(this.topicContentForm.value.webUrl1),e=this.trimValue(this.topicContentForm.value.webUrl2),u=this.trimValue(this.topicContentForm.value.webUrl3),""!==l&&null!=l||(this.validateForm=!0),""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateForm=!0),this.topicContentForm.valid&&(this.validateForm=!1),this.topicContentForm.invalid&&(this.validateForm=!0),!0===this.checkUrl1&&(""!==n&&null!=n||(this.validateForm=!0)),!0===this.checkUrl2&&(""!==e&&null!=e||(this.validateForm=!0)),!0===this.checkUrl3&&(""!==u&&null!=u||(this.validateForm=!0))}},{key:"nodeOnSelection",value:function(){var l=this;$("#topicsList").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.generalTopicId=e.node.original.generalTopicId,l.topicName=e.node.original.text,l.generalTopicContents=[],l.orgGeneralTopicContents=[],l.ownTopicContents=[],l.getTopicContentList(l.generalTopicId),l.getOrgGeneralTopicContentByOrganisationId(l.generalTopicId),l.getOrganisationList(),l.getContentPreference(l.generalTopicId),l.showContentMapping=!0,l.selectedOrganisation=null,l.updateAction=!0,l.tableAction=!0}))}},{key:"getGeneralTopicContentList",value:function(l){var n=this;this.genearalTopicContentService.getTopicContentList(l).subscribe((function(l){return n.assignResponseToGeneralTopicList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToGeneralTopicList",value:function(l){this.generalTopicContents=[],this.generalTopicContents=l.generalTopicContents,this.topicDescription=l.description,this.sortArrayByOrderNumber(this.generalTopicContents),(this.ownTopicContents.length>0||this.generalTopicContents.length>0)&&this.dragTableContent()}},{key:"getTopicContentList",value:function(l){var n=this;this.topicContentService.getTopicContentDetails(l).subscribe((function(l){return n.assignResponseToTopicList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToTopicList",value:function(l){this.ownTopicContents=[],this.topicDescription=l.description,this.ownTopicContents=l.orgGeneralTopicContents,this.sortArrayByOrderNumber(this.ownTopicContents),(this.ownTopicContents.length>0||this.generalTopicContents.length>0)&&this.dragTableContent()}},{key:"getOrgGeneralTopicContentByOrganisationId",value:function(l){var n=this;this.organisationId=this.userLoginService.organisationId,this.topicContentService.getOrgGeneralTopicContentsByOrgId(l,this.organisationId).subscribe((function(l){return n.assignResponseToOrgTopicList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToOrgTopicList",value:function(l){this.orgGeneralTopicContents=[],this.orgGeneralTopicContents=l,this.sortArrayByOrderNumber(this.orgGeneralTopicContents)}},{key:"getOrgTopicContentByOrgId",value:function(){var l=this,n=this.selectedOrganisation.id;n&&this.topicContentService.getOrgGeneralTopicContentsByOrgId(this.generalTopicId,n).subscribe((function(n){return l.assignResponseToOrgTopicContentListByOrgId(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignResponseToOrgTopicContentListByOrgId",value:function(l){this.orgGeneralTopicContents=[],this.orgGeneralTopicContents=l}},{key:"checkContentPreference",value:function(l){var n=l.target.checked,e=l.target.id;!0===n&&"ContentCE"===e?this.contentPreferenceStatus=!1:!0===n&&"OwnContent"===e&&(this.contentPreferenceStatus=!0)}},{key:"saveContentPreference",value:function(){!1===this.contentPreferenceStatus||!0===this.contentPreferenceStatus&&(this.ownTopicContents.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one own topic content and change preference","error"))}},{key:"setContentPreference",value:function(){var l=this;this.topicContentService.setContentPreference(this.contentPreferenceStatus,this.generalTopicId,this.organisationId).subscribe((function(n){return l.onSuccess(n.body)}),(function(n){return l.onError(n)}))}},{key:"onSuccess",value:function(l){this.pluginService.alertMessage("Content preference saved successfully","success")}},{key:"getContentPreference",value:function(l){var n=this;this.topicContentService.getContentPreference(this.userLoginService.organisationId,l).subscribe((function(l){return n.onGetPreferenceSuccess(l.body)}),(function(l){return n.onError(l)}))}},{key:"onGetPreferenceSuccess",value:function(l){""===l||null===l||!1===l?(this.checkContentCE=!0,this.checkOwnContent=!1):!0===l&&(this.checkContentCE=!1,this.checkOwnContent=!0)}},{key:"openSubjectTreeModal",value:function(){this.pluginService.showModalWindow("#viewSubjectTreeModal")}},{key:"closeSubjectTreeModal",value:function(){this.pluginService.hideModalWindow("#viewSubjectTreeModal")}},{key:"getOrganisationList",value:function(){var l=this;this.organisationService.getOrganisations().subscribe((function(n){return l.assignOrgList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignOrgList",value:function(l){this.organisations=l}},{key:"addOwnTopicContent",value:function(){this.modalTitleName="Add",this.openTopicContentModal(),this.resetFormValues(),this.validateForm=!1,this.disableDropdown=!1,this.selectedContentSource=null,this.selectedContentType=null}},{key:"viewCETopicContent",value:function(l){var n;n=this.generalTopicContents.filter((function(n){return n.id===l}))[0],this.modalTitleName="View",this.getContentDetails(n),this.openTopicContentModal()}},{key:"patchCEContentFormfields",value:function(l){this.contentId=l.id,this.topicContentForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description,webUrl1:l.content.url1,publisher1:l.publisher1,webUrl2:l.content.url2,publisher2:l.content.publisher2,webUrl3:l.content.url3,publisher3:l.content.publisher3}),this.selectedContentType=this.contentType.filter((function(n){return n.tag===l.content.contentType}))[0],this.selectedContentSource=this.contentSource.filter((function(n){return n.tag===l.content.contentSource}))[0],l.content.webUrl==l.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):l.content.webUrl==l.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):l.content.webUrl==l.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}},{key:"viewOrgTopicContent",value:function(l){var n;n=this.orgGeneralTopicContents.filter((function(n){return n.id===l}))[0],this.modalTitleName="ViewOrg",this.getOwnContentDetails(n),this.openTopicContentModal()}},{key:"editOwnTopicContent",value:function(l){var n;n=this.ownTopicContents.filter((function(n){return n.id===l}))[0],this.modalTitleName="Edit",this.patchContentFormfields(n),this.openTopicContentModal()}},{key:"viewOwnTopicContent",value:function(l){var n;n=this.ownTopicContents.filter((function(n){return n.id===l}))[0],this.modalTitleName="ViewOrg",this.getOwnContentDetails(n),this.openTopicContentModal()}},{key:"getContentDetails",value:function(l){this.contentDetails=l,this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}},{key:"getOwnContentDetails",value:function(l){this.contentDetails=l,this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}},{key:"patchContentFormfields",value:function(l){this.contentId=l.content.id,this.topicContentForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description,webUrl1:l.content.url1,publisher1:l.content.publisher1,webUrl2:l.content.url2,publisher2:l.content.publisher2,webUrl3:l.content.url3,publisher3:l.content.publisher3}),l.webUrl==l.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):l.webUrl==l.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):l.webUrl==l.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}},{key:"saveTopicContent",value:function(){if(this.topicContentForm.valid){var l=[],n={}.content;(n={}).title=this.trimValue(this.topicContentForm.value.contentTitle),n.description=this.trimValue(this.topicContentForm.value.contentDescription),n.url1=this.trimValue(this.topicContentForm.value.webUrl1),n.url2=this.trimValue(this.topicContentForm.value.webUrl2),n.url3=this.trimValue(this.topicContentForm.value.webUrl3),n.publisher1=this.trimValue(this.topicContentForm.value.publisher1),n.publisher2=this.trimValue(this.topicContentForm.value.publisher2),n.publisher3=this.trimValue(this.topicContentForm.value.publisher3),n.contentType="VIDEO",n.contentSource="WEB_URL",!0===this.checkUrl1?(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1):!0===this.checkUrl2?(n.webUrl=this.getEmbedUrl(n.url2),n.publisher=n.publisher2):!0===this.checkUrl3?(n.webUrl=this.getEmbedUrl(n.url3),n.publisher=n.publisher3):(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1),l.push({organisationId:this.userLoginService.organisationId,generalTopicId:this.generalTopicId,content:n,orderNumber:this.ownTopicContents.length+1}),this.saveTopicContents(l)}this.topicContentForm.invalid&&(this.validateForm=!0)}},{key:"saveTopicContents",value:function(l){this.subscribeToSaveResponse(this.topicContentService.saveOwnTopicContent(l))}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Topic content created successfully","success"),this.resetFormValues(),this.closeTopicContentModal(),this.getTopicContentList(this.generalTopicId)}},{key:"updateTopicContents",value:function(){if(this.topicContentForm.valid){var l={};(l={}).id=this.contentId,l.title=this.trimValue(this.topicContentForm.value.contentTitle),l.description=this.trimValue(this.topicContentForm.value.contentDescription),l.url1=this.trimValue(this.topicContentForm.value.webUrl1),l.url2=this.trimValue(this.topicContentForm.value.webUrl2),l.url3=this.trimValue(this.topicContentForm.value.webUrl3),l.publisher1=this.trimValue(this.topicContentForm.value.publisher1),l.publisher2=this.trimValue(this.topicContentForm.value.publisher2),l.publisher3=this.trimValue(this.topicContentForm.value.publisher3),l.contentType="VIDEO",l.contentSource="WEB_URL",!0===this.checkUrl1?(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=this.getEmbedUrl(l.url2),l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=this.getEmbedUrl(l.url3),l.publisher=l.publisher3):(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1),this.subscribeToUpdateResponse(this.topicContentService.updateContentSource(l))}this.topicContentForm.invalid&&(this.validateForm=!0)}},{key:"subscribeToUpdateResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateSuccess",value:function(l){this.pluginService.alertMessage("Topic content updated successfully","success"),this.resetFormValues(),this.closeTopicContentModal(),this.getTopicContentList(this.generalTopicId)}},{key:"openTopicContentModal",value:function(){this.pluginService.showModalWindow("#topicContentModal")}},{key:"closeTopicContentModal",value:function(){this.pluginService.hideModalWindow("#topicContentModal")}},{key:"resetFormValues",value:function(){this.topicContentForm.reset(),this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}},{key:"dragTableContent",value:function(){var l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateTopicContentOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"updateTopicContentOrder",value:function(){var l=this;this.updateAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].title),t=Number(e[1].textContent),i=0;i<l.ownTopicContents.length;i++)if(l.ownTopicContents[i].id===u){l.ownTopicContents[i].orderNumber=t;break}l.sortArrayByOrderNumber(l.ownTopicContents)}))}},{key:"updateOwnTopicContentsWithOrderNumber",value:function(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===l.checkOrderNumChange&&l.subscribeToUpdateTopicContentResponse(l.topicContentService.updateOwnTopicContents(l.ownTopicContents))}))}},{key:"subscribeToUpdateTopicContentResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateTopicContentSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateTopicContentSuccess",value:function(l){this.pluginService.alertMessage("Topic content order updated successfully","success"),this.getTopicContentList(this.generalTopicId),this.updateAction=!0,this.resetFormValues()}},{key:"resetSelectedOwnTopicContent",value:function(){this.contentIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}},{key:"checkSelectedOwnContents",value:function(l){var n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.contentIds.push(n)):!1===e&&(u=this.contentIds.findIndex((function(l){return l===n})),this.contentIds.splice(u,1)),this.contentIds=this.removeDuplicateElements(this.contentIds),this.contentIds.length<=0&&(this.tableAction=!0)}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"sortArrayByOrderNumber",value:function(l){l.sort((function(l,n){return l.orderNumber>n.orderNumber?1:-1}))}},{key:"deleteOwnTopicContents",value:function(){if(!0===this.contentPreferenceStatus)this.pluginService.alertMessage("Please change your content preference and do delete action, ","error");else{var l=this;swal({title:"Are you sure to delete content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.contentIds.length>0&&l.subscribeToDeleteResponse(l.topicContentService.deleteOwnTopicContents(l.contentIds))}))}}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.tableAction=!0,this.contentIds=[],this.getTopicContentList(this.generalTopicId)}},{key:"toggleTreeNodes",value:function(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#viewTree"):this.pluginService.closeJsTreeAllNodes("#viewTree")}},{key:"resetTopicContent",value:function(){this.resetFormValues()}},{key:"closeTopicContentModalWithOutSaving",value:function(){if("View"===this.modalTitleName||"ViewOrg"===this.modalTitleName)this.closeTopicContentModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicContentModal()}))}}},{key:"getEmbedUrl",value:function(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}},{key:"contentFormControl",get:function(){return this.topicContentForm.controls}}]),l}()},iEt1:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("/+cj"),e("JXEQ"),e("3ZkO"),e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");var t=function(){function l(n,e,u,t,i,s,o,r,c,a,d){_classCallCheck(this,l),this.activatedRoute=n,this.router=e,this.pluginService=u,this.questionBuilderService=t,this.questionService=i,this.formBuilder=s,this.localStorageService=o,this.commonService=r,this.fileService=c,this.changedetector=a,this.errorHandler=d,this.questionResource={},this.questionCategory=[],this.questionComplexityLevel=[],this.answers=[],this.contentSource=[],this.editorSolutionConfig=this.pluginService.getCKEditorQuestionConfig(),this.showSaveQuestion=!1,this.showAddQuestion=!1,this.validateQuestionType=!0}return _createClass(l,[{key:"ngOnInit",value:function(){this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.generalTopicId=Number(this.activatedRoute.snapshot.params.id),this.generalTopicId&&this.getTopicName(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel()}},{key:"getTopicName",value:function(){var l;l=this.localStorageService.retrieveData("topicDetails"),this.topicName=l.id===this.generalTopicId?l.title:""}},{key:"getContentSource",value:function(){var l=this;this.commonService.getContentSourceList().subscribe((function(n){l.contentSource=n}))}},{key:"getQuestionCategory",value:function(){var l=this;this.commonService.getQuestionCategoryList().subscribe((function(n){l.questionCategory=n}))}},{key:"getQuestionComplexityLevel",value:function(){var l=this;this.commonService.getQuestionComplexityLevelList().subscribe((function(n){l.questionComplexityLevel=n}))}},{key:"ngAfterViewChecked",value:function(){this.validateQuestionTypeSelectedOrNot(),this.changedetector.detectChanges()}},{key:"validateQuestionTypeSelectedOrNot",value:function(){var l;l=this.router.url.split("/").pop(),this.validateQuestionType="topic-question-create"===l}},{key:"loadPreviewQuestion",value:function(){var l,n,e=this,u=[],t=[],i=[],s=[];if(this.questionResource=[],this.questionResource.Choices=[],this.questionResource.Options=[],this.questionResource.Answers=[],this.questionResource=[],this.questionResource=this.questionBuilderService.getQuestionResource,this.questionType=this.questionResource.QuestionType,n=this.questionResource.Answers,this.onChangeOptionType(this.questionType),""===(l=this.questionResource.Question)||"undefined"===l);else if(l.length>2&&n.length>0){if("MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){if(this.answers=[],(u=this.questionResource.Choices).length>0){t=[];for(var o=0;o<u.length;o++)t.push({choiceId:u[o].ChoiceId,choiceText:u[o].ChoiceText});for(var r=function(l){var u=t.find((function(e){return e.choiceId===n[l]})).choiceText;e.answers.push(u),u=""},c=0;c<n.length;c++)r(c)}}else if("MCQ_CHOICE_MATRIX"===this.questionType){if(this.answers=[],i=[],s=[],s=this.questionResource.Options,(i=this.questionResource.Choices).length>0&&s.length>0&&n.length>0){this.answers=[];for(var a=function(l){e.answers.push({choiceName:i.find((function(e){return e.ChoiceId===n[l].ChoiceId})).ChoiceText,optionName:s.find((function(e){return e.OptionId===n[l].OptionId})).OptionText})},d=0;d<n.length;d++)a(d)}}else if("MCQ_MATCH_LIST"===this.questionType&&(i=[],s=[],s=this.questionResource.Options,(i=this.questionResource.Choices).length>0&&s.length>0&&n.length>0)){this.answers=[];for(var b=function(l){e.answers.push({choiceName:i.find((function(e){return e.ChoiceId===n[l].ChoiceId})).ChoiceText,optionName:s.find((function(e){return e.OptionId===n[l].OptionId})).OptionText})},p=0;p<n.length;p++)b(p)}this.showSaveQuestion=!0,this.updateQuestionResource()}}},{key:"onContentSource",value:function(l){this.selectedContentSource=l}},{key:"onSelectQuestionCategory",value:function(l){this.category=l}},{key:"onSelectComplexityLevel",value:function(l){this.complexityLevel=l}},{key:"onChangeOptionType",value:function(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}},{key:"resetPreviewQuestions",value:function(){this.questionResource=[],this.answers=[]}},{key:"updateQuestionResource",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=[],e=[],u={},l.t0=(u=this.questionBuilderService.getQuestionResource).Question,!l.t0){l.next=7;break}return this.updatedHTMLDATA=u.Question,l.next=6,this.updateImageSrc(u.Question);case 6:u.Question=this.updatedHTMLDATA;case 7:if(!(u.Choices.length>0)){l.next=18;break}t=0;case 9:if(!(t<u.Choices.length)){l.next=17;break}return this.updatedHTMLDATA=u.Choices[t].ChoiceText,l.next=13,this.updateImageSrc(u.Choices[t].ChoiceText);case 13:n.push({ChoiceText:this.updatedHTMLDATA,ChoiceId:u.Choices[t].ChoiceId});case 14:t++,l.next=9;break;case 17:u.Choices=n;case 18:if(!(u.Options.length>0)){l.next=29;break}i=0;case 20:if(!(i<u.Options.length)){l.next=28;break}return this.updatedHTMLDATA=u.Options[i].OptionText,l.next=24,this.updateImageSrc(u.Options[i].OptionText);case 24:e.push({OptionText:this.updatedHTMLDATA,OptionId:u.Options[i].OptionId});case 25:i++,l.next=20;break;case 28:u.Options=e;case 29:return l.next=31,this.questionBuilderService.generateQuestionResource(u);case 31:case"end":return l.stop()}}),l,this)})))}},{key:"getBase64ImageFromUrl",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(l);case 2:return e=n.sent,n.next=5,e.blob();case 5:return u=n.sent,n.abrupt("return",new Promise((function(l,n){var e=new FileReader;e.addEventListener("load",(function(){l(e.result)}),!1),e.onerror=function(){return n(t)},e.readAsDataURL(u)})));case 7:case"end":return n.stop()}}),n)})))}},{key:"updateImageSrc",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,u,t,i,s,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((u=document.createElement("div")).innerHTML=l,!((e=u.getElementsByTagName("img")).length>0)){n.next=19;break}r=0;case 2:if(!(r<e.length)){n.next=17;break}if(n.t0=""===e[r].alt,!n.t0){n.next=14;break}return i=r,e[r].setAttribute("id","image"+[r]),t=e[r].src,n.next=10,this.getBase64ImageFromUrl(t);case 10:return o=n.sent,n.next=13,this.getAWSFilePath(o,i,u);case 13:s=n.sent;case 14:r++,n.next=2;break;case 17:n.next=20;break;case 19:s=u.innerHTML;case 20:return n.abrupt("return",s);case 21:case"end":return n.stop()}}),n,this)})))}},{key:"getAWSFilePath",value:function(l,n,e){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function u(){var t,i,s,o,r,c,a,d,b=this;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(r=e.getElementsByTagName("img"),s=(t=l.split(","))[0].split(":")[1].split("/")[1].split(";")[0],i=t[1],a=(new Date).getUTCMilliseconds()+"quesImage."+s,!i){u.next=9;break}return u.next=5,this.fileService.getImagePresignedurls(a);case 5:return d=u.sent,(new Map).set(Object.keys(d)[0],Object.values(d)[0]).set(Object.keys(d)[1],Object.values(d)[1]).forEach((function(l,u){if("objectURL"!==u)o=l;else if("objectURL"===u){var t,i=l;t=i.split("/"),c=t[t.length-1],r[n].setAttribute("src",i),r[n].setAttribute("alt",c),b.getImagePathUploadedHTML(e.innerHTML)}})),u.next=9,this.fileService.uploadImagefileAWSS3(o,i);case 9:case"end":return u.stop()}}),u,this)})))}},{key:"getImagePathUploadedHTML",value:function(l){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.updatedHTMLDATA=l;case 1:case"end":return n.stop()}}),n,this)})))}},{key:"saveQuestion",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n,e,u,t,i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t={question:{}},i=[],i=this.localStorageService.retrieveData("userLoginInfo"),l.next=4,this.updateImageSrc(this.solutionContent);case 4:u=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(this.updatedHTMLDATA)):"",t.question.category=this.category?this.category:this.questionCategory[0].tag,t.question.complexityLevel=this.complexityLevel?this.complexityLevel:1,this.organisationId=i[0].organisationId,t.question.marks=(e=this.questionBuilderService.getQuestionResource).TotalMarks*t.question.complexityLevel,n=this.questionBuilderService.convertJsonToString(JSON.stringify(e)),t.question.contentJson=n,t.generalTopicId=this.generalTopicId,t.question.generalTopicId=this.generalTopicId,t.organisationId=this.organisationId,t.question.solutionJson=u,this.subscribeToSaveResponse(this.questionService.saveOwnTopicQuestion(t));case 16:case"end":return l.stop()}}),l,this)})))}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Own topic question created successfully","success"),this.showAddQuestion=!0,this.showSaveQuestion=!1}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"onBack",value:function(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.router.navigateByUrl("/lesson-topic/topic-question"),l.pluginService.sideMenuToggle())}))}},{key:"addQuestion",value:function(){window.location.reload(),this.questionType="",this.showSaveQuestion=!0}}]),l}()},jDI4:function(l,n,e){"use strict";e.d(n,"a",(function(){return _}));var u=e("8Y7J"),t=e("SVse"),i=e("WOoW"),s=e("H/4C"),o=e("cUpR"),r=e("3df2"),c=e("uH8f"),a=e("iInd"),d=e("QHgc"),b=e("IDBn"),p=e("s7LF"),h=e("XKba"),g=e("/+cj"),f=e("IheW"),m=e("hFJU"),v=e("JXEQ"),y=e("iEt1"),T=e("3ZkO"),C=e("qd05"),w=e("aV0t"),k=u.qb({encapsulation:2,styles:[],data:{}});function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","assessmentCategory"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectQuestionCategory(l.context.$implicit.tag)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","complexityLevel"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectComplexityLevel(l.context.$implicit.value)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{ngClass:[0,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,0,"input",[["disabled",""],["name","answer"],["readonly",""]],[[8,"type",0],[8,"id",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(8,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(9,1)],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.type,"checkbox"===e.type);l(n,3,0,t);var i=u.Nb(n,8,0,l(n,9,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,8,0,i)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.type,""),n.context.$implicit.ChoiceId),l(n,6,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.sb(7,0,null,null,2,"div",[["class","row mb-3 p-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(9,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(10,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(15,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,9,0,e.questionResource.Choices),l(n,15,0,e.answers)}),null)}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,""))}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(3,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(6,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.questionResource.Options)}),null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,19,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.sb(7,0,null,null,6,"table",[["class","border-collapse my-2 font-18 p-3"],["style","pointer-events: none"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(11,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(13,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(14,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(19,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,11,0,e.questionResource.Options),l(n,13,0,e.questionResource.Choices),l(n,19,0,e.answers)}),null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(8,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(9,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(14,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,8,0,e.answers),l(n,14,0,e.answers)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success float-right ml-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestion()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save question "]))],null,(function(l,n){l(n,1,0,n.component.showAddQuestion)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-info float-right"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addQuestion()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add one more question "]))],null,null)}function D(l){return u.Ob(0,[u.Gb(0,s.a,[o.b]),(l()(),u.sb(1,0,null,null,3,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,98,"div",[["id","stepperTab"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,7,"ul",[["id","progressbar"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"li",[["class","active"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"li",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,13,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 1 - Select question type - "])),(l()(),u.sb(19,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(20,null,["",""])),(l()(),u.sb(21,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,2,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,1,"pick-question-type",[],null,null,null,r.b,r.a)),u.rb(24,114688,null,0,c.a,[a.k,a.a,d.a],null,null),(l()(),u.sb(25,0,null,null,2,"button",[["class","next btn btn-success float-right"]],[[8,"disabled",0]],null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,29,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(29,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,4,"div",[["class","col-xxl-12 mb-2 alert-warning p-3"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 2 - Build question - "])),(l()(),u.sb(33,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(34,null,["",""])),(l()(),u.sb(35,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,12,"div",[["class","col-xxl-12 mx-3"]],null,null,null,null,null)),(l()(),u.sb(37,0,null,null,5,"div",[["class","form-group mb-2 row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(38,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question category"])),(l()(),u.sb(40,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(42,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(43,0,null,null,5,"div",[["class","form-group  row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(44,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question complexity level"])),(l()(),u.sb(46,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(48,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(49,0,null,null,2,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(50,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),u.rb(51,212992,null,0,a.p,[a.b,u.O,u.j,[8,null],u.h],null,null),(l()(),u.sb(52,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(54,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "])),(l()(),u.sb(58,0,null,null,24,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 3 - Add solution content (Optional) - "])),(l()(),u.sb(63,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(64,null,["",""])),(l()(),u.sb(65,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,10,"div",[["class","col-xxl-12 mb-2"]],null,null,null,null,null)),(l()(),u.sb(67,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Solution content"])),(l()(),u.sb(69,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.solutionContent=e)&&u),u}),b.b,b.a)),u.rb(70,16384,null,0,p.x,[],{required:[0,"required"]},null),u.Jb(1024,null,p.m,(function(l){return[l]}),[p.x]),u.rb(72,4374528,null,0,h.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,p.n,(function(l){return[l]}),[h.a]),u.rb(74,671744,[["questionInput",4]],0,p.s,[[8,null],[6,p.m],[8,null],[6,p.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,p.o,null,[p.s]),u.rb(76,16384,null,0,p.p,[[4,p.o]],null,null),(l()(),u.sb(77,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadPreviewQuestion()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(79,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(80,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "])),(l()(),u.sb(83,0,null,null,20,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(85,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(86,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 4 - Summary - "])),(l()(),u.sb(88,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(89,null,["",""])),(l()(),u.sb(90,0,null,null,6,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(92,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(94,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(96,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(98,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(100,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(101,0,null,null,2,"div",[["class","previous btn btn-danger float-right mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetPreviewQuestions()&&u),u}),null,null)),(l()(),u.sb(102,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],(function(l,n){var e=n.component;l(n,24,0),l(n,42,0,e.questionCategory),l(n,48,0,e.questionComplexityLevel),l(n,51,0),l(n,70,0,!0),l(n,72,0,e.editorSolutionConfig),l(n,74,0,e.solutionContent),l(n,92,0,"MCQ_SINGLE"===e.questionType||"MCQ_MULTIPLE"===e.questionType||"MCQ_TRUE_FALSE"===e.questionType),l(n,94,0,"MCQ_CHOICE_MATRIX"===e.questionType),l(n,96,0,"MCQ_MATCH_LIST"===e.questionType),l(n,98,0,e.showSaveQuestion),l(n,100,0,e.showAddQuestion)}),(function(l,n){var e=n.component;l(n,20,0,e.topicName),l(n,25,0,e.validateQuestionType),l(n,34,0,e.topicName),l(n,64,0,e.topicName),l(n,69,0,u.Eb(n,70).required?"":null,u.Eb(n,76).ngClassUntouched,u.Eb(n,76).ngClassTouched,u.Eb(n,76).ngClassPristine,u.Eb(n,76).ngClassDirty,u.Eb(n,76).ngClassValid,u.Eb(n,76).ngClassInvalid,u.Eb(n,76).ngClassPending),l(n,89,0,e.topicName)}))}var _=u.ob("ng-component",y.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,D,k)),u.Jb(512,null,g.a,g.a,[f.c]),u.Jb(512,null,m.a,m.a,[v.a,u.q]),u.rb(3,8503296,null,0,y.a,[a.a,a.k,v.a,T.a,g.a,p.e,C.a,d.a,w.a,u.h,m.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},lJJ1:function(l,n,e){"use strict";e.d(n,"a",(function(){return b}));var u=e("8Y7J"),t=e("IDBn"),i=e("XKba"),s=e("s7LF"),o=e("TW2f"),r=e("JXEQ"),c=e("9wII"),a=u.qb({encapsulation:2,styles:[],data:{}});function d(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","col-xxl-6"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","d-flex justify-content-between align-item-center mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"div",[["class","font-20 d-flex align-item-center pt-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Paste image here"])),(l()(),u.sb(5,0,null,null,2,"button",[["class","btn btn-primary my-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onImageUpload()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-text-width mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Get text "])),(l()(),u.sb(8,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.dataSource=e)&&u),u}),t.b,t.a)),u.rb(9,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(11,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(13,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(14,0,null,null,13,"div",[["class","col-xxl-6"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,5,"div",[["class","d-flex justify-content-between align-item-center mb-2"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,1,"div",[["class","font-20 d-flex align-item-center pt-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Generated text / formula"])),(l()(),u.sb(18,0,null,null,2,"button",[["class","btn btn-primary mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onCopyFormulaText()&&u),u}),null,null)),(l()(),u.sb(19,0,null,null,0,"i",[["class","fa fa-copy mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Copy text "])),(l()(),u.sb(21,0,null,null,6,"textarea",[["class","form-control mt-3"],["id","generatedCode"],["style","height: 470px !important;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,i=l.component;return"input"===n&&(t=!1!==u.Eb(l,22)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,22)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.generatedFormulaText=e)&&t),t}),null,null)),u.rb(22,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(24,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(26,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.Mb(-1,null,["        "]))],(function(l,n){var e=n.component;l(n,9,0,e.ckEditorMathPix),l(n,11,0,e.dataSource),l(n,24,0,e.generatedFormulaText)}),(function(l,n){l(n,8,0,u.Eb(n,13).ngClassUntouched,u.Eb(n,13).ngClassTouched,u.Eb(n,13).ngClassPristine,u.Eb(n,13).ngClassDirty,u.Eb(n,13).ngClassValid,u.Eb(n,13).ngClassInvalid,u.Eb(n,13).ngClassPending),l(n,21,0,u.Eb(n,26).ngClassUntouched,u.Eb(n,26).ngClassTouched,u.Eb(n,26).ngClassPristine,u.Eb(n,26).ngClassDirty,u.Eb(n,26).ngClassValid,u.Eb(n,26).ngClassInvalid,u.Eb(n,26).ngClassPending)}))}var b=u.ob("ocr",o.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ocr",[],null,null,null,d,a)),u.rb(1,114688,null,0,o.a,[r.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[])},m3gc:function(l,n,e){"use strict";e.d(n,"a",(function(){return sl}));var u=e("8Y7J"),t=e("MJJn"),i=e("wTG2"),s=e("s7LF"),o=e("mnSs"),r=e("SVse"),c=e("vs5s"),a=e("+Ok4"),d=e("vX4a"),b=e("/+cj"),p=e("IheW"),h=e("hFJU"),g=e("JXEQ"),f=e("h8Em"),m=e("iInd"),v=e("pyIl"),y=e("wy83"),T=e("GcsT"),C=e("tWOK"),w=e("BksD"),k=e("ustg"),x=e("QHgc"),E=e("aV0t"),M=u.qb({encapsulation:2,styles:[],data:{}});function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGrade=e)&&t),"change"===n&&(t=!1!==i.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedSubject=e)&&t),"change"===n&&(t=!1!==i.onSubjectChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","text"],["class","ng-select"],["placeholder","Select lesson"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedLesson=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","Select lesson",e.lessonList);var u=e.selectedLesson,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","row d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"h5",[["class","font-20 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson topics"])),(l()(),u.sb(4,0,null,null,10,"div",[["class","col-xxl-9 d-flex justify-content-between flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,5,"div",[["class","badge-lightBlue col-xxl-4 p-2 rounded mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times text-danger ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No content is mapped "])),(l()(),u.sb(11,0,null,null,3,"div",[["class","col-xxl-4 d-flex justify-content-end mb-2 p-0"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "]))],null,null)}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(4,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.topicDescription)}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show active"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,5).onClick()&&t),t}),null,null)),u.rb(5,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Active Web URL"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"a",[["class","btn btn-link text-ellipsis"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,4,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,13).onClick()&&t),"click"===n&&(t=!1!==i.viewOrgTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(13,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null))],(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,13,0,"View content")}),(function(l,n){l(n,2,0,n.context.$implicit.orderNumber),l(n,6,0,n.context.$implicit.content.title),l(n,8,0,u.wb(1,"",n.context.$implicit.content.webUrl,"")),l(n,9,0,n.context.$implicit.content.webUrl)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active Web URL"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(14,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var e=n.component;l(n,14,0,e.orgGeneralTopicContents,e.trackId)}),null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,30,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3 active show"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","col-12 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,"w-100"],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgTopicContentByOrgId()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(30,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralTopicContents)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedOwnContents(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,2,"td",[["data-column","Active Web URL"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,1,"a",[["class","btn btn-link text-ellipsis"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Mb(13,null,[" "," "])),(l()(),u.sb(14,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,17).onClick()&&t),"click"===n&&(t=!1!==i.viewOwnTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(17,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(18,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,2,"a",[["class","btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,20).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,20).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,20).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,20).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,20).onClick()&&t),"click"===n&&(t=!1!==i.editOwnTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(20,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(21,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,17,0,"View content"),l(n,20,0,"Edit content")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+1")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"+1")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.content.title),l(n,12,0,u.wb(1,"",n.context.$implicit.content.webUrl,"")),l(n,13,0,n.context.$implicit.content.webUrl)}))}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedOwnTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnTopicContents()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateOwnTopicContentsWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,15,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active Web URL"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(14,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(16,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(18,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,16,0,e.ownTopicContents,e.trackId),l(n,18,0,e.ownTopicContents.length>0)}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,38,"div",[["class","py-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,37,"div",[["class","d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["Content preference for ",""])),(l()(),u.sb(5,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,0,"input",[["id","ContentCE"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,1,"label",[["for","ContentCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(10,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"input",[["id","OwnContent"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(12,0,null,null,1,"label",[["for","OwnContent"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own content"])),(l()(),u.sb(14,0,null,null,4,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveContentPreference()&&u),u}),null,null)),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(19,0,null,null,19,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,6,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,R)),u.rb(22,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(23,2),(l()(),u.sb(24,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(25,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own content "])),(l()(),u.sb(27,0,null,null,11,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,N)),u.rb(29,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(30,2),(l()(),u.sb(31,0,null,null,7,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOwnTopicContent()&&u),u}),null,null)),(l()(),u.sb(35,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new content "])),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(38,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,23,0,"SYSTEM_ADMIN","MASTER_VIDEO_ADMIN");l(n,22,0,u);var t=l(n,30,0,"SYSTEM_ADMIN","MASTER_VIDEO_ADMIN");l(n,29,0,t),l(n,38,0,e.ownTopicContents)}),(function(l,n){var e=n.component;l(n,4,0,e.topicName),l(n,7,0,e.checkContentCE),l(n,11,0,e.checkOwnContent)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,125,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(4,0,null,null,9,"input",[["class","form-control"],["formControlName","contentTitle"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter content name (min length: 3 and max length: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,5)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,5)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,13).onKeyPress(e)&&t),t}),null,null)),u.rb(5,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(6,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(7,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(10,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(12,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(13,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(14,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and One special character (-) "])),(l()(),u.sb(16,0,null,null,12,"div",[["class"," form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description "])),(l()(),u.sb(19,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["(Optional)"])),(l()(),u.sb(21,0,null,null,5,"textarea",[["class","form-control description-form"],["formControlName","contentDescription"],["placeholder","Enter description (min length: 3 and max length: 250)"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,22)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,22)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(22,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(24,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(26,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(27,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(29,0,null,null,30,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,13,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(33,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl1"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,34)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,34)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(34,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(35,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(36,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(39,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(41,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(43,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(44,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(45,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(47,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher1"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,48)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,48).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,48)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,48)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,53).onKeyPress(e)&&t),t}),null,null)),u.rb(48,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(50,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(52,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(53,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(54,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(56,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,0,"input",[["id","webUrl1"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(58,0,null,null,1,"label",[["for","webUrl1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"])),(l()(),u.sb(60,0,null,null,32,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(64,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" (Optional) "])),(l()(),u.sb(66,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl2"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,67)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,67).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,67)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,67)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(67,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(68,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(69,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(72,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(74,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(75,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(77,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(78,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(80,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher2"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,81)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,81).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,81)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,81)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,86).onKeyPress(e)&&t),t}),null,null)),u.rb(81,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(83,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(85,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(86,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(87,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(89,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(90,0,null,null,0,"input",[["id","webUrl2"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(91,0,null,null,1,"label",[["for","webUrl2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"])),(l()(),u.sb(93,0,null,null,32,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(94,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(95,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(97,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" (Optional) "])),(l()(),u.sb(99,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl3"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,100)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,100).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,100)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,100)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(100,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(101,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(102,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(105,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(107,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(108,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(110,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(111,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(113,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher3"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,114)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,114).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,114)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,114)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,119).onKeyPress(e)&&t),t}),null,null)),u.rb(114,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(116,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(118,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(119,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(120,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(122,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(123,0,null,null,0,"input",[["id","webUrl3"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(124,0,null,null,1,"label",[["for","webUrl3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"]))],(function(l,n){var e=n.component;l(n,6,0,"3"),l(n,7,0,"75"),l(n,10,0,"contentTitle"),l(n,13,0,"alphabetsNumbersWithMinus"),l(n,24,0,"contentDescription"),l(n,35,0,"3"),l(n,36,0,"2048"),l(n,39,0,"webUrl1"),l(n,43,0,"View"!==e.modalTitleName),l(n,50,0,"publisher1"),l(n,53,0,"alphabetsWithSpace"),l(n,68,0,"3"),l(n,69,0,"2048"),l(n,72,0,"webUrl2"),l(n,83,0,"publisher2"),l(n,86,0,"alphabetsWithSpace"),l(n,101,0,"3"),l(n,102,0,"2048"),l(n,105,0,"webUrl3"),l(n,116,0,"publisher3"),l(n,119,0,"alphabetsWithSpace")}),(function(l,n){var e=n.component;l(n,4,0,u.Eb(n,6).minlength?u.Eb(n,6).minlength:null,u.Eb(n,7).maxlength?u.Eb(n,7).maxlength:null,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending),l(n,21,0,u.Eb(n,26).ngClassUntouched,u.Eb(n,26).ngClassTouched,u.Eb(n,26).ngClassPristine,u.Eb(n,26).ngClassDirty,u.Eb(n,26).ngClassValid,u.Eb(n,26).ngClassInvalid,u.Eb(n,26).ngClassPending),l(n,33,0,u.Eb(n,35).minlength?u.Eb(n,35).minlength:null,u.Eb(n,36).maxlength?u.Eb(n,36).maxlength:null,u.Eb(n,41).ngClassUntouched,u.Eb(n,41).ngClassTouched,u.Eb(n,41).ngClassPristine,u.Eb(n,41).ngClassDirty,u.Eb(n,41).ngClassValid,u.Eb(n,41).ngClassInvalid,u.Eb(n,41).ngClassPending),l(n,47,0,u.Eb(n,52).ngClassUntouched,u.Eb(n,52).ngClassTouched,u.Eb(n,52).ngClassPristine,u.Eb(n,52).ngClassDirty,u.Eb(n,52).ngClassValid,u.Eb(n,52).ngClassInvalid,u.Eb(n,52).ngClassPending),l(n,57,0,e.checkUrl1,e.disableUrl),l(n,66,0,u.Eb(n,68).minlength?u.Eb(n,68).minlength:null,u.Eb(n,69).maxlength?u.Eb(n,69).maxlength:null,u.Eb(n,74).ngClassUntouched,u.Eb(n,74).ngClassTouched,u.Eb(n,74).ngClassPristine,u.Eb(n,74).ngClassDirty,u.Eb(n,74).ngClassValid,u.Eb(n,74).ngClassInvalid,u.Eb(n,74).ngClassPending),l(n,80,0,u.Eb(n,85).ngClassUntouched,u.Eb(n,85).ngClassTouched,u.Eb(n,85).ngClassPristine,u.Eb(n,85).ngClassDirty,u.Eb(n,85).ngClassValid,u.Eb(n,85).ngClassInvalid,u.Eb(n,85).ngClassPending),l(n,90,0,e.checkUrl2,e.disableUrl),l(n,99,0,u.Eb(n,101).minlength?u.Eb(n,101).minlength:null,u.Eb(n,102).maxlength?u.Eb(n,102).maxlength:null,u.Eb(n,107).ngClassUntouched,u.Eb(n,107).ngClassTouched,u.Eb(n,107).ngClassPristine,u.Eb(n,107).ngClassDirty,u.Eb(n,107).ngClassValid,u.Eb(n,107).ngClassInvalid,u.Eb(n,107).ngClassPending),l(n,113,0,u.Eb(n,118).ngClassUntouched,u.Eb(n,118).ngClassTouched,u.Eb(n,118).ngClassPristine,u.Eb(n,118).ngClassDirty,u.Eb(n,118).ngClassValid,u.Eb(n,118).ngClassInvalid,u.Eb(n,118).ngClassPending),l(n,123,0,e.checkUrl3,e.disableUrl)}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.contentDetails.content.description)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 1"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 1"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 1"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url1"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url1"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.publisher1),l(n,19,0,e.checkUrl1,!0)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 2"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 2"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 2"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url2"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url2"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url2),l(n,12,0,e.contentDetails.content.publisher2),l(n,19,0,e.checkUrl2,!0)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 3"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 3"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 3"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url3"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url3"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url3),l(n,12,0,e.contentDetails.content.publisher3),l(n,19,0,e.checkUrl3,!0)}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(8,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(10,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(12,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,G)),u.rb(14,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.contentDetails.content.description),l(n,10,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.url2),l(n,14,0,e.contentDetails.content.url3)}),(function(l,n){l(n,6,0,n.component.contentDetails.content.title)}))}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.contentDetails.content.description)}))}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 1"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 1"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 1"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url1"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url1"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.publisher1),l(n,19,0,e.checkUrl1,!0)}))}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 2"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 2"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 2"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url2"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url2"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url2),l(n,12,0,e.contentDetails.content.publisher2),l(n,19,0,e.checkUrl2,!0)}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 3"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 3"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 3"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url3"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url3"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url3),l(n,12,0,e.contentDetails.content.publisher3),l(n,19,0,e.checkUrl3,!0)}))}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(8,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(10,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(12,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(14,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.contentDetails.content.description),l(n,10,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.url2),l(n,14,0,e.contentDetails.content.url3)}),(function(l,n){l(n,6,0,n.component.contentDetails.content.title)}))}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "]))],null,null)}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.validateForm)}))}function ll(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateTopicContents()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.validateForm)}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicContentModal()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],null,null)}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(4,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(6,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,35,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,27,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==i.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(26,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(28,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(30,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getLessonTopicList()&&u),u}),null,null)),(l()(),u.sb(34,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(37,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,1,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,0,"div",[["id","topicsList"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,4,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(43,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(45,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(46,0,null,null,26,"div",[["class","modal slideInRight"],["id","topicContentModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(47,0,null,null,25,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,48).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,48).onReset()&&t),t}),null,null)),u.rb(48,540672,null,0,s.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,s.c,null,[s.i]),u.rb(50,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),u.sb(51,0,null,null,21,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" "," content "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicContentModalWithOutSaving()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(59,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(61,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(63,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(64,0,null,null,8,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(66,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(68,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(70,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(72,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(73,0,null,null,15,"div",[["class","modal slideInRight"],["id","viewSubjectTreeModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(74,0,null,null,14,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(75,0,null,null,13,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(76,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "])),(l()(),u.sb(79,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(80,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(83,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(84,0,null,null,0,"div",[["id","viewTree"]],null,null,null,null,null)),(l()(),u.sb(85,0,null,null,3,"div",[["class","modal-footer d-flex justify-content-end align-items-start"]],null,null,null,null,null)),(l()(),u.sb(86,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(87,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,30,0,e.selectedSubject),l(n,37,0,e.showTopicHeading),l(n,43,0,e.topicDescription),l(n,45,0,e.showContentMapping),l(n,48,0,e.topicContentForm),l(n,59,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,61,0,"View"===e.modalTitleName),l(n,63,0,"ViewOrg"===e.modalTitleName),l(n,66,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,68,0,"Add"===e.modalTitleName),l(n,70,0,"Edit"===e.modalTitleName),l(n,72,0,"View"===e.modalTitleName||"ViewOrg"===e.modalTitleName),l(n,83,0,e.subjectTree.length>1)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,47,0,u.Eb(n,50).ngClassUntouched,u.Eb(n,50).ngClassTouched,u.Eb(n,50).ngClassPristine,u.Eb(n,50).ngClassDirty,u.Eb(n,50).ngClassValid,u.Eb(n,50).ngClassInvalid,u.Eb(n,50).ngClassPending),l(n,54,0,e.modalTitleName)}))}var sl=u.ob("ng-component",f.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,il,M)),u.Jb(512,null,b.a,b.a,[p.c]),u.Jb(512,null,h.a,h.a,[g.a,u.q]),u.rb(3,12697600,null,0,f.a,[m.k,m.a,v.a,y.a,T.a,b.a,C.a,w.c,w.f,a.a,s.e,g.a,k.a,x.a,u.h,E.a,h.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},mfxa:function(l,n,e){"use strict";e.d(n,"a",(function(){return yl}));var u=e("8Y7J"),t=e("MJJn"),i=e("wTG2"),s=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("vs5s"),a=e("+Ok4"),d=e("vX4a"),b=e("/+cj"),p=e("IheW"),h=e("hFJU"),g=e("JXEQ"),f=e("XMAV"),m=e("iInd"),v=e("wy83"),y=e("pyIl"),T=e("GcsT"),C=e("BksD"),w=e("ustg"),k=e("QHgc"),x=e("aV0t"),E=u.qb({encapsulation:2,styles:[],data:{}});function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedGrade=e)&&t),"change"===n&&(t=!1!==i.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(3,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(17,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(20,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times text-danger ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No resource is mapped "]))],null,null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addAddlessonResources()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new study material "]))],null,null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Select"]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[["data-column","Select"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedContents(e)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,u.wb(1,"",n.parent.context.$implicit.id,"")),l(n,2,0,u.wb(1,"",n.parent.context.$implicit.id,""),u.wb(1,"",n.parent.context.$implicit.id,"2")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.id,"2"))}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class","btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,1).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,1).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,1).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,1).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,1).onClick()&&t),"click"===n&&(t=!1!==i.editAddlResource(l.parent.context.$implicit.id)&&t),t}),null,null)),u.rb(1,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,1,0,"Edit study material")}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,U)),u.rb(2,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(3,2),(l()(),u.sb(4,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(5,null,[" "," "])),(l()(),u.sb(6,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,8).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,8).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,8).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,8).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,8).onClick()&&t),t}),null,null)),u.rb(8,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "])),(l()(),u.sb(12,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(13,null,[" "," "])),(l()(),u.sb(14,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,17).onClick()&&t),"click"===n&&(t=!1!==i.viewAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(17,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(18,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,F)),u.rb(20,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(21,2)],(function(l,n){var e=l(n,3,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,2,0,e),l(n,8,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,17,0,"View study material");var t=l(n,21,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,20,0,t)}),(function(l,n){l(n,5,0,n.context.$implicit.orderNumber),l(n,9,0,n.context.$implicit.content.title),l(n,11,0,n.context.$implicit.content.tag),l(n,13,0,n.context.$implicit.content.contentType)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteAddlResource()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateAddlResourceWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableGenAction),l(n,4,0,e.tableGenAction),l(n,7,0,e.updateGenAction)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.addlResource.length>0)}),null)}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,18,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,14,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,q)),u.rb(5,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(6,2),(l()(),u.sb(7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(17,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(19,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,2,null,P)),u.rb(21,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(22,2)],(function(l,n){var e=n.component,u=l(n,6,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,5,0,u),l(n,19,0,e.addlResource,e.trackId);var t=l(n,22,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,21,0,t)}),null)}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,5).onClick()&&t),t}),null,null)),u.rb(5,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(8,null,[" "," "])),(l()(),u.sb(9,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,4,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,14).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,14).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,14).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,14).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,14).onClick()&&t),"click"===n&&(t=!1!==i.viewOrgAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(14,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(15,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null))],(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,14,0,"View study material")}),(function(l,n){l(n,2,0,n.context.$implicit.orderNumber),l(n,6,0,n.context.$implicit.content.title),l(n,8,0,n.context.$implicit.content.tag),l(n,10,0,n.context.$implicit.content.contentType)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,15,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(14,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(16,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var e=n.component;l(n,16,0,e.orgGeneralAddlResource,e.trackId)}),null)}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,30,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","col-12 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,"w-100"],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgGeneralAddlResourceByOrganisation()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(30,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralAddlResource)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,22,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAllOwnContents"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedOwnContents(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(12,null,[" "," "])),(l()(),u.sb(13,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,18).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,18).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,18).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,18).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,18).onClick()&&t),"click"===n&&(t=!1!==i.viewOwnAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(18,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(19,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,2,"a",[["class","btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,i=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,21).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,21).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,21).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,21).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,21).onClick()&&t),"click"===n&&(t=!1!==i.editOwnAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(21,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(22,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,18,0,"View study material"),l(n,21,0,"Edit study material")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"1")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"1")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.content.title),l(n,12,0,n.context.$implicit.content.tag),l(n,14,0,n.context.$implicit.content.contentType)}))}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateOwnAddlResourceWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","ownContentDragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(16,0,null,null,2,"tbody",[["id","ownContentDragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(18,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(20,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,18,0,e.ownAddlResource,e.trackId),l(n,20,0,e.ownAddlResource.length>0)}),null)}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,53,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson objective"])),(l()(),u.sb(5,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,46,"div",[["class","d-flex w-100 justify-content-between mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(10,null,["Study material preference for ",""])),(l()(),u.sb(11,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"input",[["id","ContentCE"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,1,"label",[["for","ContentCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(16,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,0,"input",[["id","OwnContent"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(18,0,null,null,1,"label",[["for","OwnContent"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own study material"])),(l()(),u.sb(20,0,null,null,4,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveContentPreference()&&u),u}),null,null)),(l()(),u.sb(23,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(25,0,null,null,28,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,9,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,1,"a",[["aria-controls","home"],["aria-selected","false"],["class","nav-link show active"],["data-toggle","tab"],["href","#home"],["id","home-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default "])),(l()(),u.ib(16777216,null,null,2,null,j)),u.rb(31,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(32,2),(l()(),u.sb(33,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own study material "])),(l()(),u.sb(36,0,null,null,17,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.sb(37,0,null,null,5,"div",[["aria-labelledby","home-tab"],["class","tab-pane fade py-3 active show"],["id","home"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,N)),u.rb(39,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(40,2),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,2,null,G)),u.rb(44,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(45,2),(l()(),u.sb(46,0,null,null,7,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(47,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOwnAddlResources()&&u),u}),null,null)),(l()(),u.sb(50,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new resources "])),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(53,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,32,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,31,0,u);var t=l(n,40,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,39,0,t),l(n,42,0,e.addlResource);var i=l(n,45,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,44,0,i),l(n,53,0,e.ownAddlResource)}),(function(l,n){var e=n.component;l(n,6,0,e.nodeDescription),l(n,10,0,e.nodeName),l(n,13,0,e.checkContentCE),l(n,17,0,e.checkOwnContent)}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and One special character (-) "]))],null,null)}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["(Optional)"]))],null,null)}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function ll(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(3,0,null,null,8,"input",[["class","form-control"],["formControlName","webSource"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url(min length: 3 and max length: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,4)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,4)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(4,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(5,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(6,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(9,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(11,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(13,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,5,0,"3"),l(n,6,0,"2048"),l(n,9,0,"webSource"),l(n,13,0,"View"!==e.modalTitleName)}),(function(l,n){l(n,3,0,u.Eb(n,5).minlength?u.Eb(n,5).minlength:null,u.Eb(n,6).maxlength?u.Eb(n,6).maxlength:null,u.Eb(n,11).ngClassUntouched,u.Eb(n,11).ngClassTouched,u.Eb(n,11).ngClassPristine,u.Eb(n,11).ngClassDirty,u.Eb(n,11).ngClassValid,u.Eb(n,11).ngClassInvalid,u.Eb(n,11).ngClassPending)}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","custom-file"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["id","documentFile"],["type","file"]],null,[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.onDocumentFileChanges(e)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,2,"label",[["class","custom-file-label"],["for","documentFile"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "]))],null,(function(l,n){l(n,4,0,n.component.fileName)}))}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class"," d-flex w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Only PDF will allow Max file size - 100 MB "]))],null,null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"button",[["class","btn btn-warning mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.uploadDocumentFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-upload mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Upload file "]))],null,null)}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.uploadedFileName&&!e.uploadedFilePath)}),null)}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.downloadFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-download mr-2"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[""," "]))],null,(function(l,n){l(n,2,0,n.component.uploadedFileName)}))}function sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class"," btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteUploadedFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete file "]))],null,null)}function ol(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,sl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.uploadedFileName)}),null)}function rl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,il)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ol)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.uploadedFileName),l(n,4,0,"View"!==e.modalTitleName)}),null)}function cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["File "])),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(7,0,null,null,4,"div",[["class","d-flex w-100 my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(9,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,rl)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"View"!==e.modalTitleName),l(n,6,0,"View"!==e.modalTitleName),l(n,9,0,"View"!==e.modalTitleName),l(n,11,0,e.showFileAction)}),null)}function al(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,cl)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"VIDEO"===e.selectedContentType.tag),l(n,4,0,"DOCUMENT"===e.selectedContentType.tag)}),null)}function dl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetLessonResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "]))],null,null)}function bl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function pl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function hl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,pl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"Add"===n.component.modalTitleName)}),null)}function gl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function fl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,gl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"Add"===n.component.modalTitleName)}),null)}function ml(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeLessonResourceModal()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],null,null)}function vl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"],["id","curriculumDropdown"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==i.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(7,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,null,0,s.s,[[8,null],[8,null],[8,null],[6,s.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(24,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-2 py-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,101,"div",[["class","modal slideInRight"],["id","additionalResourceModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,100,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,51).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,51).onReset()&&t),t}),null,null)),u.rb(51,540672,null,0,s.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,s.c,null,[s.i]),u.rb(53,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),u.sb(54,0,null,null,96,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(57,null,[" "," study material "])),(l()(),u.sb(58,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeLessonResourceModalWithOutSaving()&&u),u}),null,null)),(l()(),u.sb(59,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,79,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(64,0,null,null,9,"input",[["class","form-control"],["formControlName","contentTitle"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter content name (min length: 3 and max length: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,65)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,65).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,65)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,65)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,73).onKeyPress(e)&&t),t}),null,null)),u.rb(65,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(66,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(67,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(70,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(72,16384,null,0,s.p,[[4,s.o]],null,null),u.rb(73,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(75,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(76,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description "])),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(80,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(81,0,null,null,8,"textarea",[["class","form-control description-form"],["formControlName","contentDescription"],["maxlength","250"],["minlength","3"],["placeholder","Enter description (min length: 3 and max length: 250)"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,82)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,82).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,82)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,82)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(82,16384,null,0,s.d,[u.D,u.k,[2,s.a]],null,null),u.rb(83,540672,null,0,s.l,[],{minlength:[0,"minlength"]},null),u.rb(84,540672,null,0,s.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,s.m,(function(l,n){return[l,n]}),[s.l,s.k]),u.Jb(1024,null,s.n,(function(l){return[l]}),[s.d]),u.rb(87,671744,null,0,s.h,[[3,s.c],[6,s.m],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"]},null),u.Jb(2048,null,s.o,null,[s.h]),u.rb(89,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(91,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(92,0,null,null,22,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(93,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category "])),(l()(),u.sb(95,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["formControlName","resourceCategory"],["placeholder","Select resource category"],["role","listbox"]],[[8,"ngModelOptions",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,97).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedCategory=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(97,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(111,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.h]),u.rb(113,16384,null,0,s.p,[[4,s.o]],null,null),u.Hb(114,{standalone:0}),(l()(),u.sb(115,0,null,null,22,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(116,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type "])),(l()(),u.sb(118,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["formControlName","contentType"],["placeholder","Select content type"],["role","listbox"]],[[8,"ngModelOptions",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,i=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,120).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(i.selectedContentType=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,i.f,i.f,[]),u.rb(120,4964352,null,12,i.a,[[8,null],[8,null],i.b,i.d,u.k,u.h,i.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],searchable:[2,"searchable"],items:[3,"items"]},null),u.Kb(603979776,61,{optionTemplate:0}),u.Kb(603979776,62,{optgroupTemplate:0}),u.Kb(603979776,63,{labelTemplate:0}),u.Kb(603979776,64,{multiLabelTemplate:0}),u.Kb(603979776,65,{headerTemplate:0}),u.Kb(603979776,66,{footerTemplate:0}),u.Kb(603979776,67,{notFoundTemplate:0}),u.Kb(603979776,68,{typeToSearchTemplate:0}),u.Kb(603979776,69,{loadingTextTemplate:0}),u.Kb(603979776,70,{tagTemplate:0}),u.Kb(603979776,71,{loadingSpinnerTemplate:0}),u.Kb(603979776,72,{ngOptions:1}),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(134,671744,null,0,s.h,[[3,s.c],[8,null],[8,null],[6,s.n],[2,s.B]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.h]),u.rb(136,16384,null,0,s.p,[[4,s.o]],null,null),u.Hb(137,{standalone:0}),(l()(),u.ib(16777216,null,null,1,null,al)),u.rb(139,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(140,0,null,null,10,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,dl)),u.rb(142,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,bl)),u.rb(144,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,hl)),u.rb(146,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,fl)),u.rb(148,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ml)),u.rb(150,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,51,0,e.lessonResourceForm),l(n,66,0,"3"),l(n,67,0,"75"),l(n,70,0,"contentTitle"),l(n,73,0,"alphabetsNumbersWithMinus"),l(n,75,0,"View"!==e.modalTitleName),l(n,80,0,"View"!==e.modalTitleName),l(n,83,0,"3"),l(n,84,0,"250"),l(n,87,0,"contentDescription"),l(n,91,0,"View"!==e.modalTitleName),l(n,97,0,"name","Select resource category",e.resourceCategory),l(n,111,0,"resourceCategory",e.disableDropdown,e.selectedCategory),l(n,120,0,"name","Select content type",!1,e.contentType),l(n,134,0,"contentType",e.disableDropdown,e.selectedContentType),l(n,139,0,e.selectedContentType),l(n,142,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,144,0,"Edit"===e.modalTitleName),l(n,146,0,"AddlResource"===e.modalActionName),l(n,148,0,"OwnAddlResource"===e.modalActionName),l(n,150,0,"View"===e.modalTitleName)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,50,0,u.Eb(n,53).ngClassUntouched,u.Eb(n,53).ngClassTouched,u.Eb(n,53).ngClassPristine,u.Eb(n,53).ngClassDirty,u.Eb(n,53).ngClassValid,u.Eb(n,53).ngClassInvalid,u.Eb(n,53).ngClassPending),l(n,57,0,e.modalTitleName),l(n,64,0,u.Eb(n,66).minlength?u.Eb(n,66).minlength:null,u.Eb(n,67).maxlength?u.Eb(n,67).maxlength:null,u.Eb(n,72).ngClassUntouched,u.Eb(n,72).ngClassTouched,u.Eb(n,72).ngClassPristine,u.Eb(n,72).ngClassDirty,u.Eb(n,72).ngClassValid,u.Eb(n,72).ngClassInvalid,u.Eb(n,72).ngClassPending),l(n,81,0,u.Eb(n,83).minlength?u.Eb(n,83).minlength:null,u.Eb(n,84).maxlength?u.Eb(n,84).maxlength:null,u.Eb(n,89).ngClassUntouched,u.Eb(n,89).ngClassTouched,u.Eb(n,89).ngClassPristine,u.Eb(n,89).ngClassDirty,u.Eb(n,89).ngClassValid,u.Eb(n,89).ngClassInvalid,u.Eb(n,89).ngClassPending);var t=l(n,114,0,!0);l(n,95,1,[t,!u.Eb(n,97).multiple,u.Eb(n,97).typeahead,u.Eb(n,97).multiple,u.Eb(n,97).addTag,u.Eb(n,97).searchable,u.Eb(n,97).clearable,u.Eb(n,97).isOpen,u.Eb(n,97).disabled,u.Eb(n,97).filtered,u.Eb(n,113).ngClassUntouched,u.Eb(n,113).ngClassTouched,u.Eb(n,113).ngClassPristine,u.Eb(n,113).ngClassDirty,u.Eb(n,113).ngClassValid,u.Eb(n,113).ngClassInvalid,u.Eb(n,113).ngClassPending]);var i=l(n,137,0,!0);l(n,118,1,[i,!u.Eb(n,120).multiple,u.Eb(n,120).typeahead,u.Eb(n,120).multiple,u.Eb(n,120).addTag,u.Eb(n,120).searchable,u.Eb(n,120).clearable,u.Eb(n,120).isOpen,u.Eb(n,120).disabled,u.Eb(n,120).filtered,u.Eb(n,136).ngClassUntouched,u.Eb(n,136).ngClassTouched,u.Eb(n,136).ngClassPristine,u.Eb(n,136).ngClassDirty,u.Eb(n,136).ngClassValid,u.Eb(n,136).ngClassInvalid,u.Eb(n,136).ngClassPending])}))}var yl=u.ob("ng-component",f.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,vl,E)),u.Jb(512,null,b.a,b.a,[p.c]),u.Jb(512,null,h.a,h.a,[g.a,u.q]),u.rb(3,12697600,null,0,f.a,[m.k,m.a,b.a,v.a,y.a,T.a,C.c,C.f,a.a,g.a,s.e,w.a,k.a,u.h,x.a,h.a],null,null)],(function(l,n){l(n,3,0)}),null)}),{},{},[])},psak:function(l,n,e){"use strict";e.d(n,"a",(function(){return o})),e("3ZkO");var u=e("Mc5n");e("JXEQ");var t=function l(){_classCallCheck(this,l),this.Choices=[],this.Options=[],this.Answers=[]},i=function l(n,e){_classCallCheck(this,l),this.ChoiceId=n,this.ChoiceText=e},s=function l(n,e){_classCallCheck(this,l),this.OptionId=n,this.OptionText=e},o=function(){function l(n,e,u,i,s){var o=this;_classCallCheck(this,l),this.route=n,this.router=e,this.questionService=u,this.pluginService=i,this.changedetector=s,this.answers=[],this.questionResource={},this.checkDrag=!1,this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.viewModel=new t,this.route.data.subscribe((function(l){"MCQ_MATCH_LIST"===l.type&&(o.viewModel.QuestionType=l.type)}))}return _createClass(l,[{key:"ngOnInit",value:function(){this.route.snapshot.data.question&&(this.viewModel=this.route.snapshot.data.question),this.getCurrentRouteInfo()}},{key:"getCurrentRouteInfo",value:function(){var l;"topic-question-edit"!==(l=this.router.url.split("/").pop())&&"general-topic-question-edit"!==l||(this.viewModel=this.questionResource,this.showMatchListAnswers(),this.checkDrag=!0)}},{key:"updatedDropList",value:function(l){if(l.previousContainer===l.container){Object(u.i)(l.container.data,l.previousIndex,l.currentIndex),this.viewModel.Answers=[];for(var n=0;n<this.viewModel.Choices.length;n++)for(var e=0;e<this.viewModel.Options.length;e++)n===e&&(this.viewModel.Answers.push({ChoiceId:this.viewModel.Choices[n].ChoiceId,OptionId:this.viewModel.Options[e].OptionId}),this.showMatchListAnswers());this.viewModel.TotalMarks=this.viewModel.Answers.length}}},{key:"showMatchListAnswers",value:function(){var l,n=this,e=[],u=[];this.answers=[],e=[],u=[],l=this.viewModel.Answers,e=this.viewModel.Choices,u=this.viewModel.Options;for(var t=function(t){n.answers.push({choiceName:e.find((function(n){return n.ChoiceId===l[t].ChoiceId})).ChoiceText,optionName:u.find((function(n){return n.OptionId===l[t].OptionId})).OptionText})},i=0;i<l.length;i++)t(i);this.checkDrag=!1}},{key:"addChoice",value:function(){this.viewModel.Choices.length>0?this.viewModel.Choices=[].concat(_toConsumableArray(this.viewModel.Choices),[new i((new Date).getUTCMilliseconds(),"")]):0===this.viewModel.Choices.length?(this.viewModel.Choices=[],this.viewModel.Choices=[].concat(_toConsumableArray(this.viewModel.Choices),[new i((new Date).getUTCMilliseconds(),"")])):this.viewModel.Choices=[]}},{key:"addOption",value:function(){this.viewModel.Options=this.viewModel.Options.length>0?[].concat(_toConsumableArray(this.viewModel.Options),[new s((new Date).getUTCMilliseconds(),"")]):0===this.viewModel.Options.length?[].concat(_toConsumableArray(this.viewModel.Options),[new s((new Date).getUTCMilliseconds(),"")]):[]}},{key:"deleteChoice",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{var n=this.viewModel.Choices.findIndex((function(n){return n.ChoiceId===l}));this.viewModel.Choices.splice(n,1)}}},{key:"deleteOption",value:function(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{var n=this.viewModel.Options.findIndex((function(n){return n.OptionId===l}));this.viewModel.Options.splice(n,1)}}},{key:"ngAfterViewChecked",value:function(){this.viewModel&&(this.questionService.generateQuestionResource(this.viewModel),this.showMatchListAnswers()),this.changedetector.detectChanges()}},{key:"ngOnDestroy",value:function(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.Options=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}]),l}()},pyIl:function(l,n,e){"use strict";e.d(n,"a",(function(){return c}));var u=e("IheW"),t=e("AytR"),i=e("BN3N"),s=e("EBJu"),o=e("8Y7J"),r=new u.h;r=r.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");var c=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.subjectResourceUrl=t.a.API_URL+s.j,this.subjectResourceUrlSearch=t.a.API_URL+s.k,this.subjectResourceUrlWithTree=t.a.API_URL+s.l}return _createClass(l,[{key:"getSubjectBySubjectId",value:function(l){return this.http.get("".concat(this.subjectResourceUrl,"/").concat(l),{observe:"response"})}},{key:"updateSubjectStatus",value:function(l){return this.http.put(this.subjectResourceUrl,l,{observe:"response"})}},{key:"delete",value:function(l){return this.http.delete("".concat(this.subjectResourceUrl,"/").concat(l),{observe:"response"})}},{key:"saveSubject",value:function(l){return this.http.post(this.subjectResourceUrlWithTree,l,{headers:r,observe:"response"})}},{key:"getSubjectByCurriculumIdAndGradeId",value:function(l,n,e){return this.http.post(this.subjectResourceUrlSearch,e===i.a?{curriculumId:l,grade:n,status:e}:{curriculumId:l,grade:n},{observe:"response"})}},{key:"getSubjectTreeBySubjectId",value:function(l){return this.http.get("".concat(this.subjectResourceUrlWithTree,"/").concat(l),{observe:"response"})}}]),l}();return l.ngInjectableDef=o.Sb({factory:function(){return new l(o.Tb(u.c))},token:l,providedIn:"root"}),l}()},roRw:function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e("/+cj"),e("ey9i"),e("JXEQ"),e("ustg"),e("3ZkO"),e("pyIl"),e("GcsT"),e("wy83");var u=e("BN3N"),t=e("Mc5n");e("hFJU"),e("1kWI");var i=function(){function l(n,e,u,t,i,s,o,r,c,a,d,b,p,h){_classCallCheck(this,l),this._router=n,this.activatedRoute=e,this.curriculumService=u,this.organisationService=t,this.subjectService=i,this.topicQuestionService=s,this.generalTopicQuestionService=o,this.eventManager=r,this.parseLinks=c,this.principalService=a,this.pluginService=d,this.userLoginService=b,this.errorHandler=p,this.questionBuilderService=h,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.lessonList=[],this.organisations=[],this.generalTopicQuestions=[],this.ownTopicQuestions=[],this.orgGeneralTopicQuestions=[],this.topicQuestions=[],this.ownTopicQuestionResources=[],this.orgTopicQuestionResources=[],this.generalTopicQuestionResources=[],this.selectedAnswer=[],this.enableExpandNode=!1,this.tableAction=!0}return _createClass(l,[{key:"ngOnInit",value:function(){this.checkQuestionCE=!1,this.enableExpandNode=!1,this.questionPreferenceStatus=!1,this.loadCurriculums()}},{key:"loadCurriculums",value:function(){var l=this;this.curriculumService.getCurriculumSearch().subscribe((function(n){return l.assignCurriculumList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignCurriculumList",value:function(l){this.curriculumList=[];for(var n=0;n<l.length;n++)this.curriculumList.push(l[n])}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"ngAfterViewInit",value:function(){this.nodeOnSelected()}},{key:"onCurriculumChange",value:function(){this.selectedCurriculum&&this.generateGradeList(this.selectedCurriculum.gradesApplicableFrom,this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null,this.selectedLesson=null}},{key:"onGradeChange",value:function(){var l=this;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id,this.selectedGrade.id,u.a).subscribe((function(n){return l.assignSubjectList(n.body)}),(function(n){return l.onError(n)})),this.selectedSubject=null,this.selectedLesson=null}},{key:"onSubjectChange",value:function(){this.selectedSubject&&this.loadSubjectTree(this.selectedSubject.id),this.selectedLesson=null}},{key:"assignSubjectList",value:function(l){this.subjectList=[],this.subjectTree=[],this.pluginService.jsTree("#viewSubjectTree",this.subjectTree,!1);for(var n=0;n<l.length;n++)this.subjectList.push(l[n])}},{key:"generateGradeList",value:function(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}},{key:"loadSubjectTree",value:function(l){var n=this;this.subjectService.getSubjectTreeBySubjectId(l).subscribe((function(l){return n.assignSubjectTree(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignSubjectTree",value:function(l){this.lessonList=[],$("#lesson").val("").trigger("change"),this.subjectTree=l,this.lessonList=this.subjectTree.filter((function(l){return"lesson"===l.type})),this.pluginService.jsTree("#viewSubjectTree",this.subjectTree,!1)}},{key:"getLessonTopicList",value:function(){var l=this;if(this.selectedLesson){var n=this.selectedLesson.data.id;n?this.topicQuestionService.getLessonTopicListByLessonId(n).subscribe((function(n){return l.assignLessonTopicsList(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}}},{key:"assignLessonTopicsList",value:function(l){var n=[],e=[];if(l.lessonTopics.length>0){n=l.lessonTopics;for(var u=0;u<n.length;u++)e.push(0===n[u].questionsCount?{text:n[u].topicName,generalTopicId:n[u].generalTopicId,id:n[u].id,icon:"fa fa-times text-danger"}:{text:n[u].topicName,generalTopicId:n[u].generalTopicId,id:n[u].id})}else this.pluginService.alertMessage("No topics mapped to a lesson","error");this.pluginService.jsTree("#topicsList",e,!1),this.showQuestionMapping=!1,this.showTopicHeading=!0,this.enableExpandNode=!1}},{key:"nodeOnSelected",value:function(){var l=this;$("#topicsList").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.generalTopicId=e.node.original.generalTopicId,l.topicName=e.node.original.text,l.generalTopicQuestions=[],l.orgGeneralTopicQuestions=[],l.ownTopicQuestions=[],l.getGeneralTopicQuestionList(l.generalTopicId),l.getTopicQuestionList(l.generalTopicId),l.getOrgGeneralTopicQuestionByOrganisationId(l.generalTopicId),l.getOrganisationList(),l.getQuestionPreference(l.generalTopicId),l.showQuestionMapping=!0,l.tableAction=!0}))}},{key:"getGeneralTopicQuestionList",value:function(l){var n=this;this.generalTopicQuestionService.getTopicQuestionList(l).subscribe((function(l){return n.assignResponseToGeneralTopicQuestionList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToGeneralTopicQuestionList",value:function(l){var n,e,u,t=[];this.generalTopicQuestions=[],this.generalTopicQuestionResources=[],this.topicDescription=l.description,this.generalTopicQuestionResources=l.questions;for(var i=0;i<this.generalTopicQuestionResources.length;i++){(t=[]).push(this.questionBuilderService.convertStringToJson(this.generalTopicQuestionResources[i].contentJson));for(var s=0;s<t.length;s++)n=t[s].Question,e=1===this.generalTopicQuestionResources[i].complexityLevel?"Low":2===this.generalTopicQuestionResources[i].complexityLevel?"Medium":3===this.generalTopicQuestionResources[i].complexityLevel?"High":"",u="MCQ_SINGLE"===t[s].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[s].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[s].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[s].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[s].QuestionType?"MCQ match list":"",this.generalTopicQuestions.push({id:this.generalTopicQuestionResources[i].id,questionId:this.generalTopicQuestionResources[i].id,questionCategory:this.titleCapitalize(this.generalTopicQuestionResources[i].category),complexityLevel:e,questionText:n,questionType:u,generalTopicId:this.generalTopicQuestionResources[i].generalTopicId})}}},{key:"getTopicQuestionList",value:function(l){var n=this;this.topicQuestionService.getTopicQuestionDetails(l).subscribe((function(l){return n.assignResponseToTopicQuestionList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignResponseToTopicQuestionList",value:function(l){var n,e,u,t=[];this.ownTopicQuestions=[],this.ownTopicQuestionResources=[],this.topicDescription=l.description,this.ownTopicQuestionResources=l.orgGeneralTopicQuestions;for(var i=0;i<this.ownTopicQuestionResources.length;i++){(t=[]).push(this.questionBuilderService.convertStringToJson(this.ownTopicQuestionResources[i].question.contentJson));for(var s=0;s<t.length;s++)n=t[s].Question,e=1===this.ownTopicQuestionResources[i].question.complexityLevel?"Low":2===this.ownTopicQuestionResources[i].question.complexityLevel?"Medium":3===this.ownTopicQuestionResources[i].question.complexityLevel?"High":"",u="MCQ_SINGLE"===t[s].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[s].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[s].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[s].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[s].QuestionType?"MCQ match list":"",this.ownTopicQuestions.push({id:this.ownTopicQuestionResources[i].id,questionId:this.ownTopicQuestionResources[i].id,questionCategory:this.titleCapitalize(this.ownTopicQuestionResources[i].question.category),complexityLevel:e,questionText:n,questionType:u,generalTopicId:this.ownTopicQuestionResources[i].generalTopicId})}}},{key:"getOrgGeneralTopicQuestionByOrganisationId",value:function(l){var n=this;this.organisationId=this.userLoginService.organisationId,this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(l,this.organisationId).subscribe((function(l){return n.assignResponseToOrgTopicQuestionList(l.body)}),(function(l){return n.onError(l)}))}},{key:"getOrgTopicQuestiontByOrgId",value:function(){var l=this,n=this.selectedOrganisation.id;n&&this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(this.generalTopicId,n).subscribe((function(n){return l.assignResponseToOrgTopicQuestionList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignResponseToOrgTopicQuestionList",value:function(l){var n,e,u=[];this.orgTopicQuestionResources=[],this.orgTopicQuestionResources=l;for(var t=0;t<this.orgTopicQuestionResources.length;t++){(u=[]).push(this.questionBuilderService.convertStringToJson(this.orgTopicQuestionResources[t].question.contentJson));for(var i=0;i<u.length;i++)n=1===this.orgTopicQuestionResources[t].question.complexityLevel?"Low":2===this.orgTopicQuestionResources[t].question.complexityLevel?"Medium":3===this.orgTopicQuestionResources[t].question.complexityLevel?"High":"",e="MCQ_SINGLE"===u[i].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===u[i].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===u[i].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===u[i].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===u[i].QuestionType?"MCQ match list":"",this.orgGeneralTopicQuestions.push({id:this.orgTopicQuestionResources[t].question.id,questionId:this.orgTopicQuestionResources[t].question.id,questionText:u[i].Question,questionCategory:this.titleCapitalize(this.orgTopicQuestionResources[t].question.category),complexityLevel:n,questionType:e,generalTopicId:this.orgTopicQuestionResources[t].generalTopicId})}}},{key:"titleCapitalize",value:function(l){return l?l[0].toUpperCase()+l.substr(1).toLowerCase():l}},{key:"getOrganisationList",value:function(){var l=this;this.organisationService.getOrganisations().subscribe((function(n){return l.assignOrgList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignOrgList",value:function(l){this.organisations=l}},{key:"openSubjectTreeModal",value:function(){this.pluginService.showModalWindow("#viewSubjectTreeModal")}},{key:"closeSubjectTreeModal",value:function(){this.pluginService.hideModalWindow("#viewSubjectTreeModal")}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"deleteOwnTopicQuestions",value:function(l){var n=this;!0===this.questionPreferenceStatus?this.pluginService.alertMessage("Please change your question preference and do delete action, ","error"):swal({title:"Are you sure to delete questions ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&n.subscribeToDeleteResponse(n.topicQuestionService.deleteOwnTopicQuestion(l))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Topic question deleted successfully","success"),this.ownTopicQuestions=[],this.getTopicQuestionList(this.generalTopicId),this.tableAction=!0}},{key:"checkQuestionPreference",value:function(l){var n=l.target.checked,e=l.target.id;!0===n&&"QuestionCE"===e?this.questionPreferenceStatus=!1:!0===n&&"OwnQuestion"===e&&(this.questionPreferenceStatus=!0)}},{key:"getQuestionPreference",value:function(l){var n=this;this.topicQuestionService.getQuestionPreference(this.userLoginService.organisationId,l).subscribe((function(l){return n.onGetPreferenceSuccess(l.body)}),(function(l){return n.onError(l)}))}},{key:"onGetPreferenceSuccess",value:function(l){""===l||null===l||!1===l?(this.checkQuestionCE=!0,this.checkOwnQuestion=!1):!0===l&&(this.checkQuestionCE=!1,this.checkOwnQuestion=!0)}},{key:"saveQuestionPreference",value:function(){!1===this.questionPreferenceStatus?this.generalTopicQuestions.length>=10?this.setQuestionPreference():this.pluginService.alertMessage("Please add atleast ten general topic question and change preference","error"):!0===this.questionPreferenceStatus&&(this.ownTopicQuestions.length>=10?this.setQuestionPreference():this.pluginService.alertMessage("Please add atleast ten own topic question and change preference","error"))}},{key:"setQuestionPreference",value:function(){var l=this;this.topicQuestionService.setQuestionPreference(this.questionPreferenceStatus,this.generalTopicId,this.organisationId).subscribe((function(n){return l.onSuccess(n.body)}),(function(n){return l.onError(n)}))}},{key:"onSuccess",value:function(l){this.pluginService.alertMessage("Question preference saved successfully","success")}},{key:"toggleTreeNodes",value:function(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#viewSubjectTree"):this.pluginService.closeJsTreeAllNodes("#viewSubjectTree")}},{key:"loadUpdatedTopicQuestion",value:function(){this.getTopicQuestionList(this.generalTopicId),this.getOrgGeneralTopicQuestionByOrganisationId(this.generalTopicId)}},{key:"openGeneralTopicSimulateQuestionModal",value:function(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateGeneralTopicQuestionList(this.generalTopicQuestionResources)}},{key:"openOrgTopicSimulateQuestionModal",value:function(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateOwnTopicQuestionList(this.orgTopicQuestionResources)}},{key:"openOwnTopicSimulateQuestionModal",value:function(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateOwnTopicQuestionList(this.ownTopicQuestionResources)}},{key:"closeSimulateQuestionModal",value:function(){this.pluginService.hideModalWindow("#simulateTopicQuestionModal")}},{key:"openGeneralTopicPreviewQuestionModal",value:function(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewGeneralTopicQuestionList(this.generalTopicQuestionResources)}},{key:"openOrgTopicPreviewQuestionModal",value:function(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewOwnTopicQuestionList(this.orgTopicQuestionResources)}},{key:"openOwnTopicPreviewQuestionModal",value:function(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewOwnTopicQuestionList(this.ownTopicQuestionResources)}},{key:"closePreviewQuestionModal",value:function(){this.pluginService.hideModalWindow("#previewTopicQuestionModal")}},{key:"previewGeneralTopicQuestionList",value:function(l){var n,e=[],u=[],t=[];this.topicQuestions=[];for(var i=0;i<l.length;i++){if("MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[i].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType){u=[],t=[],e=n.Options,t=n.Choices;for(var s=function(l){u.push({choiceName:t.find((function(e){return e.ChoiceId===n.Answers[l].ChoiceId})).ChoiceText,optionName:e.find((function(e){return e.OptionId===n.Answers[l].OptionId})).OptionText})},o=0;o<n.Answers.length;o++)s(o)}else if("MCQ_SINGLE"===n.QuestionType||"MCQ_MULTIPLE"===n.QuestionType||"MCQ_TRUE_FALSE"===n.QuestionType){e=[],u=[];for(var r=function(l){var e=n.Choices.find((function(e){return e.ChoiceId===n.Answers[l]})).ChoiceText;u.push(e),e=""},c=0;c<n.Answers.length;c++)r(c)}this.topicQuestions.push({id:l[i].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[i].generalTopicId,questionId:l[i].id,choices:n.Choices,options:e,answers:u})}}},{key:"simulateGeneralTopicQuestionList",value:function(l){var n,e=[],u=[];this.topicQuestions=[];for(var t=0;t<l.length;t++)"MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[t].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType?(e=this.shuffleArray(n.Options),u=n.Choices):(e=[],u=this.shuffleArray(n.Choices)),this.topicQuestions.push({id:l[t].id,questionId:l[t].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[t].generalTopicId,choices:u,options:e,answers:n.Answers,checkAnswer:""})}},{key:"previewOwnTopicQuestionList",value:function(l){var n,e=[],u=[],t=[];this.topicQuestions=[];for(var i=0;i<l.length;i++){if("MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[i].question.contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType){u=[],t=[],e=n.Options,t=n.Choices;for(var s=function(l){u.push({choiceName:t.find((function(e){return e.ChoiceId===n.Answers[l].ChoiceId})).ChoiceText,optionName:e.find((function(e){return e.OptionId===n.Answers[l].OptionId})).OptionText})},o=0;o<n.Answers.length;o++)s(o)}else if("MCQ_SINGLE"===n.QuestionType||"MCQ_MULTIPLE"===n.QuestionType||"MCQ_TRUE_FALSE"===n.QuestionType){e=[],u=[];for(var r=function(l){var e=n.Choices.find((function(e){return e.ChoiceId===n.Answers[l]})).ChoiceText;u.push(e),e=""},c=0;c<n.Answers.length;c++)r(c)}this.topicQuestions.push({id:l[i].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[i].generalTopicId,questionId:l[i].question.id,choices:n.Choices,options:e,answers:u})}}},{key:"simulateOwnTopicQuestionList",value:function(l){var n,e=[],u=[];this.topicQuestions=[];for(var t=0;t<l.length;t++)"MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[t].question.contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType?(e=this.shuffleArray(n.Options),u=n.Choices):(e=[],u=this.shuffleArray(n.Choices)),this.topicQuestions.push({id:l[t].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[t].generalTopicId,questionId:l[t].question.id,choices:u,options:e,answers:n.Answers,checkAnswer:""})}},{key:"shuffleArray",value:function(l){return l.sort((function(){return Math.random()-.5})),l}},{key:"onSelectMCQSingleAnswer",value:function(l,n){var e;e=this.topicQuestions.findIndex((function(n){return n.id===l}));for(var u=0;u<this.topicQuestions[e].answers.length;u++)this.topicQuestions[e].checkAnswer=this.topicQuestions[e].answers[u]===n?"Correct":"Wrong"}},{key:"onSelectMCQMultipleAnswer",value:function(l,n,e){var u,t,i;t=e.target.checked,u=this.topicQuestions.findIndex((function(n){return n.id===l})),!0===t?this.selectedAnswer.push(n):(i=this.selectedAnswer.findIndex((function(l){return l===n})),this.selectedAnswer.splice(i,1)),this.checkMultipleAnswer(u)}},{key:"checkMultipleAnswer",value:function(l){for(var n=this.topicQuestions[l].answers.sort(),e=this.selectedAnswer.sort(),u=[],t=0;t<n.length;t++)for(var i=0;i<e.length;i++)n[t]===e[i]?(u.push(e[i]),this.topicQuestions[l].checkAnswer="Partial"):this.topicQuestions[l].checkAnswer="Wrong";u.length>0&&(this.topicQuestions[l].checkAnswer=u.length===n.length&&JSON.stringify(u.sort())===JSON.stringify(e)?"Correct":"Partial")}},{key:"onSelectChoiceMatrixAnswer",value:function(l,n,e){var u,t,i=this;if(u=this.topicQuestions.findIndex((function(n){return n.id===l})),0===this.selectedAnswer.length&&(this.selectedAnswer=[]),this.selectedAnswer.push({ChoiceId:n,OptionId:e}),this.selectedAnswer.length>1)for(var s=function(l){for(var n=l+1;n<i.selectedAnswer.length;n++)i.selectedAnswer[l].ChoiceId===i.selectedAnswer[n].ChoiceId&&(t=i.selectedAnswer.findIndex((function(n){return n.ChoiceId===i.selectedAnswer[l].ChoiceId})),i.selectedAnswer.splice(t,1))},o=0;o<this.selectedAnswer.length;o++)s(o);this.checkMatrixAndMatchListAnswers(u)}},{key:"checkAnswerStatus",value:function(l){var n=this.topicQuestions.findIndex((function(n){return n.id===l}));"Correct"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("Good keep going...Correct answer","success"):"Partial"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("This is partially correct","warning"):this.pluginService.alertMessage("Wrong"===this.topicQuestions[n].checkAnswer?"Oops..! this is wrong":"Please select a answer and check it","error")}},{key:"updatedDropList",value:function(l,n){var e=this.topicQuestions.findIndex((function(n){return n.id===l}));if(n.previousContainer===n.container){Object(t.i)(n.container.data,n.previousIndex,n.currentIndex),this.selectedAnswer=[];for(var u=0;u<this.topicQuestions[e].choices.length;u++)for(var i=0;i<this.topicQuestions[e].options.length;i++)u===i&&this.selectedAnswer.push({ChoiceId:this.topicQuestions[e].choices[u].ChoiceId,OptionId:this.topicQuestions[e].options[i].OptionId});this.checkMatrixAndMatchListAnswers(e)}}},{key:"checkMatrixAndMatchListAnswers",value:function(l){for(var n=[],e=0;e<this.topicQuestions[l].answers.length;e++)for(var u=0;u<this.selectedAnswer.length;u++)this.topicQuestions[l].answers[e].ChoiceId===this.selectedAnswer[u].ChoiceId?this.topicQuestions[l].answers[e].OptionId===this.selectedAnswer[u].OptionId&&n.push({ChoiceId:this.selectedAnswer[u].ChoiceId,OptionId:this.selectedAnswer[u].OptionId}):this.topicQuestions[l].checkAnswer="Wrong";if(n.length>0){var t=n.sort((function(l,n){return l.ChoiceId-n.ChoiceId})),i=this.selectedAnswer.sort((function(l,n){return l.ChoiceId-n.ChoiceId}));this.topicQuestions[l].checkAnswer=n.length===this.topicQuestions[l].answers.length&&JSON.stringify(t)===JSON.stringify(i)?"Correct":"Partial"}}},{key:"previousQuestion",value:function(){this.selectedAnswer=[]}},{key:"nextQuestion",value:function(){this.selectedAnswer=[]}}]),l}()},sP4s:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));var u=function l(){_classCallCheck(this,l)}},tWOK:function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var u=e("IheW"),t=e("AytR"),i=e("EBJu"),s=e("8Y7J"),o=new u.h;o=o.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");var r=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.contentResourceUrl=t.a.API_URL+i.e,this.questionResourceUrl=t.a.API_URL+i.T,this.topicContentResourceUrl=t.a.API_URL+i.s,this.generalTopicContentResourceUrl=t.a.API_URL+i.t,this.generalTopicQuestionResourceUrl=t.a.API_URL+i.u}return _createClass(l,[{key:"getTopicContentList",value:function(l){return this.http.get("".concat(this.generalTopicContentResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getTopicQuestionList",value:function(l){return this.http.get("".concat(this.generalTopicQuestionResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getContentByContentId",value:function(l){return this.http.get("".concat(this.contentResourceUrl,"/").concat(l),{observe:"response"})}},{key:"updateContent",value:function(l){return this.http.put(this.contentResourceUrl,l,{headers:o,observe:"response"})}},{key:"saveTopicContent",value:function(l){return this.http.post(this.topicContentResourceUrl,l,{headers:o,observe:"response"})}},{key:"updateTopicContents",value:function(l){return this.http.put(this.topicContentResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteTopicContents",value:function(l){return this.http.delete("".concat(this.topicContentResourceUrl,"/batch/").concat(l),{observe:"response"})}},{key:"saveTopicQuestion",value:function(l){return this.http.post(this.questionResourceUrl,l,{headers:o,observe:"response"})}},{key:"deleteTopicQuestion",value:function(l){return this.http.delete("".concat(this.questionResourceUrl,"/").concat(l),{observe:"response"})}}]),l}();return l.ngInjectableDef=s.Sb({factory:function(){return new l(s.Tb(u.c))},token:l,providedIn:"root"}),l}()},tmov:function(l,n,e){"use strict";e.d(n,"a",(function(){return a}));var u=e("IheW"),t=e("AytR"),i=e("M0ag"),s=e("BN3N"),o=e("EBJu"),r=e("8Y7J"),c=new u.h;c=c.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");var a=function(){var l=function(){function l(n){_classCallCheck(this,l),this.http=n,this.generalSubjectResourceUrl=t.a.API_URL+o.p,this.generalSubjectSearchResourceUrl=t.a.API_URL+o.q,this.generalSubjectResourceUrlWithTree=t.a.API_URL+o.r}return _createClass(l,[{key:"getSubjectBySubjectId",value:function(l){return this.http.get("".concat(this.generalSubjectResourceUrl,"/").concat(l),{observe:"response"})}},{key:"getSubjectSearchList",value:function(){return this.http.post(this.generalSubjectSearchResourceUrl,{status:s.a},{observe:"response"})}},{key:"getSubjectListByGrade",value:function(l,n){return this.http.post(this.generalSubjectSearchResourceUrl,{grade:l,status:n},{observe:"response"})}},{key:"getSubjectTreeBySubjectId",value:function(l){return this.http.get("".concat(this.generalSubjectResourceUrlWithTree,"/").concat(l),{observe:"response"})}},{key:"updateGeneralSubjectStatus",value:function(l){return this.http.put(this.generalSubjectResourceUrl,l,{observe:"response"})}},{key:"getAllSubjects",value:function(l){var n=Object(i.c)(l);return this.http.get(this.generalSubjectResourceUrl,{params:n,observe:"response"})}},{key:"delete",value:function(l){return this.http.delete("".concat(this.generalSubjectResourceUrl,"/").concat(l),{observe:"response"})}},{key:"saveGeneralSubject",value:function(l){return this.http.post(this.generalSubjectResourceUrlWithTree,l,{headers:c,observe:"response"})}}]),l}();return l.ngInjectableDef=r.Sb({factory:function(){return new l(r.Tb(u.c))},token:l,providedIn:"root"}),l}()},tvYL:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e("/+cj"),e("ey9i"),e("JXEQ"),e("wy83"),e("pyIl");var u=e("BN3N");e("tmov"),e("hFJU");var t=function(){function l(n,e,u,t,i,s,o,r,c,a,d){_classCallCheck(this,l),this._router=n,this.activatedRoute=e,this.curriculumService=u,this.subjectService=t,this.lessonTopicService=i,this.eventManager=s,this.parseLinks=o,this.principalService=r,this.generalSubjectService=c,this.pluginService=a,this.errorHandler=d,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.generalSubjectList=[],this.subjectTree=[],this.generalSubjectTree=[],this.lessonTopicsList=[],this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.topicIds=[],this.lessonTopicIds=[],this.allGrades=[],this.enableExpandSubjectNode=!1,this.enableExpandGSubjectNode=!1,this.addToListAction=!0,this.tableAction=!0,this.updateAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadCurriculums()}},{key:"loadCurriculums",value:function(){var l=this;this.curriculumService.getCurriculumSearch().subscribe((function(n){return l.assignCurriculumList(n.body)}),(function(n){return l.onError(n)}))}},{key:"assignCurriculumList",value:function(l){this.curriculumList=[];for(var n=0;n<l.length;n++)this.curriculumList.push(l[n])}},{key:"onError",value:function(l){this.errorHandler.handleError(l)}},{key:"ngAfterViewInit",value:function(){this.showSyllabusDetails(),this.showGeneralSubjectTreeDetails()}},{key:"onCurriculumChange",value:function(){this.selectedCurriculum&&this.generateGradeList(this.selectedCurriculum.gradesApplicableFrom,this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}},{key:"onGradeChange",value:function(){var l=this;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id,this.selectedGrade.id,u.a).subscribe((function(n){return l.assignSubjectList(n.body)}),(function(n){return l.onError(n)})),this.selectedSubject=null}},{key:"assignSubjectList",value:function(l){this.subjectList=[];for(var n=0;n<l.length;n++)this.subjectList.push(l[n])}},{key:"generateGradeList",value:function(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}},{key:"onGeneralSubjectGradeChange",value:function(){var l=this;if(this.selectedGeneralSubjectGrade){var n=this.selectedGeneralSubjectGrade.name,e=u.a;this.selectedGeneralSubject=null,this.generalSubjectService.getSubjectListByGrade(n,e).subscribe((function(n){return l.assignGeneralSubjectList(n.body)}),(function(n){return l.onError(n)}))}this.selectedGeneralSubjectGrade=null,this.generalSubjectList=[]}},{key:"assignGeneralSubjectList",value:function(l){this.generalSubjectList=[],this.generalSubjectList=l}},{key:"loadSubjectTree",value:function(){var l=this;if(this.selectedSubject){var n=this.selectedSubject.id;this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1),n?this.subjectService.getSubjectTreeBySubjectId(n).subscribe((function(n){return l.assignSubjectTree(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}}},{key:"assignSubjectTree",value:function(l){if(this.subjectTree=[],l.length>0){for(var n=0;n<l.length;n++)0===l[n].data.preReqTopicsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.enableExpandSubjectNode=!1}},{key:"showSyllabusDetails",value:function(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.getLessonTopicList(l.lessonId))}))}},{key:"getLessonTopicList",value:function(l){var n=this;this.lessonTopicService.getLessonPreReqTopicListByLessonId(l).subscribe((function(l){return n.assignLessonTopicsList(l.body)}),(function(l){return n.onError(l)}))}},{key:"assignLessonTopicsList",value:function(l){this.lessonTopicsList=[],l.lessonPreReqTopics.length>0&&(this.lessonTopicsList=l.lessonPreReqTopics,this.sortArrayByOrderNumber(this.lessonTopicsList),this.dragUpdateLessonTopicList(),this.tableAction=!0,this.updateAction=!0,this.topicIds=[])}},{key:"sortArrayByOrderNumber",value:function(l){l.sort((function(l,n){return l.orderNumber>n.orderNumber?1:-1}))}},{key:"toggleTreeNodes",value:function(){this.enableExpandSubjectNode=!this.enableExpandSubjectNode,this.enableExpandSubjectNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}},{key:"checkSelectedTopics",value:function(l){var n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.lessonTopicIds.push(n)):!1===e&&(u=this.lessonTopicIds.findIndex((function(l){return l===n})),this.lessonTopicIds.splice(u,1)),this.lessonTopicIds=this.removeDuplicateElements(this.lessonTopicIds),this.lessonTopicIds.length<=0&&(this.tableAction=!0)}},{key:"removeDuplicateElements",value:function(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}},{key:"deleteLessonTopics",value:function(){var l=this;swal({title:"Are you sure to delete lesson topic mapping ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.lessonTopicIds.length>0&&l.subscribeToDeleteResponse(l.lessonTopicService.deletePrerequisiteLessonTopicMapping(l.lessonTopicIds))}))}},{key:"subscribeToDeleteResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onDeleteSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onDeleteSuccess",value:function(l){this.pluginService.alertMessage("Lesson topic deleted successfully","success"),this.tableAction=!0,this.lessonTopicIds=[],this.getLessonTopicList(this.lessonId),this.loadSubjectTree()}},{key:"resetSelectedTopic",value:function(){this.lessonTopicIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}},{key:"subscribeToUpdateResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onUpdateSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onUpdateSuccess",value:function(l){this.pluginService.alertMessage("Prerequisite lesson topic mapping updated successfully","success"),this.getLessonTopicList(this.lessonId)}},{key:"dragUpdateLessonTopicList",value:function(){var l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateLessonTopicOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}},{key:"updateLessonTopicOrder",value:function(){var l=this;this.updateAction=!1,this.checkOrderNumChange=!0;var n=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(n).forEach((function(n){for(var e=n.querySelectorAll("td"),u=Number(e[0].title),t=Number(e[1].textContent),i=0;i<l.lessonTopicsList.length;i++)if(l.lessonTopicsList[i].id===u){l.lessonTopicsList[i].orderNumber=t,l.lessonTopicsList[i].id=u;break}l.sortArrayByOrderNumber(l.lessonTopicsList)}))}},{key:"updateLessonTopics",value:function(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.checkOrderNumChange&&l.subscribeToUpdateResponse(l.lessonTopicService.updatePrerequisiteLessonTopicMapping(l.lessonTopicsList))}))}},{key:"addNewGeneralTopicMapping",value:function(){this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.generalSubjectTree=[],this.selectedGeneralSubject=null,this.selectedGeneralSubjectGrade=null,this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.openTopicMappingModal()}},{key:"loadGeneralSubjectTree",value:function(){var l=this;this.generalSubjectTree=[],this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.selectedGeneralSubject?this.generalSubjectService.getSubjectTreeBySubjectId(this.selectedGeneralSubject.id).subscribe((function(n){return l.assignGeneralSubjectTree(n.body)}),(function(n){return l.onError(n)})):this.pluginService.alertMessage("Please select a filter and then apply","error")}},{key:"assignGeneralSubjectTree",value:function(l){this.generalSubjectTree=l,this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.enableExpandGSubjectNode=!1}},{key:"showGeneralSubjectTreeDetails",value:function(){var l=this;$("#generalSubjectTreeView").on("changed.jstree",(function(n,e){var u,t,i;for(u=0,t=e.selected.length;u<t;u++)l.modalNodeType=e.node.type,"root"===l.modalNodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.modalNodeType?(i=e.node.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.topicIds=[],l.getTopicsList(i)):"topic"===l.modalNodeType&&(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description)}))}},{key:"getTopicsList",value:function(l){var n;n=this.generalSubjectTree.filter((function(n){return n.parent===l})),this.generalSubTopicsList=n.filter((function(l){return"topic"===l.type})),this.disablePreSelectedTopics(),this.addToListAction=!0}},{key:"disablePreSelectedTopics",value:function(){if(this.lessonTopicsList.length>0)for(var l=0;l<this.lessonTopicsList.length;l++)for(var n=0;n<this.generalSubTopicsList.length;n++)this.lessonTopicsList[l].topicId===this.generalSubTopicsList[n].data.id&&(this.generalSubTopicsList[n].disabled=!0)}},{key:"checkNewlyAddedTopics",value:function(l){var n,e,u;n=l.target.name,!0===(e=l.target.checked)?(this.topicIds.push(n),this.addToListAction=!1):!1===e&&(u=this.topicIds.findIndex((function(l){return l===n})),this.topicIds.splice(u,1)),this.topicIds=this.removeDuplicateElements(this.topicIds)}},{key:"addTopicToList",value:function(){for(var l=this,n=function(n){l.selectedGeneralSubTopicsList.push(l.generalSubTopicsList.find((function(e){return e.id===l.topicIds[n]})))},e=0;e<this.topicIds.length;e++)n(e);this.selectedGeneralSubTopicsList=this.removeDuplicateElements(this.selectedGeneralSubTopicsList),this.addToListAction=!0}},{key:"removeFromNewTopicList",value:function(l){var n;this.selectedGeneralSubTopicsList.length>0?(n=this.selectedGeneralSubTopicsList.findIndex((function(n){return n.id===l})),this.selectedGeneralSubTopicsList.splice(n,1)):this.selectedGeneralSubTopicsList=[]}},{key:"toggleGeneralSubjectTreeNodes",value:function(){this.enableExpandGSubjectNode=!this.enableExpandGSubjectNode,this.enableExpandGSubjectNode?this.pluginService.openJsTreeAllNodes("#generalSubjectTreeView"):this.pluginService.closeJsTreeAllNodes("#generalSubjectTreeView")}},{key:"saveLessonTopicMapping",value:function(){for(var l=[],n=0;n<this.selectedGeneralSubTopicsList.length;n++)l.push({topicId:this.selectedGeneralSubTopicsList[n].data.id,displayName:this.selectedGeneralSubTopicsList[n].data.name,lessonId:this.lessonId,orderNumber:this.lessonTopicsList.length+n+1});l.length>0?this.subscribeToSaveResponse(this.lessonTopicService.savePrerequisiteLessonTopicMapping(l)):this.pluginService.alertMessage("No prerequisite lesson topics added","error")}},{key:"subscribeToSaveResponse",value:function(l){var n=this;l.subscribe((function(l){return n.onSaveSuccess(l)}),(function(l){return n.onError(l)}))}},{key:"onSaveSuccess",value:function(l){this.pluginService.alertMessage("Lesson topic mapped successfully","success"),this.closeTopicMappingModal(),this.getLessonTopicList(this.lessonId),this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.loadSubjectTree()}},{key:"openTopicMappingModal",value:function(){this.pluginService.showModalWindow("#addNewPrereqTopicMappingModal")}},{key:"closeTopicMappingModal",value:function(){this.pluginService.hideModalWindow("#addNewPrereqTopicMappingModal")}},{key:"closeWithOutSavingTopicMapping",value:function(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicMappingModal()}))}}]),l}()},uH8f:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("QHgc");var u=function(){function l(n,e,u){_classCallCheck(this,l),this.router=n,this.route=e,this.commonService=u,this.questionTypes=[]}return _createClass(l,[{key:"ngOnInit",value:function(){this.getQuestionTypeDetails()}},{key:"getQuestionTypeDetails",value:function(){var l=this;this.commonService.getQuestionTypeList().subscribe((function(n){l.questionTypes=n,l.setSelectedQuestionType(l.router.url)}))}},{key:"setSelectedQuestionType",value:function(l){var n,e=[];e=l.split("/"),n="./"+e.pop();for(var u=0;u<this.questionTypes.length;u++)n===this.questionTypes[u].router&&(this.questionTypes.find((function(l){return l.router===n})).checked=!0)}},{key:"navigateToUrl",value:function(l){this.router.navigate([l],{relativeTo:this.route})}}]),l}()},xxMB:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("IDBn"),i=e("s7LF"),s=e("XKba"),o=e("WOoW"),r=e("H/4C"),c=e("cUpR"),a=e("SVse"),d=function(){function l(n){_classCallCheck(this,l),this.elementRef=n}return _createClass(l,[{key:"ngOnInit",value:function(){this.rootElement=$(this.elementRef.nativeElement)}},{key:"ngOnChanges",value:function(l){if(this.rootElement=$(this.elementRef.nativeElement),this.rootElement){var n=this.question?this.question.replace(/{{response}}/g,'<span class="cloze--dropzone zone"></span>'):"";this.rootElement.html(n)}}}]),l}(),b=e("gQ5b"),p=e("iInd");e.d(n,"a",(function(){return y}));var h=u.qb({encapsulation:0,styles:[[".choice--group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.choice--answer[_ngcontent-%COMP%]{width:5%}.choice-container[_ngcontent-%COMP%], .option-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:10px}.choice-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .option-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:45%}.choice-container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.option--container.zone[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap}.zone[_ngcontent-%COMP%]{border:1px dashed #e8e6e6;padding:10px 5px;margin-bottom:10px;min-height:50px}.zone[_ngcontent-%COMP%]   .option--container[_ngcontent-%COMP%]{justify-content:space-around;min-width:50px}.choice--label[_ngcontent-%COMP%]{min-height:50px;border:1px solid #eee;padding:10px 5px;width:95%}.option--container[_ngcontent-%COMP%]   .option--item[_ngcontent-%COMP%]{min-height:50px;border:1px solid #eee;padding:10px 5px;background-color:#eaeaea}.choice--group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:20px;width:100%}.choice--editor[_ngcontent-%COMP%]{width:95%}.choice--delete[_ngcontent-%COMP%]{width:5%;text-align:right;font-size:16px}.choice--delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]{outline:solid 1px;height:50px}.actions[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function g(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question"])),(l()(),u.sb(3,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(4,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(6,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(8,671744,[["questionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(10,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,4,0,!0),l(n,6,0,e.editorQuestionConfig),l(n,8,0,e.viewModel.Question)}),(function(l,n){l(n,3,0,u.Eb(n,4).required?"":null,u.Eb(n,10).ngClassUntouched,u.Eb(n,10).ngClassTouched,u.Eb(n,10).ngClassPristine,u.Eb(n,10).ngClassDirty,u.Eb(n,10).ngClassValid,u.Eb(n,10).ngClassInvalid,u.Eb(n,10).ngClassPending)}))}function f(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","editor"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(5,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(7,671744,[["choiceInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(9,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(10,0,null,null,1,"div",[["class","delete d-flex align-items-end ml-4 font-20 text-danger"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function m(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[["class","option--item"]],[[1,"data-option-id",0]],null,null,null,null)),u.rb(1,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,1,0,e)}),(function(l,n){l(n,0,0,n.context.$implicit.OptionId)}))}function v(l){return u.Ob(0,[u.Gb(0,r.a,[c.b]),(l()(),u.ib(16777216,null,null,1,null,g)),u.rb(2,16384,null,0,a.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(3,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Response"])),(l()(),u.ib(16777216,null,null,1,null,f)),u.rb(7,278528,null,0,a.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(8,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(10,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(12,0,null,null,7,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Preview"])),(l()(),u.sb(15,0,null,null,1,"div",[["class","preview-panel"]],null,null,null,null,null)),u.rb(16,606208,null,0,d,[u.k],{question:[0,"question"]},null),(l()(),u.sb(17,0,null,null,2,"div",[["class","option--container options zone"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,m)),u.rb(19,278528,null,0,a.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(20,0,null,null,6,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,2,"button",[["class","btn btn-danger mr-2"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),null,null)),(l()(),u.sb(22,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Cancel"])),(l()(),u.sb(24,0,null,null,2,"button",[["class","btn btn-success"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestion()&&u),u}),null,null)),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save Question"]))],(function(l,n){var e=n.component;l(n,2,0,e.viewmodel),l(n,7,0,e.viewmodel.Options),l(n,16,0,e.viewmodel.Question),l(n,19,0,e.viewmodel.Options)}),null)}var y=u.ob("ng-component",b.a,(function(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ng-component",[],null,null,null,v,h)),u.rb(1,4308992,null,0,b.a,[p.k,p.a,u.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[])},zsI8:function(l,n,e){"use strict";var u=e("An3Y");e.d(n,"a",(function(){return u.a}))}}]);