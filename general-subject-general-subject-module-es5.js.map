{"version":3,"sources":["src/app/general-subject/general-subject-create.component.html","src/app/general-subject/general-subject-details.component.html","src/app/general-subject/general-subject-manage.component.html","src/app/general-subject/general-subject-update.component.html","src/app/curriculum/curriculum.service.ts","src/app/general-subject/general-subject-create.component.ts","src/app/general-subject/general-subject-delete.component.ts","src/app/general-subject/general-subject-details.component.ts","src/app/general-subject/general-subject-manage.component.ts","src/app/general-subject/general-subject-update-publish.component.ts","src/app/general-subject/general-subject-update-unpublish.component.ts","src/app/general-subject/general-subject-update.component.ts","src/app/general-subject/general-subject.module.ts","src/app/general-subject/general-subject.route.ts","src/app/general-subject/general-subject.service.ts","src/app/shared/constants/common.constants.ts","src/app/shared/model/content/general-subject.model.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row-flex stepper\\\">\\r\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\r\\n    <a class=\\\"nav-link active\\\" id=\\\"createSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createSubject\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"createSubject\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 1\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Create subject\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"createConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createConcept\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"createConcept\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 2\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Create concepts and topics\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 3\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Summary\\r\\n      </span>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\r\\n\\r\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"createSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createSubject-tab\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\r\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\r\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\"\\r\\n            inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\" />\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\r\\n            characters - Alphabets</div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\r\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n          </label>\\r\\n          <textarea class=\\\"form-control description-form\\\" name=\\\"description\\\"\\r\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\r\\n            formControlName=\\\"generalSubjectDescription\\\" maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">\\r\\n            Allowed characters - Alphabets, Numbers and\\r\\n            Special characters\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\"\\r\\n              (click)=\\\"loadGeneralSubjectTree()\\\">\\r\\n              Next\\r\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"createConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createConcept-tab\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xxl-4 p-2\\\">\\r\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"updatedJSONTree.length > 1\\\">\\r\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                Expand all\\r\\n              </span>\\r\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                Collapse all\\r\\n              </span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div id=\\\"buildTree\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-8\\\">\\r\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\r\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\r\\n              concept / topic\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\r\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\r\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"w-100 p-4\\\">\\r\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\r\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\r\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\r\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\r\\n              <p><b>Grade :</b> {{grade}}</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"my-2 rounded p-3 border-danger\\\" *ngIf=\\\"enableInstruction\\\">\\r\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check text-danger mr-2\\\"></i> Select a subject node and do your actions.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Add atleast one concept or one topic for general subject\\r\\n          creation.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't drag and drop on top of\\r\\n          root node\\r\\n        </p>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <div class=\\\"btn btn-danger prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\r\\n          </div>\\r\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\r\\n            Next\\r\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\r\\n\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>Before changes</h5>\\r\\n            <div id=\\\"beforeChangeTree\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>After changes</h5>\\r\\n            <div id=\\\"afterChangeTree\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\r\\n            Previous\\r\\n          </span>\\r\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\r\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n            Save as draft\\r\\n          </div>\\r\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\r\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\r\\n            Save and publish\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectEditModal\\\">\\r\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n        <h5 class=\\\"modal-title text-white\\\">\\r\\n          {{modalTitleName}} concept / topic\\r\\n        </h5>\\r\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\r\\n          <i class=\\\"fa fa-times\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"form-group mb-2\\\">\\r\\n          <label class=\\\"col-form-label\\\">Type\\r\\n          </label>\\r\\n          <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n            bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" (change)=\\\"onNodeTypeChange()\\\"\\r\\n            [searchable]=\\\"false\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Concept\\r\\n              name\\r\\n            </label>\\r\\n            <input type=\\\"text\\\" placeholder=\\\"Enter concept name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\r\\n              formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptName.errors }\\\">\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Concept\\r\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n            </label>\\r\\n            <textarea class=\\\"form-control description-form\\\"\\r\\n              placeholder=\\\"Enter description (minlength: 3 and maxlength: 250)\\\" formControlName=\\\"conceptDescription\\\"\\r\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptDescription.errors }\\\"></textarea>\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special characters\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Topic\\r\\n              name\\r\\n            </label>\\r\\n            <input type=\\\"text\\\" placeholder=\\\"Enter topic name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\r\\n              formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicName.errors }\\\">\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Topic\\r\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n            </label>\\r\\n            <textarea class=\\\"form-control description-form\\\"\\r\\n              placeholder=\\\"Enter description(minlength: 3 and maxlength: 250)\\\" formControlName=\\\"topicDescription\\\"\\r\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicDescription.errors }\\\"></textarea>\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special characters\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Primary\\r\\n              applicable curriculum and\\r\\n              grade\\r\\n            </label>\\r\\n            <div class=\\\"form-row pr-0 mr-0\\\">\\r\\n              <div class=\\\"col-md-6 mb-2\\\">\\r\\n                <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                  placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6 mb-2\\\">\\r\\n                <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                  placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\r\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\r\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n          Reset\\r\\n        </div>\\r\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\r\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n          Save\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n  <a class=\\\"btn btn-success mr-2\\\" [routerLink]=\\\"['/general-subject',subjectId, 'edit' ]\\\">\\r\\n    <i class=\\\"fa fa-edit mr-2\\\"></i>Edit general subject\\r\\n  </a>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row mb-3 p-3\\\">\\r\\n  <div class=\\\"col-xxl-3\\\">\\r\\n    <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\r\\n      <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n        <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n        <span *ngIf=\\\"active === false\\\">\\r\\n          Expand all\\r\\n        </span>\\r\\n        <span *ngIf=\\\"active === true\\\">\\r\\n          Collapse all\\r\\n        </span>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div id=\\\"treeView\\\"></div>\\r\\n  </div>\\r\\n  <div class=\\\"col-xxl-9\\\">\\r\\n\\r\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'root'\\\">\\r\\n      <p><b>Subject name</b></p>\\r\\n      <p>{{nodeName}}</p>\\r\\n      <p><b>Subject description</b></p>\\r\\n      <p>{{nodeDescription}}</p>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"nodeType == 'concept'\\\" class=\\\"p-3\\\">\\r\\n      <p><b>Concept name</b></p>\\r\\n      <p>{{nodeName}}</p>\\r\\n      <p><b>Concept description</b></p>\\r\\n      <p>{{nodeDescription}}</p>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'topic'\\\">\\r\\n      <div class=\\\"d-flex w-100 justify-content-between mb-3\\\">\\r\\n        <div>\\r\\n          <p><b>Topic name</b> - {{nodeName}}</p>\\r\\n          <p><b>Topic description</b> - {{nodeDescription}}</p>\\r\\n          <p><b>Curriculum :</b> {{curriculum}}</p>\\r\\n          <p><b>Grade :</b> {{grade}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 d-flex justify-content-end my-3\\\">\\r\\n  <a [routerLink]=\\\"['/general-subject','create']\\\">\\r\\n    <div class=\\\"btn btn-primary\\\">\\r\\n      <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new subject\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n<div class=\\\"table-responsive\\\" *ngIf=\\\"generalSubjects\\\">\\r\\n  <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"generalSubjectsTable\\\">\\r\\n    <thead>\\r\\n      <tr jhiSort [(predicate)]=\\\"predicate\\\" [(ascending)]=\\\"reverse\\\" [callback]=\\\"reset.bind(this)\\\">\\r\\n        <th jhiSortBy=\\\"title\\\">Subject Name <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\r\\n        <th jhiSortBy=\\\"status\\\">Status <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\r\\n        <th class=\\\"fixed-column\\\">Update status</th>\\r\\n        <th class=\\\"fixed-column\\\">Actions</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody infinite-scroll (scrolled)=\\\"loadPage(page + 1)\\\" [infiniteScrollDisabled]=\\\"page >= links['last']\\\"\\r\\n      [infiniteScrollDistance]=\\\"0\\\">\\r\\n      <tr *ngFor=\\\"let generalSubject of generalSubjects ;trackBy: trackId\\\">\\r\\n        <td data-column=\\\"Subject name\\\">{{generalSubject.title}}</td>\\r\\n        <td data-column=\\\"Status\\\">{{generalSubject.status}}</td>\\r\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Update status\\\">\\r\\n          <a class=\\\"btn btn-outline-success mr-1 mb-1\\\"\\r\\n            *ngIf=\\\"generalSubject.status === 'DRAFT' || generalSubject.status === 'INACTIVE'\\\"\\r\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'publish']\\\">\\r\\n            Publish\\r\\n          </a>\\r\\n          <a class=\\\"btn btn-outline-danger mr-1 mb-1\\\" *ngIf=\\\"generalSubject.status === 'ACTIVE'\\\"\\r\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'unpublish']\\\">\\r\\n            Unpublish\\r\\n          </a>\\r\\n        </td>\\r\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Actions\\\">\\r\\n          <div>\\r\\n            <a class=\\\"btn btn-outline-info mr-1 btn-icon-size mb-1\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'view' ]\\\">\\r\\n              <i class=\\\"fa fa-eye\\\"></i>\\r\\n            </a>\\r\\n\\r\\n            <a class=\\\"btn btn-outline-success mr-1 btn-icon-size mb-1\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'edit' ]\\\">\\r\\n              <i class=\\\"fa fa-edit\\\"></i>\\r\\n            </a>\\r\\n\\r\\n            <div class=\\\"btn btn-outline-danger mr-1 btn-icon-size mb-1\\\"\\r\\n              *ngIf=\\\"generalSubject.status === 'INACTIVE' || generalSubject.status === 'DRAFT'\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'delete']\\\">\\r\\n              <i class=\\\"fa fa-trash\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\"","export default \"<div class=\\\"col-xxl-12 justify-content-between d-flex my-3\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row-flex stepper\\\">\\r\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\r\\n    <a class=\\\"nav-link active\\\" id=\\\"editSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#editSubject\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"editSubject\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 1\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Edit subject\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"manageConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#manageConcept\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"manageConcept\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 2\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Manage concepts and topics\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 3\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Summary\\r\\n      </span>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\r\\n\\r\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"editSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"editSubject-tab\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\r\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\r\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"subjectName\\\"\\r\\n            placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\" inputRestriction=\\\"alphabetsWithSpace\\\"\\r\\n            formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\" />\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\r\\n            characters - Alphabets</div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\r\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n          </label>\\r\\n          <textarea class=\\\"form-control description-form\\\" id=\\\"description\\\" name=\\\"description\\\"\\r\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\r\\n            formControlName=\\\"generalSubjectDescription\\\" maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">\\r\\n            Allowed characters - Alphabets, Numbers and\\r\\n            Special characters\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\" (click)=\\\"updateSubjectTree()\\\">\\r\\n              Next\\r\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"manageConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"manageConcept-tab\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xxl-4 p-2\\\">\\r\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\r\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                Expand all\\r\\n              </span>\\r\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                Collapse all\\r\\n              </span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div id=\\\"buildTree\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-8\\\">\\r\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\r\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\r\\n              concept / topic\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\r\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\r\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"w-100 p-4\\\">\\r\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\r\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\r\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\r\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\r\\n              <p><b>Grade :</b> {{grade}}</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"my-2 p-3 border-danger rounded\\\">\\r\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Select a node and do your actions.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Without any changes, you can't update general subject.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't do drag and drop on top\\r\\n          of\\r\\n          root node\\r\\n        </p>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <div class=\\\"btn btn-danger prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\r\\n          </div>\\r\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\r\\n            Next\\r\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>Before changes</h5>\\r\\n            <div id=\\\"beforeChangeTree\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>After changes</h5>\\r\\n            <div id=\\\"afterChangeTree\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\r\\n            Previous\\r\\n          </span>\\r\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\r\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n            Save as draft\\r\\n          </div>\\r\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\r\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\r\\n            Save and publish\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectModal\\\">\\r\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n        <h5 class=\\\"modal-title text-white\\\">\\r\\n          {{modalTitleName}} concept / topic\\r\\n        </h5>\\r\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\r\\n          <i class=\\\"fa fa-times\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <form [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Type\\r\\n            </label>\\r\\n            <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n              bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" [searchable]=\\\"false\\\"\\r\\n              (change)=\\\"onNodeTypeChange()\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Concept\\r\\n                name\\r\\n              </label>\\r\\n              <input type=\\\"text\\\" placeholder=\\\"Enter concept name (min length: 3 and max length: 75)\\\"\\r\\n                class=\\\"form-control\\\" formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"75\\\">\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Concept\\r\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n              </label>\\r\\n              <textarea class=\\\"form-control description-form\\\"\\r\\n                placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\" formControlName=\\\"conceptDescription\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special characters\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Topic\\r\\n                name\\r\\n              </label>\\r\\n              <input type=\\\"text\\\" placeholder=\\\"Enter topic name(min length: 3 and max length: 75)\\\" class=\\\"form-control\\\"\\r\\n                formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\">\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Topic\\r\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n              </label>\\r\\n              <textarea class=\\\"form-control description-form\\\"\\r\\n                placeholder=\\\"Enter description(min length: 3 and max length: 250)\\\" formControlName=\\\"topicDescription\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special characters\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Primary\\r\\n                applicable curriculum and\\r\\n                grade\\r\\n              </label>\\r\\n              <div class=\\\"form-row pr-0 mr-0\\\">\\r\\n                <div class=\\\"col-md-6 mb-2\\\">\\r\\n                  <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                    placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-6 mb-2\\\">\\r\\n                  <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                    placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\r\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\r\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n          Reset\\r\\n        </div>\\r\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\r\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n          Save\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","import { Injectable } from '@angular/core';\r\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { Observable } from 'rxjs';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\n\r\ntype EntityResponseType = HttpResponse<ICurriculum>;\r\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CurriculumService {\r\n    public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\r\n    public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    find(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false,\r\n            \"status\": ACTIVE\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    delete(id: number): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { DRAFT, CREATED, ACTIVE } from '../shared/constants/common.constants';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-create.component.html\",\r\n  providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectCreateComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n  generalSubjectForm: FormGroup;\r\n  conceptAndTopicForm: FormGroup;\r\n  generalSubject: IGeneralSubject;\r\n  curriculumList: IGeneralSubject[] = [];\r\n  conceptAndTopicTree: IGeneralSubject[] = [];\r\n  updatedJSONTree: IGeneralSubject[] = [];\r\n  nodeTypes: any[] = [];\r\n  grades: any[] = [];\r\n  subjectName: string;\r\n  subjectDescription: string;\r\n  nodeType: string;\r\n  nodeTitle: string;\r\n  nodeDescription: string;\r\n  curriculum: string;\r\n  grade: string;\r\n  nodeOperationType: string;\r\n  modalTitleName: string;\r\n  validateSubjectForm: boolean;\r\n  validateNodeForm: boolean;\r\n  enableNodeOperation: boolean;\r\n  enableEditNodeOperation: boolean;\r\n  enableInstruction: boolean;\r\n  enableModalOperation: boolean;\r\n  validateNode: boolean;\r\n  disableDropdown: boolean;\r\n  enableExpandNode: boolean;\r\n  selectedNodeType: any;\r\n  selectedCurriculum: any;\r\n  selectedGrade: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public commonService: CommonService,\r\n    private changeDetectRef: ChangeDetectorRef\r\n  ) {\r\n    this.validateSubjectForm = true;\r\n    this.validateNode = true;\r\n    this.validateNodeForm = true;\r\n    this.enableExpandNode = false;\r\n  }\r\n\r\n  getNodeTypeList() {\r\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\r\n      this.nodeTypes = nodeTypeData.generalSubject;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.createGeneralSubjectGroup();\r\n    this.pluginService.stepper();\r\n    this.getCurriculumList();\r\n    this.getNodeTypeList();\r\n  }\r\n\r\n  createGeneralSubjectGroup() {\r\n    this.generalSubjectForm = this.formBuilder.group({\r\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    });\r\n    this.conceptAndTopicForm = this.formBuilder.group({\r\n      conceptName: new FormControl(''),\r\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\r\n      topicName: new FormControl(''),\r\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    })\r\n  }\r\n\r\n  get formControl() { return this.generalSubjectForm.controls; }\r\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res.message)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  validateGeneralSubjectForm() {\r\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n    if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\r\n      this.validateSubjectForm = true;\r\n    } else {\r\n      this.validateSubjectForm = false;\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      this.validateSubjectForm = true;\r\n    }\r\n\r\n    if (this.generalSubjectForm.valid) {\r\n      this.validateSubjectForm = false;\r\n    }\r\n  }\r\n\r\n  loadGeneralSubjectTree() {\r\n    if (this.generalSubjectForm.valid) {\r\n      this.conceptAndTopicTree = [\r\n        {\r\n          \"text\": this.subjectName,\r\n          \"icon\": \"fa fa-book\",\r\n          \"data\": {\r\n            \"name\": this.subjectName,\r\n            \"description\": this.subjectDescription,\r\n            \"status\": null,\r\n            \"curriculumId\": 0,\r\n            \"grade\": 0,\r\n            \"editStatus\": CREATED\r\n          },\r\n          \"parent\": \"#\",\r\n          \"type\": \"root\"\r\n        }\r\n      ];\r\n      this.pluginService.jsTree(\"#buildTree\", this.conceptAndTopicTree, true);\r\n      this.pluginService.jsTree(\"#beforeChangeTree\", this.conceptAndTopicTree, false);\r\n      this.enableInstruction = true;\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      return\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nodeOnSelection();\r\n    this.generateJSONTreeOnDragAndDrop();\r\n  }\r\n\r\n  onNodeTypeChange() {\r\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\r\n    if (this.selectedNodeType) {\r\n      this.nodeType = this.selectedNodeType.name;\r\n      if (this.nodeType === 'concept') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\r\n        this.resetConceptAndTopicFormValues();\r\n      } else if (this.nodeType === 'topic') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\r\n        this.resetConceptAndTopicFormValues();\r\n      }\r\n    }\r\n  }\r\n\r\n  onCurriculumChange() {\r\n    let gradesApplicableFrom, gradesApplicableTo;\r\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n      gradesApplicableFrom = null;\r\n      gradesApplicableTo = null;\r\n    } else {\r\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n    }\r\n  }\r\n\r\n  generateGradeList(min, max) {\r\n    this.grades = [];\r\n    for (var i = min; i <= max; i++) {\r\n      this.grades.push({\r\n        \"id\": i,\r\n        \"name\": i\r\n      });\r\n    }\r\n    return this.grades;\r\n  }\r\n\r\n  //Reset all form values\r\n  resetConceptAndTopicFormValues() {\r\n    this.conceptAndTopicForm.reset();\r\n    this.selectedNodeType = null;\r\n    this.selectedCurriculum = null;\r\n    this.selectedGrade = null;\r\n  }\r\n\r\n  validateConceptAndTopicForm() {\r\n    let conceptName, topicName;\r\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n    if (this.nodeType === 'concept') {\r\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    } else if (this.nodeType === 'topic') {\r\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    //General Subject Form Validation\r\n    this.validateGeneralSubjectForm();\r\n    //Concept and topic form validation\r\n    this.validateConceptAndTopicForm();\r\n    this.changeDetectRef.detectChanges();\r\n  }\r\n\r\n  //Tree selection and change method call\r\n  nodeOnSelection() {\r\n    let localThisObj = this;\r\n    $('#buildTree').on('changed.jstree', function (e, data) {\r\n      let i, j, curriculumId;\r\n      for (i = 0, j = data.selected.length; i < j; i++) {\r\n        localThisObj.nodeType = data.node.type;\r\n        if (localThisObj.nodeType === \"root\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        } else if (localThisObj.nodeType === \"concept\") {\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else if (localThisObj.nodeType === \"topic\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          curriculumId = data.node.data.baseCurriculumId;\r\n          if (curriculumId === null) {\r\n            localThisObj.selectedCurriculum = null;\r\n            localThisObj.curriculum = null;\r\n          } else {\r\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\r\n          }\r\n          localThisObj.grade = data.node.data.baseGrade;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else {\r\n          localThisObj.enableNodeOperation = false;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //Concept and topic details form setvalues method\r\n  conceptAndTopicFormSetValues(Objectthis) {\r\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\r\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\r\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\r\n    if (Objectthis.nodeType === \"concept\") {\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: Objectthis.nodeTitle,\r\n        conceptDescription: Objectthis.nodeDescription,\r\n        topicName: \"\",\r\n        topicDescription: \"\"\r\n      })\r\n    } else if (Objectthis.nodeType === \"topic\") {\r\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\r\n        this.selectedCurriculum = null;\r\n        this.selectedGrade = null;\r\n      } else {\r\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\r\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\r\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\r\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\r\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\r\n        this.selectedGrade = this.grades[gradeIndex];\r\n      }\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: \"\",\r\n        conceptDescription: \"\",\r\n        topicName: Objectthis.nodeTitle,\r\n        topicDescription: Objectthis.nodeDescription\r\n      })\r\n    }\r\n  }\r\n\r\n  openConceptAndTopicModal() {\r\n    this.pluginService.showModalWindow(\"#generalSubjectEditModal\");\r\n  }\r\n\r\n  closeConceptAndTopicModal() {\r\n    this.pluginService.hideModalWindow(\"#generalSubjectEditModal\");\r\n  }\r\n\r\n  closeWithOutSavingNode() {\r\n    var localthisObject = this;\r\n    swal({\r\n      title: \"Are you sure to close without saving ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm === true) {\r\n          localthisObject.closeConceptAndTopicModal();\r\n          localthisObject.disableNodeOperations();\r\n        }\r\n      });\r\n  }\r\n\r\n  disableNodeOperations() {\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"\"\r\n    this.resetConceptAndTopicFormValues();\r\n    let treeCallback = $('#buildTree').jstree(true);\r\n    treeCallback.deselect_all();\r\n  }\r\n\r\n  //Create node method\r\n  createNode() {\r\n    this.nodeOperationType = \"create\";\r\n    this.modalTitleName = \"Add new\";\r\n    this.openConceptAndTopicModal();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.disableDropdown = false;\r\n    this.enableModalOperation = false;\r\n    this.nodeType = \"\";\r\n  }\r\n\r\n  //Edit node method\r\n  editNode() {\r\n    this.nodeOperationType = \"edit\";\r\n    this.modalTitleName = \"Edit\";\r\n    this.disableDropdown = true;\r\n    this.conceptAndTopicForm.patchValue({\r\n      conceptName: this.nodeTitle,\r\n      topicName: this.nodeTitle,\r\n      conceptDescription: this.nodeDescription,\r\n      topicDescription: this.nodeDescription\r\n    })\r\n    this.openConceptAndTopicModal();\r\n    this.enableModalOperation = true;\r\n  }\r\n\r\n  //Save node method\r\n  saveNode() {\r\n    if (this.conceptAndTopicForm.valid) {\r\n      this.validateNodeForm = false;\r\n      var newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, nodeID, data, curriculum, grade;\r\n      position = 'last';\r\n      parent = $('#buildTree').jstree('get_selected')[0];\r\n      treeCallback = $('#buildTree').jstree(true);\r\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n      nodeID = treeCallback.get_selected()[0];\r\n      nodeIndex = jsonArray.findIndex(item => item.id === nodeID);\r\n      if (this.nodeOperationType === \"create\") {\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"concept\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"orderNumber\": 0,\r\n              \"status\": null,\r\n              \"curriculumId\": null,\r\n              \"grade\": null,\r\n              \"editStatus\": CREATED,\r\n              \"baseCurriculumId\": 0,\r\n              \"baseGrade\": 0,\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"topic\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"baseCurriculumId\": curriculum,\r\n              \"baseGrade\": grade,\r\n              \"orderNumber\": 0,\r\n              \"status\": null,\r\n              \"curriculumId\": null,\r\n              \"grade\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n      } else if (this.nodeOperationType === \"edit\") {\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          data = {\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": 0,\r\n            \"baseCurriculumId\": 0,\r\n            \"baseGrade\": 0,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"grade\": null,\r\n            \"editStatus\": CREATED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        } else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          data = {\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"baseCurriculumId\": curriculum,\r\n            \"baseGrade\": grade,\r\n            \"orderNumber\": 0,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"grade\": null,\r\n            \"editStatus\": CREATED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        }\r\n      }\r\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true);\r\n      this.updateJSONTreeWithOrderNum(jsonArray);\r\n      treeCallback.deselect_all();\r\n      this.nodeType = \"\";\r\n      this.enableNodeOperation = false;\r\n      this.closeConceptAndTopicModal();\r\n      this.resetConceptAndTopicFormValues();\r\n    }\r\n    if (this.conceptAndTopicForm.invalid) {\r\n      this.validateNodeForm = true;\r\n      return;\r\n    }\r\n  }\r\n\r\n  //Delete node method\r\n  deleteNode() {\r\n    var nodeID, jsonArray, treeCallback;\r\n    this.nodeOperationType = \"delete\";\r\n    treeCallback = $(\"#buildTree\").jstree();\r\n    nodeID = treeCallback.get_selected()[0];\r\n    treeCallback.delete_node($('#' + nodeID))\r\n    jsonArray = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\r\n    this.updateJSONTreeWithOrderNum(jsonArray);\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"root\";\r\n  }\r\n\r\n  //Generate JSON tree on drag and drop\r\n  generateJSONTreeOnDragAndDrop() {\r\n    var localObj = this;\r\n    $(document).on('dnd_stop.vakata', function (e, data) {\r\n      setTimeout(function () {\r\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        localObj.updateJSONTreeWithOrderNum(json);\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  trimValue(value) {\r\n    if (value === null || value === undefined) {\r\n      return value;\r\n    } else {\r\n      return value.trim();\r\n    }\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (ErrRes: HttpErrorResponse) => this.onSaveError(ErrRes));\r\n  }\r\n\r\n  saveAsDraft() {\r\n    this.updatedJSONTree[0].data.status = DRAFT;\r\n    this.saveGeneralSubject();\r\n  }\r\n\r\n  saveAndPublish() {\r\n    this.updatedJSONTree[0].data.status = ACTIVE;\r\n    this.saveGeneralSubject();\r\n  }\r\n\r\n  saveGeneralSubject() {\r\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\r\n  }\r\n\r\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\r\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\r\n    this.previousUrl();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.generalSubjectForm.reset();\r\n  }\r\n\r\n  protected onSaveError(res: HttpErrorResponse) {\r\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\r\n  }\r\n\r\n  private createGeneralSubjectForm(): IGeneralSubject[] {\r\n    return this.updatedJSONTree;\r\n  }\r\n\r\n  //update JSON array with order number \r\n  updateJSONTreeWithOrderNum(json) {\r\n    this.updatedJSONTree = [];\r\n    this.updatedJSONTree = json;\r\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\r\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n      this.validateNode = true;\r\n    } else if (this.updatedJSONTree[0].type === \"root\") {\r\n      this.validateNode = false;\r\n    }\r\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\r\n      this.updatedJSONTree[i].data.orderNumber = i;\r\n      //Remove unwanted objects (for api call) from the JSON tree\r\n      delete this.updatedJSONTree[i].state;\r\n      delete this.updatedJSONTree[i].a_attr;\r\n      delete this.updatedJSONTree[i].li_attr;\r\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\r\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n        this.validateNode = true;\r\n      }\r\n    }\r\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\r\n  }\r\n\r\n  protected onError(errorMessage: string) {\r\n    this.pluginService.alertMessage(errorMessage, \"error\");\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    if (this.updatedJSONTree.length > 1) {\r\n      this.enableExpandNode = !this.enableExpandNode;\r\n      if (this.enableExpandNode) {\r\n        this.pluginService.openJsTreeAllNodes(\"#buildTree\");\r\n      } else {\r\n        this.pluginService.closeJsTreeAllNodes(\"#buildTree\")\r\n      }\r\n    }\r\n  }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject');\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { JhiEventManager } from 'ng-jhipster';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectDeleteComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        protected eventManager: JhiEventManager,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.deletegeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteSuccess(res), (res: HttpErrorResponse) => this.onDeleteError(res));\r\n    }\r\n\r\n    deletegeneralSubject(generalSubject) {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete this general subject ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: false,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localthisObject.confirmDelete(generalSubject.id);\r\n                } else {\r\n                    localthisObject.previousUrl();\r\n                }\r\n            });\r\n    }\r\n\r\n    confirmDelete(id: number) {\r\n        this.subscribeToDeleteResponse(this.generalSubjectService.delete(id));\r\n    }\r\n\r\n    previousUrl() {\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n    protected onDeleteSuccess(resp) {\r\n        this.pluginService.alertMessage(\"General subject deleted successfully\", \"success\");\r\n        this.previousUrl();\r\n    }\r\n\r\n    onDeleteError(err: HttpErrorResponse) {\r\n        this.pluginService.alertMessage(\"Could not delete general subject, please contact admin\", \"error\")\r\n    }\r\n\r\n}","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-details.component.html\",\r\n  providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectDetailsComponent implements OnInit {\r\n  generalSubject: IGeneralSubject[] = [];\r\n  curriculumList: IGeneralSubject[];\r\n  nodeType: string;\r\n  nodeName: string;\r\n  nodeDescription: string;\r\n  subjectId: number;\r\n  curriculum: string;\r\n  grade: string;\r\n  active: boolean;\r\n\r\n  constructor(\r\n    public pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public router: Router\r\n  ) {\r\n    this.active = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n      this.generalSubject = generalSubject;\r\n      this.updateGeneralSubjectValues(generalSubject);\r\n    });\r\n    this.getCurriculumList();\r\n  }\r\n\r\n  updateGeneralSubjectValues(generalSubject: IGeneralSubject[]) {\r\n    this.generalSubject = generalSubject;\r\n    this.pluginService.jsTree(\"#treeView\", this.generalSubject, false);\r\n    this.subjectId = this.generalSubject[0].data.id;\r\n  }\r\n\r\n  showConceptAndTopicDetails() {\r\n    var localThisObj = this;\r\n    $('#treeView')\r\n      .on('changed.jstree', function (e, data) {\r\n        var i, j, curriculumId;\r\n        for (i = 0, j = data.selected.length; i < j; i++) {\r\n          localThisObj.nodeType = data.node.type;\r\n          if (localThisObj.nodeType === \"root\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n          }\r\n          else if (localThisObj.nodeType === \"concept\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n          } else if (localThisObj.nodeType === \"topic\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n            curriculumId = data.node.data.baseCurriculumId;\r\n            if (curriculumId === null) {\r\n              localThisObj.curriculum = null;\r\n            } else {\r\n              localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\r\n            }\r\n            localThisObj.grade = data.node.data.baseGrade;\r\n          } else {\r\n            localThisObj.nodeType = \"\"\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.showConceptAndTopicDetails();\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    this.active = !this.active;\r\n    if (this.active) {\r\n      this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n    } else {\r\n      this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n    }\r\n  }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res.message)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  onError(message) {\r\n    this.pluginService.alertMessage(message, \"error\")\r\n  }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject')\r\n  }\r\n}","import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { Router } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { Subscription } from 'rxjs';\r\nimport { Principal } from '../core';\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { ITEMS_PER_PAGE } from '../shared';\r\nimport { HttpResponse, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-manage.component.html\",\r\n  providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectManageComponent implements OnInit, OnDestroy {\r\n  generalSubjects: IGeneralSubject[];\r\n  eventSubscriber: Subscription;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n  currentAccount: any;\r\n  predicate: any;\r\n  reverse: any;\r\n  page: any;\r\n  links: any;\r\n\r\n  constructor(\r\n    public _router: Router,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    protected eventManager: JhiEventManager,\r\n    protected parseLinks: JhiParseLinks,\r\n    protected principalService: Principal,\r\n    public pluginService: PluginService\r\n  ) {\r\n    this.generalSubjects = [];\r\n    this.itemsPerPage = ITEMS_PER_PAGE;\r\n    this.page = 0;\r\n    this.links = {\r\n      last: 0\r\n    };\r\n    this.predicate = 'id';\r\n    this.reverse = false;\r\n  }\r\n\r\n  reset() {\r\n    this.page = 0;\r\n    this.generalSubjects = [];\r\n    this.loadGeneralSubjects();\r\n  }\r\n\r\n  loadPage(page) {\r\n    this.page = page;\r\n    this.loadGeneralSubjects();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadGeneralSubjects();\r\n    this.principalService.identity().then(account => {\r\n      this.currentAccount = account;\r\n    });\r\n    this.registerChangeInGeneralSubjects();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.eventManager.destroy(this.eventSubscriber);\r\n  }\r\n\r\n  trackId(index: number, item: IGeneralSubject) {\r\n    return item.id;\r\n  }\r\n\r\n  sort() {\r\n    const result = [this.predicate + ',' + (this.reverse ? 'asc' : 'desc')];\r\n    if (this.predicate !== 'id') {\r\n      result.push('id');\r\n    }\r\n    return result;\r\n  }\r\n\r\n  registerChangeInGeneralSubjects() {\r\n    this.eventSubscriber = this.eventManager.subscribe('generalSubjectListModification', response => this.reset());\r\n  }\r\n\r\n  loadGeneralSubjects() {\r\n    this.generalSubjectService\r\n      .query({\r\n        page: this.page,\r\n        size: this.itemsPerPage,\r\n        sort: this.sort()\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<IGeneralSubject[]>) => this.paginateGeneralSubjects(res.body, res.headers),\r\n        (res: HttpErrorResponse) => this.onError(res.message)\r\n      );\r\n  }\r\n\r\n  protected paginateGeneralSubjects(data: IGeneralSubject[], headers: HttpHeaders) {\r\n    this.links = this.parseLinks.parse(headers.get('link'));\r\n    this.totalItems = parseInt(headers.get('X-Total-Count'), 10);\r\n    if (data.length > 0) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        this.generalSubjects.push(data[i]);\r\n      }\r\n    } else {\r\n      this.pluginService.alertMessage(\"No data found..!\", \"warning\");\r\n    }\r\n  }\r\n\r\n  protected onError(errorMessage: string) {\r\n    this.pluginService.alertMessage(errorMessage, \"error\");\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ACTIVE } from '../shared/constants/common.constants'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectPublishComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService\r\n    ) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.publishGeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\r\n    }\r\n\r\n    publishGeneralSubject(generalSubject) {\r\n        generalSubject.status = ACTIVE;\r\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n\r\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\r\n        if (resp.body.status === ACTIVE) {\r\n            this.pluginService.alertMessage(\"General subject published successfully\", \"success\")\r\n        }\r\n    }\r\n\r\n    onSaveError(errRes: HttpErrorResponse) {\r\n        this.pluginService.alertMessage(\"Could not publish, please contact admin\", \"error\")\r\n    }\r\n\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { INACTIVE } from '../shared/constants/common.constants'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectUnpublishComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.unpublishGeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\r\n    }\r\n\r\n    unpublishGeneralSubject(generalSubject) {\r\n        generalSubject.status = INACTIVE;\r\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n\r\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\r\n        if (resp.body.status === INACTIVE) {\r\n            this.pluginService.alertMessage(\"General subject unpublished successfully\", \"success\")\r\n        }\r\n    }\r\n\r\n    onSaveError(errRes: HttpErrorResponse) {\r\n        this.pluginService.alertMessage(\"Could not unpublish, please contact admin\", \"error\")\r\n    }\r\n\r\n}","import { Component, OnInit, AfterViewInit, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { CREATED, DRAFT, ACTIVE, EDITED, NOCHANGE, DELETED } from '../shared/constants/common.constants';\r\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-update.component.html\",\r\n  providers: [GeneralSubjectService]\r\n})\r\nexport class GeneralSubjectUpdateComponent implements OnInit, AfterViewInit {\r\n  generalSubjectForm: FormGroup;\r\n  conceptAndTopicForm: FormGroup;\r\n  generalSubject: IGeneralSubject[] = [];\r\n  updatedJSONTree: IGeneralSubject[] = [];\r\n  curriculumList: ICurriculum[] = [];\r\n  nodeTypes: any[] = [];\r\n  grades: any[] = [];\r\n  subjectName: string;\r\n  subjectDescription: string;\r\n  nodeType: string;\r\n  nodeTitle: string;\r\n  nodeDescription: string;\r\n  curriculum: string;\r\n  grade: string;\r\n  nodeId: string;\r\n  nodeOperationType: string;\r\n  modalTitleName: string;\r\n  curriculumId: number;\r\n  validateSubjectForm: boolean;\r\n  enableNodeOperation: boolean;\r\n  enableEditNodeOperation: boolean;\r\n  validateNodeForm: boolean;\r\n  enableModalOperation: boolean;\r\n  validateNode: boolean;\r\n  disableDropdown: boolean;\r\n  enableExpandNode: boolean;\r\n  selectedNodeType: any;\r\n  selectedCurriculum: any;\r\n  selectedGrade: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public commonService: CommonService,\r\n    private changeDetectRef: ChangeDetectorRef\r\n  ) {\r\n    this.validateSubjectForm = true;\r\n    this.validateNode = true;\r\n    this.validateNodeForm = true;\r\n    this.enableExpandNode = false;\r\n  }\r\n\r\n  getNodeTypeList() {\r\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\r\n      this.nodeTypes = nodeTypeData.generalSubject;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.createGeneralSubjectGroup();\r\n    this.pluginService.stepper();\r\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n      this.updateGeneralSubjectValues(generalSubject);\r\n    });\r\n    this.getNodeTypeList();\r\n    this.getCurriculumList();\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  createGeneralSubjectGroup() {\r\n    this.generalSubjectForm = this.formBuilder.group({\r\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    });\r\n    this.conceptAndTopicForm = this.formBuilder.group({\r\n      conceptName: new FormControl(''),\r\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\r\n      topicName: new FormControl(''),\r\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    })\r\n  }\r\n\r\n  get formControl() { return this.generalSubjectForm.controls; }\r\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res.message)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  updateGeneralSubjectValues(generalSubject: IGeneralSubject) {\r\n    this.updateStatusForAllNodes(generalSubject);\r\n    this.pluginService.jsTree(\"#beforeChangeTree\", generalSubject, false);\r\n    this.subjectName = generalSubject[0].data.name;\r\n    this.subjectDescription = generalSubject[0].data.description;\r\n    this.generalSubjectForm.setValue({\r\n      generalSubjectName: this.subjectName,\r\n      generalSubjectDescription: this.subjectDescription\r\n    });\r\n  }\r\n\r\n  updateStatusForAllNodes(generalSubject) {\r\n    for (var i = 0; i < generalSubject.length; i++) {\r\n      generalSubject[i].data.editStatus = NOCHANGE;\r\n    }\r\n    this.generalSubject = generalSubject;\r\n    this.pluginService.jsTree(\"#buildTree\", generalSubject, true);\r\n  }\r\n\r\n  trimValue(value) {\r\n    if (value === null || value === undefined) {\r\n      return value;\r\n    } else {\r\n      return value.trim();\r\n    }\r\n  }\r\n\r\n  validateGeneralSubjectForm() {\r\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n    if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\r\n      this.validateSubjectForm = true;\r\n    } else {\r\n      this.validateSubjectForm = false;\r\n    }\r\n\r\n    if (this.generalSubjectForm.invalid) {\r\n      this.validateSubjectForm = true;\r\n    }\r\n\r\n    if (this.generalSubjectForm.valid) {\r\n      this.validateSubjectForm = false;\r\n    }\r\n  }\r\n\r\n  updateSubjectTree() {\r\n    var name, description;\r\n    if (this.generalSubjectForm.valid) {\r\n      name = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n      description = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n      this.generalSubject[0].text = name;\r\n      this.generalSubject[0].data.name = name;\r\n      this.generalSubject[0].data.description = description;\r\n      this.pluginService.jsTree(\"#buildTree\", this.generalSubject, true);\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      return\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nodeOnSelection();\r\n    this.generateJSONTreeOnDragAndDrop();\r\n  }\r\n\r\n  onNodeTypeChange() {\r\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\r\n    if (this.selectedNodeType) {\r\n      this.nodeType = this.selectedNodeType.name;\r\n      if (this.nodeType === 'concept') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\r\n      } else if (this.nodeType === 'topic') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\r\n      }\r\n    }\r\n  }\r\n\r\n  onCurriculumChange() {\r\n    let gradesApplicableFrom, gradesApplicableTo;\r\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n      gradesApplicableFrom = null;\r\n      gradesApplicableTo = null;\r\n    } else {\r\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n    }\r\n  }\r\n\r\n  generateGradeList(min, max) {\r\n    this.grades = [];\r\n    for (var i = min; i <= max; i++) {\r\n      this.grades.push({\r\n        \"id\": i,\r\n        \"name\": i\r\n      });\r\n    }\r\n    return this.grades;\r\n  }\r\n\r\n  //Reset all form values\r\n  resetConceptAndTopicFormValues() {\r\n    this.conceptAndTopicForm.reset();\r\n    this.selectedNodeType = null;\r\n    this.selectedCurriculum = null;\r\n    this.selectedGrade = null;\r\n  }\r\n\r\n  //Tree selection and change method call\r\n  nodeOnSelection() {\r\n    let localThisObj = this;\r\n    $('#buildTree').on('changed.jstree', function (e, data) {\r\n      let i, j;\r\n      for (i = 0, j = data.selected.length; i < j; i++) {\r\n        localThisObj.nodeType = data.node.type;\r\n        if (localThisObj.nodeType === \"root\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        } else if (localThisObj.nodeType === \"concept\") {\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.nodeId = data.node.data.id;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else if (localThisObj.nodeType === \"topic\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.nodeId = data.node.data.id;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.curriculumId = data.node.data.baseCurriculumId;\r\n          if (localThisObj.curriculumId === null) {\r\n            localThisObj.selectedCurriculum = null;\r\n            localThisObj.curriculum = null;\r\n          } else {\r\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === localThisObj.curriculumId).acronym;\r\n          }\r\n          localThisObj.grade = data.node.data.baseGrade;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else {\r\n          localThisObj.enableNodeOperation = false;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //Concept and topic details form setvalues method\r\n  conceptAndTopicFormSetValues(Objectthis) {\r\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\r\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\r\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\r\n    if (Objectthis.nodeType === \"concept\") {\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: Objectthis.nodeTitle,\r\n        conceptDescription: Objectthis.nodeDescription,\r\n        topicName: \"\",\r\n        topicDescription: \"\"\r\n      })\r\n    } else if (Objectthis.nodeType === \"topic\") {\r\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\r\n        this.selectedCurriculum = null;\r\n        this.selectedGrade = null;\r\n      } else {\r\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\r\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\r\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\r\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\r\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\r\n        this.selectedGrade = this.grades[gradeIndex];\r\n      }\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: \"\",\r\n        conceptDescription: \"\",\r\n        topicName: Objectthis.nodeTitle,\r\n        topicDescription: Objectthis.nodeDescription\r\n      })\r\n    }\r\n  }\r\n\r\n  validateConceptAndTopicForm() {\r\n    let conceptName, topicName;\r\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n    if (this.nodeType === 'concept') {\r\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    } else if (this.nodeType === 'topic') {\r\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    //General Subject Form Validation\r\n    this.validateGeneralSubjectForm();\r\n    //Concept and topic form validation\r\n    this.validateConceptAndTopicForm();\r\n    this.changeDetectRef.detectChanges();\r\n  }\r\n\r\n  //Create node method\r\n  createNode() {\r\n    this.nodeOperationType = \"create\";\r\n    this.modalTitleName = \"Add new\";\r\n    this.openConceptAndTopicModal();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.disableDropdown = false;\r\n    this.enableModalOperation = false;\r\n    this.nodeType = \"\";\r\n  }\r\n\r\n  //Edit node method\r\n  editNode() {\r\n    this.nodeOperationType = \"edit\";\r\n    this.modalTitleName = \"Edit\";\r\n    this.disableDropdown = true;\r\n    this.conceptAndTopicForm.patchValue({\r\n      conceptName: this.nodeTitle,\r\n      topicName: this.nodeTitle,\r\n      conceptDescription: this.nodeDescription,\r\n      topicDescription: this.nodeDescription\r\n    })\r\n    this.enableModalOperation = true;\r\n    this.openConceptAndTopicModal();\r\n  }\r\n\r\n  openConceptAndTopicModal() {\r\n    this.pluginService.showModalWindow(\"#generalSubjectModal\");\r\n  }\r\n\r\n  closeConceptAndTopicModal() {\r\n    this.pluginService.hideModalWindow(\"#generalSubjectModal\")\r\n  }\r\n\r\n  closeWithOutSavingNode() {\r\n    var localthisObject = this;\r\n    swal({\r\n      title: \"Are you sure to close without saving ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm === true) {\r\n          localthisObject.closeConceptAndTopicModal();\r\n          localthisObject.disableNodeOperations();\r\n        }\r\n      });\r\n  }\r\n\r\n  disableNodeOperations() {\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"\"\r\n    this.resetConceptAndTopicFormValues();\r\n    let treeCallback = $('#buildTree').jstree(true);\r\n    treeCallback.deselect_all();\r\n  }\r\n\r\n  //Save node method\r\n  saveNode() {\r\n    if (this.conceptAndTopicForm.valid) {\r\n      this.validateNodeForm = false;\r\n      let newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, selectedNodeID, data, curriculum, grade;\r\n      position = 'last';\r\n      parent = $('#buildTree').jstree('get_selected')[0];\r\n      treeCallback = $('#buildTree').jstree(true);\r\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n      selectedNodeID = treeCallback.get_selected()[0];\r\n      nodeIndex = jsonArray.findIndex(item => item.id === selectedNodeID);\r\n      if (this.nodeOperationType === \"create\") {\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"concept\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"orderNumber\": null,\r\n              \"status\": null,\r\n              \"curriculumId\": null,\r\n              \"baseCurriculumId\": null,\r\n              \"baseGrade\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"topic\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"baseCurriculumId\": curriculum,\r\n              \"baseGrade\": grade,\r\n              \"orderNumber\": null,\r\n              \"status\": null,\r\n              \"curriculumId\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        this.validateNode = false;\r\n      } if (this.nodeOperationType === \"edit\") {\r\n        this.validateNode = false;\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": null,\r\n            \"baseGrade\": null,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"editStatus\": EDITED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        } else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"baseCurriculumId\": curriculum,\r\n            \"baseGrade\": grade,\r\n            \"orderNumber\": null,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"editStatus\": EDITED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        }\r\n      } else if (this.nodeOperationType === \"delete\") {\r\n        this.validateNode = false;\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": null,\r\n            \"baseGrade\": null,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"editStatus\": DELETED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n          arrayDetails.type = 'concept';\r\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n          //Update a child node status\r\n          if (treeCallback.is_parent(selectedNodeID) === true) {\r\n            this.getChildrenDOM(selectedNodeID, jsonArray);\r\n          }\r\n        } else {\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": this.curriculumId,\r\n            \"baseGrade\": this.grade,\r\n            \"status\": null,\r\n            \"curriculumId\": null,\r\n            \"editStatus\": DELETED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n          arrayDetails.type = 'topic';\r\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n        }\r\n      } else {\r\n      }\r\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true)\r\n      this.changeNodeStatus(jsonArray);\r\n      treeCallback.deselect_all();\r\n      this.nodeType = \"\";\r\n      this.enableNodeOperation = false;\r\n      this.closeConceptAndTopicModal()\r\n      this.resetConceptAndTopicFormValues();\r\n    }\r\n    if (this.conceptAndTopicForm.invalid) {\r\n      this.validateNodeForm = true;\r\n      return;\r\n    }\r\n  }\r\n\r\n  //Delete node method\r\n  deleteNode() {\r\n    this.nodeOperationType = \"delete\";\r\n    this.saveNode();\r\n  }\r\n\r\n  //Get children DOM\r\n  getChildrenDOM(selectedNode, jsonArray) {\r\n    var treeCallBack, childrenDOM, childDOM, lastChildDOM, subChildDOM, i, j, k, l, childrenIDs1 = [], childrenIDs2 = [], childrenIDs3 = [], childrenIDs4 = [], childrenIDs = [];\r\n    treeCallBack = $(\"#buildTree\").jstree(true)\r\n    childrenDOM = treeCallBack.get_children_dom(selectedNode);\r\n    for (i = 0; i < childrenDOM.length; i++) {\r\n      childrenIDs1.push({ \"id\": childrenDOM[i].id });\r\n      if (treeCallBack.is_parent(childrenIDs1[i]) === true) {\r\n        childDOM = treeCallBack.get_children_dom(childrenIDs1[i]);\r\n        for (j = 0; j < childDOM.length; j++) {\r\n          childrenIDs2.push({ \"id\": childDOM[j].id });\r\n          if (treeCallBack.is_parent(childrenIDs2[j]) === true) {\r\n            subChildDOM = treeCallBack.get_children_dom(childrenIDs2[j]);\r\n            for (k = 0; k < subChildDOM.length; k++) {\r\n              childrenIDs3.push({ \"id\": subChildDOM[k].id });\r\n              if (treeCallBack.is_parent(childrenIDs3[k]) === true) {\r\n                lastChildDOM = treeCallBack.get_children_dom(childrenIDs3[k]);\r\n                for (l = 0; l < lastChildDOM.length; l++) {\r\n                  childrenIDs4.push({ \"id\": lastChildDOM[l].id });\r\n                  this.updateDeleteStatus(childrenIDs4, jsonArray);\r\n                }\r\n              }\r\n              this.updateDeleteStatus(childrenIDs3, jsonArray);\r\n            }\r\n          }\r\n          this.updateDeleteStatus(childrenIDs2, jsonArray);\r\n        }\r\n      }\r\n    }\r\n    this.updateDeleteStatus(childrenIDs1, jsonArray);\r\n    this.updatedJSONTree = jsonArray;\r\n  }\r\n\r\n  //Update delete status\r\n  updateDeleteStatus(childrenIDs, jsonArray) {\r\n    var k, nodeIndex, nodeType, data;\r\n    for (k = 0; k < childrenIDs.length; k++) {\r\n      nodeIndex = jsonArray.findIndex(item => item.id === childrenIDs[k].id);\r\n      nodeType = jsonArray[nodeIndex].type;\r\n      if (nodeType === \"concept\") {\r\n        data = {\r\n          \"id\": this.nodeId,\r\n          \"name\": this.nodeTitle,\r\n          \"description\": this.nodeDescription,\r\n          \"orderNumber\": null,\r\n          \"baseCurriculumId\": null,\r\n          \"baseGrade\": null,\r\n          \"status\": null,\r\n          \"curriculumId\": null,\r\n          \"editStatus\": DELETED\r\n        }\r\n        jsonArray[nodeIndex].data = data;\r\n        jsonArray[nodeIndex].type = 'concept';\r\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n      } else {\r\n        data = {\r\n          \"id\": this.nodeId,\r\n          \"name\": this.nodeTitle,\r\n          \"description\": this.nodeDescription,\r\n          \"orderNumber\": null,\r\n          \"baseCurriculumId\": this.curriculumId,\r\n          \"baseGrade\": this.grade,\r\n          \"status\": null,\r\n          \"curriculumId\": null,\r\n          \"editStatus\": DELETED\r\n        }\r\n        jsonArray[nodeIndex].data = data;\r\n        jsonArray[nodeIndex].type = 'topic';\r\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n      }\r\n    }\r\n  }\r\n\r\n  //Generate JSON tree on drag and drop\r\n  generateJSONTreeOnDragAndDrop() {\r\n    var localObj = this, json: any[] = [];\r\n    $(document).on('dnd_stop.vakata', function (e, data) {\r\n      setTimeout(function () {\r\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        localObj.updateJSONTreeWithOrderNum(json);\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\r\n  }\r\n\r\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\r\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\r\n    this.previousUrl();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.generalSubjectForm.reset();\r\n  }\r\n\r\n  protected onSaveError(errRes: HttpErrorResponse) {\r\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\r\n  }\r\n\r\n  saveAsDraft() {\r\n    this.updatedJSONTree[0].data.status = DRAFT;\r\n    this.saveGeneralSubject();\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  saveAndPublish() {\r\n    this.updatedJSONTree[0].data.status = ACTIVE;\r\n    this.saveGeneralSubject();\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  saveGeneralSubject() {\r\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\r\n  }\r\n\r\n  private createGeneralSubjectForm(): IGeneralSubject[] {\r\n    return this.updatedJSONTree;\r\n  }\r\n\r\n  //update JSON array with order number \r\n  updateJSONTreeWithOrderNum(json) {\r\n    this.updatedJSONTree = [];\r\n    this.updatedJSONTree = json;\r\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\r\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n      this.validateNode = true;\r\n    } else if (this.updatedJSONTree[0].type === \"root\") {\r\n      this.validateNode = false;\r\n    }\r\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\r\n      this.updatedJSONTree[i].data.orderNumber = i;\r\n      //Remove unwanted objects (for api call) from the JSON tree\r\n      delete this.updatedJSONTree[i].state;\r\n      delete this.updatedJSONTree[i].a_attr;\r\n      delete this.updatedJSONTree[i].li_attr;\r\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\r\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n        this.validateNode = true;\r\n      }\r\n    }\r\n\r\n\r\n\r\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\r\n  }\r\n\r\n  //If new node is created and edited , status will be created only \r\n  //If new node is created and deleted , remove an element from the updated array\r\n  changeNodeStatus(json) {\r\n    let selectedNodeID, treeCallback, updatedJson;\r\n    for (let i = 0; i < json.length; i++)\r\n      if (json[i].data.id === undefined) {\r\n        if (json[i].data.editStatus === EDITED) {\r\n          json[i].data.editStatus = CREATED\r\n        } else if (json[i].data.editStatus === DELETED) {\r\n          treeCallback = $('#buildTree').jstree(true);\r\n          selectedNodeID = treeCallback.get_selected()[0];\r\n          treeCallback.delete_node($('#' + selectedNodeID))\r\n          updatedJson = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\r\n          json = updatedJson;\r\n        }\r\n      }\r\n    this.updateJSONTreeWithOrderNum(json);\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    this.enableExpandNode = !this.enableExpandNode;\r\n    if (this.enableExpandNode) {\r\n      this.pluginService.openJsTreeAllNodes(\"#buildTree\");\r\n    } else {\r\n      this.pluginService.closeJsTreeAllNodes(\"#buildTree\");\r\n    }\r\n  }\r\n\r\n  protected onError(errorMessage: string) {\r\n    this.pluginService.alertMessage(errorMessage, \"error\");\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject');\r\n  }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgJhipsterModule } from 'ng-jhipster';\r\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { SharedModule } from '../shared';\r\nimport {\r\n  GeneralSubjectManageComponent,\r\n  GeneralSubjectDetailsComponent,\r\n  GeneralSubjectUpdateComponent,\r\n  generalSubjectRoute\r\n} from '.';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { GeneralSubjectCreateComponent } from './general-subject-create.component';\r\nimport { GeneralSubjectPublishComponent } from './general-subject-update-publish.component';\r\nimport { GeneralSubjectUnpublishComponent } from './general-subject-update-unpublish.component';\r\nimport { GeneralSubjectDeleteComponent } from './general-subject-delete.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(generalSubjectRoute),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    NgJhipsterModule,\r\n    InfiniteScrollModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [\r\n    GeneralSubjectManageComponent,\r\n    GeneralSubjectCreateComponent,\r\n    GeneralSubjectUpdateComponent,\r\n    GeneralSubjectDetailsComponent,\r\n    GeneralSubjectDeleteComponent,\r\n    GeneralSubjectPublishComponent,\r\n    GeneralSubjectUnpublishComponent\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class GeneralSubjectsModule {\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, Routes } from '@angular/router';\r\nimport { UserRouteAccessService } from '../core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { GeneralSubjectManageComponent } from './general-subject-manage.component';\r\nimport { GeneralSubjectDetailsComponent } from './general-subject-details.component';\r\nimport { GeneralSubjectUpdateComponent } from './general-subject-update.component';\r\nimport { IGeneralSubject, GeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { GeneralSubjectCreateComponent } from './general-subject-create.component';\r\nimport { GeneralSubjectPublishComponent } from './general-subject-update-publish.component';\r\nimport { GeneralSubjectUnpublishComponent } from './general-subject-update-unpublish.component';\r\nimport { GeneralSubjectDeleteComponent } from './general-subject-delete.component';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectResolve implements Resolve<IGeneralSubject> {\r\n  constructor(private service: GeneralSubjectService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IGeneralSubject> {\r\n    const id = route.params['id'] ? route.params['id'] : null;\r\n    if (id) {\r\n      return this.service.getSubjectBySubjectId(id).pipe(\r\n        filter((response: HttpResponse<GeneralSubject>) => response.ok),\r\n        map((generalSubject: HttpResponse<GeneralSubject>) => generalSubject.body)\r\n      );\r\n    }\r\n    return of(new GeneralSubject());\r\n  }\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectWithTreeResolve implements Resolve<any> {\r\n  constructor(private service: GeneralSubjectService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\r\n    const id = route.params['id'] ? route.params['id'] : null;\r\n    if (id) {\r\n      return this.service.getSubjectTreeBySubjectId(id).pipe(\r\n        filter((response: HttpResponse<any>) => response.ok),\r\n        map((generalSubject: HttpResponse<any>) => generalSubject.body)\r\n      );\r\n    }\r\n    return of(new GeneralSubject());\r\n  }\r\n}\r\n\r\nexport const generalSubjectRoute: Routes = [\r\n  {\r\n    path: '',\r\n    component: GeneralSubjectManageComponent,\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Manage general subjects'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: GeneralSubjectCreateComponent,\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Create new general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/edit',\r\n    component: GeneralSubjectUpdateComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectWithTreeResolve\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Edit general subject',\r\n      action: 'edit'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/view',\r\n    component: GeneralSubjectDetailsComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectWithTreeResolve\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'View general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/delete',\r\n    component: GeneralSubjectDeleteComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Delete general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/publish',\r\n    component: GeneralSubjectPublishComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Publish general subject',\r\n      action: 'publish'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/unpublish',\r\n    component: GeneralSubjectUnpublishComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n      pageTitle: 'Unpublish general subject',\r\n      action: 'unpublish'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  }\r\n];\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\n\r\ntype EntityResponseType = HttpResponse<IGeneralSubject>;\r\ntype EntityArrayResponseType = HttpResponse<IGeneralSubject[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectService {\r\n\r\n  public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\r\n  public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\r\n  public generalSubjectResourceUrl = environment.API_URL + 'services/content/api/general-subjects';\r\n  public generalSubjectSearchResourceUrl = environment.API_URL + 'services/content/api/general-subjects/search';\r\n  public generalSubjectResourceUrlWithTree = environment.API_URL + 'services/content/api/general-subjects/subject-tree';\r\n\r\n  constructor(protected http: HttpClient) { }\r\n\r\n  getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\r\n    return this.http.get<IGeneralSubject>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectSearchList(): Observable<EntityArrayResponseType> {\r\n    var reqJSON = {\r\n      \"status\": ACTIVE\r\n    };\r\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\r\n    return this.http.get<IGeneralSubject[]>(`${this.generalSubjectResourceUrlWithTree}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  updateGeneralSubjectStatus(generalSubject: IGeneralSubject): Observable<EntityResponseType> {\r\n    return this.http.put<IGeneralSubject>(this.generalSubjectResourceUrl, generalSubject, { observe: 'response' });\r\n  }\r\n\r\n  query(req?: any): Observable<EntityArrayResponseType> {\r\n    const options = createRequestOption(req);\r\n    return this.http.get<IGeneralSubject[]>(this.generalSubjectResourceUrl, { params: options, observe: 'response' });\r\n  }\r\n\r\n  delete(id: number): Observable<HttpResponse<any>> {\r\n    return this.http.delete<any>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  saveGeneralSubject(generalSubject: IGeneralSubject[]): Observable<EntityResponseType> {\r\n    return this.http.post<IGeneralSubject>(this.generalSubjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\r\n  }\r\n}\r\n","export const DRAFT = 'DRAFT';\r\nexport const ACTIVE = 'ACTIVE';\r\nexport const INACTIVE = 'INACTIVE';\r\nexport const ARCHIVED = 'ARCHIVED';\r\nexport const NOCHANGE = 'NOCHANGE';\r\nexport const CREATED = 'CREATED';\r\nexport const EDITED = 'EDITED';\r\nexport const DELETED = 'DELETED';","export interface IGeneralSubject {\r\n  id?: number;\r\n  title?: string;\r\n  description?: string;\r\n  status?: string;\r\n  data?: {\r\n    orderNumber?: number,\r\n    baseCurriculumId?: number,\r\n    baseGrade?: number,\r\n    curriculumId?: number,\r\n    description?: string,\r\n    editStatus?: string,\r\n    grade?: number,\r\n    id?: number,\r\n    name?: string,\r\n    status?: string,\r\n  };\r\n  icon?: string;\r\n  disabled?: boolean;\r\n  parent?: string;\r\n  text?: string;\r\n  type?: string;\r\n  state?: string;\r\n  a_attr?: string;\r\n  li_attr?: string;\r\n  curriculumID?: number;\r\n  name?: string;\r\n  acronym?: string;\r\n  gradesApplicableFrom?: number,\r\n  gradesApplicableTo?: number,\r\n  grades?: IGeneralSubject[];\r\n}\r\n\r\nexport class GeneralSubject implements IGeneralSubject {\r\n  constructor(\r\n    public id?: number,\r\n    public title?: string,\r\n    public description?: string,\r\n    public status?: string,\r\n    public data?: {\r\n      orderNumber?: number,\r\n      baseCurriculumId?: number,\r\n      baseGrade?: number,\r\n      curriculumId?: number,\r\n      description?: string,\r\n      editStatus?: string,\r\n      grade?: number,\r\n      id?: number,\r\n      name?: string,\r\n      status?: string,\r\n    },\r\n    public icon?: string,\r\n    public parent?: string,\r\n    public disabled?: boolean,\r\n    public text?: string,\r\n    public type?: string,\r\n    public state?: string,\r\n    public a_attr?: string,\r\n    public li_attr?: string,\r\n    public curriculumID?: number,\r\n    public name?: string,\r\n    public acronym?: string,\r\n    public gradesApplicableFrom?: number,\r\n    public gradesApplicableTo?: number,\r\n    public grades?: IGeneralSubject[]) { }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"general-subject-general-subject-module-es5.js"}