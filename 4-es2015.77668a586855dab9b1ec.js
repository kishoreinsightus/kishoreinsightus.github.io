(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/+cj":function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var u=e("IheW"),t=e("AytR"),s=e("EBJu"),i=e("8Y7J");let o=new u.h;o=o.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");let r=(()=>{class l{constructor(l){this.http=l,this.lessonTopicResourceUrl=t.a.API_URL+s.y,this.prerequisiteLessonTopicResourceUrl=t.a.API_URL+s.R,this.contentResourceUrl=t.a.API_URL+s.e,this.topicContentDetailsResouceUrl=t.a.API_URL+s.X,this.topicQuestionDetailsResouceUrl=t.a.API_URL+s.Y,this.questionResourceUrl=t.a.API_URL+s.T,this.orgGeneralTopicContentResourceUrl=t.a.API_URL+s.H,this.orgGeneralTopicContentSearchResourceUrl=t.a.API_URL+s.I,this.orgGeneralTopicQuestionResourceUrl=t.a.API_URL+s.J,this.orgGeneralTopicQuestionSearchResourceUrl=t.a.API_URL+s.K,this.contentPreferenceResourceUrl=t.a.API_URL+s.E,this.getContentPreferenceResourceUrl=t.a.API_URL+s.D,this.orgQuestionPreferenceResourceUrl=t.a.API_URL+s.G,this.getQuestionPreferenceResourceUrl=t.a.API_URL+s.F,this.lessonTopicDetailsResourceUrl=t.a.API_URL+s.z,this.lessonPreReqTopicDetailsResourceUrl=t.a.API_URL+s.x,this.addlResourceUrl=t.a.API_URL+s.b,this.orgAddlResourceUrl=t.a.API_URL+s.A,this.setAddlResourcePreferenceUrl=t.a.API_URL+s.C,this.getAddlResourcePreferenceUrl=t.a.API_URL+s.B}getLessonTopicListByLessonId(l){return this.http.get(`${this.lessonTopicDetailsResourceUrl}/${l}`,{observe:"response"})}getLessonPreReqTopicListByLessonId(l){return this.http.get(`${this.lessonPreReqTopicDetailsResourceUrl}/${l}`,{observe:"response"})}getLessonTopicListByLessonTopicId(l){return this.http.get(`${this.lessonTopicResourceUrl}/${l}`,{observe:"response"})}updateLessonTopicMapping(l){return this.http.put(this.lessonTopicResourceUrl,l,{headers:o,observe:"response"})}saveLessonTopicMapping(l){return this.http.post(this.lessonTopicResourceUrl,l,{headers:o,observe:"response"})}deleteLessonTopicMapping(l){return this.http.delete(`${this.lessonTopicResourceUrl}/batch/${l}`,{observe:"response"})}updatePrerequisiteLessonTopicMapping(l){return this.http.put(this.prerequisiteLessonTopicResourceUrl,l,{headers:o,observe:"response"})}savePrerequisiteLessonTopicMapping(l){return this.http.post(this.prerequisiteLessonTopicResourceUrl,l,{headers:o,observe:"response"})}deletePrerequisiteLessonTopicMapping(l){return this.http.delete(`${this.prerequisiteLessonTopicResourceUrl}/batch/${l}`,{observe:"response"})}getTopicContentDetails(l){return this.http.get(`${this.topicContentDetailsResouceUrl}/${l}`,{observe:"response"})}getTopicQuestionDetails(l){return this.http.get(`${this.topicQuestionDetailsResouceUrl}/${l}`,{observe:"response"})}getOrgGeneralTopicContentsByOrgId(l,n){return this.http.post(this.orgGeneralTopicContentSearchResourceUrl,{generalTopicId:l,organisationId:n},{observe:"response"})}getOrgGeneralTopicQuestionsByOrgId(l,n){return this.http.post(this.orgGeneralTopicQuestionSearchResourceUrl,{generalTopicId:l,organisationId:n},{observe:"response"})}setContentPreference(l,n,e){return this.http.put(this.contentPreferenceResourceUrl,{active:l,generalTopicId:n,organisationId:e},{observe:"response"})}getContentPreference(l,n){return this.http.post(this.getContentPreferenceResourceUrl,{organisationId:l,generalTopicId:n},{headers:o,observe:"response"})}setQuestionPreference(l,n,e){return this.http.put(this.orgQuestionPreferenceResourceUrl,{active:l,generalTopicId:n,organisationId:e},{observe:"response"})}getQuestionPreference(l,n){return this.http.post(this.getQuestionPreferenceResourceUrl,{organisationId:l,generalTopicId:n},{headers:o,observe:"response"})}saveOwnTopicContent(l){return this.http.post(this.orgGeneralTopicContentResourceUrl,l,{headers:o,observe:"response"})}updateOwnTopicContents(l){return this.http.put(this.orgGeneralTopicContentResourceUrl,l,{headers:o,observe:"response"})}updateContentSource(l){return this.http.put(this.contentResourceUrl,l,{headers:o,observe:"response"})}deleteOwnTopicContents(l){return this.http.delete(`${this.orgGeneralTopicContentResourceUrl}/batch/${l}`,{observe:"response"})}deleteOwnTopicQuestion(l){return this.http.delete(`${this.orgGeneralTopicQuestionResourceUrl}/${l}`,{observe:"response"})}saveOwnTopicQuestion(l){return this.http.post(this.orgGeneralTopicQuestionResourceUrl,l,{headers:o,observe:"response"})}getGeneralTopicQuestionByQuestionId(l){return this.http.get(`${this.questionResourceUrl}/${l}`,{observe:"response"})}getOrgTopicQuestionByQuestionId(l){return this.http.get(`${this.orgGeneralTopicQuestionResourceUrl}/${l}`,{observe:"response"})}updateOrgTopicQuestion(l){return this.http.put(this.orgGeneralTopicQuestionResourceUrl,l,{headers:o,observe:"response"})}updateGeneralTopicQuestion(l){return this.http.put(this.questionResourceUrl,l,{headers:o,observe:"response"})}getAddlResource(l){return this.http.post(this.addlResourceUrl+"/search",{lessonId:l},{headers:o,observe:"response"})}saveAddlResource(l){return this.http.post(this.addlResourceUrl,l,{headers:o,observe:"response"})}updateAddlResource(l){return this.http.put(this.addlResourceUrl,l,{headers:o,observe:"response"})}deleteAddlResource(l){return this.http.delete(`${this.addlResourceUrl}/${l}`,{observe:"response"})}getOrgGeneralAddlResourceByOrganisationId(l,n){return this.http.post(this.orgAddlResourceUrl+"/search",{lessonId:l,organisationId:n},{headers:o,observe:"response"})}saveOwnAddlResource(l){return this.http.post(this.orgAddlResourceUrl,l,{headers:o,observe:"response"})}updateOwnAddlResource(l){return this.http.put(this.orgAddlResourceUrl,l,{headers:o,observe:"response"})}deleteOwnAddlResource(l){return this.http.delete(`${this.orgAddlResourceUrl}/${l}`,{observe:"response"})}setAddlResourcePreference(l,n,e){return this.http.put(this.setAddlResourcePreferenceUrl,{active:l,lessonId:n,organisationId:e},{observe:"response"})}getAddlResourcePreference(l,n){return this.http.post(this.getAddlResourcePreferenceUrl,{lessonId:l,organisationId:n},{headers:o,observe:"response"})}}return l.ngInjectableDef=i.Sb({factory:function(){return new l(i.Tb(u.c))},token:l,providedIn:"root"}),l})()},"/b5/":function(l,n,e){"use strict";e.d(n,"a",(function(){return o})),e("JXEQ"),e("tWOK");var u=e("IheW"),t=e("s7LF"),s=(e("QHgc"),e("tmov"),e("aV0t"),e("Iab2")),i=(e("hFJU"),e("BN3N"));class o{constructor(l,n,e,u,t,s,i,o,r){this._router=l,this.generalSubjectService=n,this.generalTopicContentService=e,this.formBuilder=u,this.pluginService=t,this.commonService=s,this.changeDetectRef=i,this.fileService=o,this.errorHandler=r,this.subjectTree=[],this.topicContents=[],this.allGrades=[],this.contentDetails={},this.contentSource=[],this.contentType=[],this.contentIds=[],this.selectedFile=null,this.enableExpandNode=!1,this.topicContents=[],this.fileName="No file chosen",this.tableAction=!0,this.updateAction=!0,this.checkUrl1=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}ngOnInit(){this.createTopicContentForm(),this.getContentType(),this.getContentSource()}getContentType(){this.commonService.getContentTypeList().subscribe(l=>{this.contentType=l})}getContentSource(){this.commonService.getContentSourceList().subscribe(l=>{this.contentSource=l})}createTopicContentForm(){this.topicContentForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),webUrl1:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher1:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl2:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher2:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl3:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher3:new t.f("",[t.y.minLength(3),t.y.maxLength(50)])})}get contentFormControl(){return this.topicContentForm.controls}onError(l){this.errorHandler.handleError(l)}showConceptAndTopicDetails(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.contentIds=[]):"topic"===l.nodeType&&(l.contentIds=[],l.topicContents=[],l.topicId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.getTopicContentList(l.topicId))}))}getTopicContentList(l){this.generalTopicContentService.getTopicContentList(l).subscribe(l=>this.assignResponseToTopicList(l.body),l=>this.onError(l))}assignResponseToTopicList(l){this.contentIds=[],this.topicContents=[],this.topicContents=l.generalTopicContents,this.sortArrayByOrderNumber(this.topicContents),this.updateAction=!0,this.tableAction=!0,this.topicContents.length>0&&this.dragTableContent()}ngAfterViewInit(){this.showConceptAndTopicDetails()}onGeneralSubjectGradeChange(){if(this.selectedGeneralSubjectGrade){let l=this.selectedGeneralSubjectGrade.name,n=i.a;this.selectedSubject=null,this.generalSubjectService.getSubjectListByGrade(l,n).subscribe(l=>this.assignGeneralSubjectList(l.body),l=>this.onError(l))}this.selectedGeneralSubjectGrade=null,this.subjects=[]}assignGeneralSubjectList(l){this.subjects=[],this.subjects=l}loadSubjectTree(){if(this.selectedSubject||this.selectedGeneralSubjectGrade){this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1);let l=this.selectedSubject.id;l&&this.generalSubjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignResponsetoTree(l.body),l=>this.onError(l))}else this.selectedSubject=null,this.selectedGeneralSubjectGrade=null,this.pluginService.alertMessage("Please select a filter and then apply","error")}assignResponsetoTree(l){if(this.subjectTree=[],l.length>0){for(let n=0;n<l.length;n++)0===l[n].data.contentsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandNode=!1}trimValue(l){return null==l?l:l.trim()}ngAfterViewChecked(){this.validateTopicContentForm(),this.changeDetectRef.detectChanges()}validateTopicContentForm(){let l,n,e,u;l=this.trimValue(this.topicContentForm.value.contentTitle),n=this.trimValue(this.topicContentForm.value.webUrl1),e=this.trimValue(this.topicContentForm.value.webUrl2),u=this.trimValue(this.topicContentForm.value.webUrl3),""!==l&&null!=l||(this.validateContent=!0),""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateContent=!0),this.topicContentForm.valid&&(this.validateContent=!1),this.topicContentForm.invalid&&(this.validateContent=!0),!0===this.checkUrl1&&(""!==n&&null!=n||(this.validateContent=!0)),!0===this.checkUrl2&&(""!==e&&null!=e||(this.validateContent=!0)),!0===this.checkUrl3&&(""!==u&&null!=u||(this.validateContent=!0))}onActiveWebUrlSelection(l){!0===l.target.checked&&(this.activeUrl=l.target.id,"webUrl1"===this.activeUrl?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):"webUrl2"===this.activeUrl?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):"webUrl3"===this.activeUrl&&(this.checkUrl3=!0,this.checkUrl1=!1,this.checkUrl2=!1))}onVideoFileChanges(l){let n;this.selectedFile=l[0],n=this.selectedFile.type.split("/"),this.fileType=n[0],this.fileName=this.selectedFile.name,"video"===this.fileType&&this.selectedFile.size>209715200&&this.pluginService.alertMessage("Please upload file size lesser than 200 MB","error")}uploadVideoFile(){"No file chosen"!==this.fileName?"video"===this.fileType?this.fileService.getpresignedurls(this.fileName).subscribe(l=>{if(200===l.status&&(this.uploadedFileName=Object.keys(l.body)[0],this.uploadedFilePath=Object.values(l.body)[0],this.fileName=this.uploadedFileName,this.uploadedFileName&&this.uploadedFilePath)){let l,n,e;n=(l=(e=this.selectedFile.base64).split(";"))[1].split(",")[1],this.fileService.uploadVideoFile(this.uploadedFilePath,n).subscribe(l=>{l instanceof u.j&&(this.showFileAction=!0,this.pluginService.alertMessage("File uploaded successfully","success"))})}}):this.pluginService.alertMessage("Invalid file format, please upload valid video format ","error"):this.pluginService.alertMessage("Please choose file and upload it","error")}onDocumentFileChanges(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}uploadDocumentFile(){if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){let l=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe(n=>{200===n.status&&(this.uploadedFileName=Object.keys(n.body)[0],this.uploadedFilePath=Object.values(n.body)[0],this.fileName=this.uploadedFileName,this.uploadedFileName&&this.uploadedFilePath&&this.fileService.uploadPDFFile(this.uploadedFilePath,l).subscribe(l=>{l instanceof u.j&&(this.showFileAction=!0,this.pluginService.alertMessage("File uploaded successfully","success"))}))})}else this.pluginService.alertMessage("Invalid file format, please upload file in PDF format","error");else this.pluginService.alertMessage("Please choose a file to upload","error")}downloadFile(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}subscribeToDownloadResponse(l){l.subscribe(l=>this.onDownloadSuccess(l),l=>this.onError(l))}onDownloadSuccess(l){if(l.body){let n=Object.values(l.body)[0];Object(s.saveAs)(n)}}addContent(){this.modalTitleName="Add",this.openTopicContentModal(),this.resetFormValues(),this.validateContent=!1,this.selectedContentSource=null,this.selectedContentType=null,this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}saveTopicContent(){if(this.topicContentForm.valid){this.validateContent=!1;let l=[],n={}.content;(n={}).title=this.trimValue(this.topicContentForm.value.contentTitle),n.description=this.trimValue(this.topicContentForm.value.contentDescription),n.url1=this.trimValue(this.topicContentForm.value.webUrl1),n.url2=this.trimValue(this.topicContentForm.value.webUrl2),n.url3=this.trimValue(this.topicContentForm.value.webUrl3),n.publisher1=this.trimValue(this.topicContentForm.value.publisher1),n.publisher2=this.trimValue(this.topicContentForm.value.publisher2),n.publisher3=this.trimValue(this.topicContentForm.value.publisher3),n.contentType="VIDEO",n.contentSource="WEB_URL",!0===this.checkUrl1?(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1):!0===this.checkUrl2?(n.webUrl=this.getEmbedUrl(n.url2),n.publisher=n.publisher2):!0===this.checkUrl3?(n.webUrl=this.getEmbedUrl(n.url3),n.publisher=n.publisher3):(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1),l.push({generalTopicId:this.topicId,content:n,orderNumber:this.topicContents.length+1}),this.saveTopicContents(l)}this.topicContentForm.invalid&&(this.validateContent=!0)}saveTopicContents(l){this.subscribeToSaveResponse(this.generalTopicContentService.saveTopicContent(l))}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Topic content created successfully","success"),this.getTopicContentList(this.topicId),this.checkContentType(),this.resetFormValues(),this.uploadedFileName="",this.uploadedFilePath="",this.loadSubjectTree()}openTopicContentModal(){this.pluginService.showModalWindow("#generalTopicContent")}closeTopicContentModal(){this.pluginService.hideModalWindow("#generalTopicContent")}closeTopicContentModalWithOutSaving(){if("View"===this.modalTitleName)this.closeTopicContentModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n?l.checkContentType():l.closeTopicContentModal()}))}}checkContentType(){this.closeTopicContentModal(),this.selectedContentSource&&"FILE_UPLOAD"===this.selectedContentSource.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}deleteUploadedFile(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}subscribeToDeleteFiletResponse(l){l.subscribe(l=>this.onDeleteFileSuccess(l),l=>this.onError(l))}onDeleteFileSuccess(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}getContent(l){let n=[],e={};n=this.topicContents.filter(n=>n.content.id===l),this.patchContentFormfields(e=n[0].content),this.openTopicContentModal()}getContentDetails(l){let n=[];this.contentDetails={},n=this.topicContents.filter(n=>n.content.id===l),this.contentDetails=n[0],this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1),this.openTopicContentModal()}onContentError(l){this.pluginService.alertMessage(l,"error")}patchContentFormfields(l){this.contentId=l.id,this.topicContentForm.patchValue({contentTitle:l.title,contentDescription:l.description,webUrl1:l.url1,publisher1:l.publisher1,webUrl2:l.url2,publisher2:l.publisher2,webUrl3:l.url3,publisher3:l.publisher3}),!0===this.checkUrl1?(l.webUrl=l.url1,l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=l.url2,l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=l.url3,l.publisher=l.publisher3):(l.webUrl=l.url1,l.publisher=l.publisher1)}viewContent(l){this.modalTitleName="View",this.getContentDetails(l)}editContent(l){this.modalTitleName="Edit",this.getContent(l)}updateTopicContents(){if(this.topicContentForm.valid){let l={}.content;(l={}).id=this.contentId,l.title=this.trimValue(this.topicContentForm.value.contentTitle),l.description=this.trimValue(this.topicContentForm.value.contentDescription),l.url1=this.trimValue(this.topicContentForm.value.webUrl1),l.url2=this.trimValue(this.topicContentForm.value.webUrl2),l.url3=this.trimValue(this.topicContentForm.value.webUrl3),l.publisher1=this.trimValue(this.topicContentForm.value.publisher1),l.publisher2=this.trimValue(this.topicContentForm.value.publisher2),l.publisher3=this.trimValue(this.topicContentForm.value.publisher3),l.contentType="VIDEO",l.contentSource="WEB_URL",!0===this.checkUrl1?(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=this.getEmbedUrl(l.url2),l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=this.getEmbedUrl(l.url3),l.publisher=l.publisher3):(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1),this.subscribeToUpdateResponse(this.generalTopicContentService.updateContent(l))}this.topicContentForm.invalid&&(this.validateContent=!0)}subscribeToUpdateResponse(l){l.subscribe(l=>this.onUpdateSuccess(l),l=>this.onError(l))}onUpdateSuccess(l){this.getTopicContentList(this.topicId),this.checkContentType(),this.resetFormValues(),this.pluginService.alertMessage("Topic content updated successfully","success")}resetTopicContent(){this.resetFormValues()}checkSelectedContents(l){let n,e,u;n=l.target.id,!0===(e=l.target.checked)?(this.tableAction=!1,this.contentIds.push(n)):!1===e&&(u=this.contentIds.findIndex(l=>l===n),this.contentIds.splice(u,1)),this.contentIds=this.removeDuplicateElements(this.contentIds),this.contentIds.length<=0&&(this.tableAction=!0)}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}resetFormValues(){this.topicContentForm.reset(),this.selectedContentSource=null,this.selectedContentType=null}resetSelectedTopicContent(){this.contentIds=[],$(".checkAll").prop("checked",!1),this.tableAction=!0}deleteTopicContents(){var l=this;swal({title:"Are you sure to delete content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.contentIds.length>0&&l.subscribeToDeleteResponse(l.generalTopicContentService.deleteTopicContents(l.contentIds))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.getTopicContentList(this.topicId),this.tableAction=!0,this.contentIds=[],this.loadSubjectTree()}dragTableContent(){let l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateTopicContentOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}updateTopicContentOrder(){this.updateAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].title),u=Number(n[1].textContent);for(let t=0;t<this.topicContents.length;t++)if(this.topicContents[t].id===e){this.topicContents[t].orderNumber=u;break}this.sortArrayByOrderNumber(this.topicContents)})}sortArrayByOrderNumber(l){l.sort((l,n)=>l.orderNumber>n.orderNumber?1:-1)}updateTopicContentsWithOrderNumber(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===l.checkOrderNumChange&&(l.subscribeToUpdateTopicContentResponse(l.generalTopicContentService.updateTopicContents(l.topicContents)),l.updateAction=!0)}))}subscribeToUpdateTopicContentResponse(l){l.subscribe(l=>this.onUpdateTopicContentSuccess(l),l=>this.onError(l))}onUpdateTopicContentSuccess(l){this.pluginService.alertMessage("Topic content order updated successfully","success"),this.getTopicContentList(this.topicId),this.resetFormValues()}toggleTreeNodes(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}getEmbedUrl(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}}},"0ixX":function(l,n,e){"use strict";e.d(n,"a",(function(){return A}));var u=e("8Y7J"),t=e("SVse"),s=e("ZTrc"),i=e("IDBn"),o=e("s7LF"),r=e("XKba"),c=e("WOoW"),a=e("iInd"),d=e("H/4C"),b=e("cUpR"),p=e("Bqwo"),h=e("JXEQ"),g=e("An3Y"),m=e("3ZkO"),f=e("aV0t"),v=u.qb({encapsulation:2,styles:[],data:{}});function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ single answer"]))],null,null)}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ multiple answers"]))],null,null)}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - MCQ true or false"]))],null,null)}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2 mx-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Choice is required "]))],null,null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","w-100 mb-2 my-2 d-flex"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-choice d-flex align-items-center"]],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["name","answer"]],[[8,"type",0],[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsAnswer(l.context.$implicit.ChoiceId)&&u),u}),null,null)),u.rb(6,540672,null,0,s.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,10,"div",[["class","mcq-question"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),i.b,i.a)),u.rb(10,16384,null,0,o.x,[],{required:[0,"required"]},null),u.Jb(1024,null,o.m,(function(l){return[l]}),[o.x]),u.rb(12,4374528,null,0,r.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,o.n,(function(l){return[l]}),[r.a]),u.rb(14,671744,[["choiceInput",4]],0,o.s,[[8,null],[6,o.m],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,o.o,null,[o.s]),u.rb(16,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(18,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(19,0,null,null,1,"div",[["class","mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end delete-icon"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.choiceType,"checkbox"===e.choiceType);l(n,3,0,"mcq-choice d-flex align-items-center",t),l(n,6,0,e.viewModel.Answers,n.context.$implicit.ChoiceId),l(n,10,0,!0),l(n,12,0,e.editorChoiceConfig),l(n,14,0,n.context.$implicit.ChoiceText),l(n,18,0,!u.Eb(n,14).valid)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.choiceType,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,9,0,u.Eb(n,10).required?"":null,u.Eb(n,16).ngClassUntouched,u.Eb(n,16).ngClassTouched,u.Eb(n,16).ngClassPristine,u.Eb(n,16).ngClassDirty,u.Eb(n,16).ngClassValid,u.Eb(n,16).ngClassInvalid,u.Eb(n,16).ngClassPending)}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Choice"]))],null,null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(2,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,44,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(4,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(6,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(8,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(9,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,11).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(11,671744,null,0,a.n,[a.k,a.a,t.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(12,2),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(15,0,null,null,3,"a",[["class","btn btn-info mb-2"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,16).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(16,671744,null,0,a.n,[a.k,a.a,t.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.sb(19,0,null,null,11,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,8,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),i.b,i.a)),u.rb(22,16384,null,0,o.x,[],{required:[0,"required"]},null),u.Jb(1024,null,o.m,(function(l){return[l]}),[o.x]),u.rb(24,4374528,null,0,r.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,o.n,(function(l){return[l]}),[r.a]),u.rb(26,671744,[["questionInput",4]],0,o.s,[[8,null],[6,o.m],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,o.o,null,[o.s]),u.rb(28,16384,null,0,o.p,[[4,o.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(30,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Choices"])),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(35,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(36,0,null,null,2,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(38,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(39,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(44,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"MCQ_SINGLE"===e.viewModel.QuestionType),l(n,6,0,"MCQ_MULTIPLE"===e.viewModel.QuestionType),l(n,8,0,"MCQ_TRUE_FALSE"===e.viewModel.QuestionType);var t=l(n,12,0,"/lesson-topic","ocr");l(n,11,0,"_blank",t),l(n,16,0,"_blank","./topic-question-sample"),l(n,22,0,!0),l(n,24,0,e.editorQuestionConfig),l(n,26,0,e.viewModel.Question),l(n,30,0,!u.Eb(n,26).valid),l(n,35,0,e.viewModel.Choices),l(n,38,0,"MCQ_TRUE_FALSE"!==e.viewModel.QuestionType),l(n,44,0,e.answers.length>0)}),(function(l,n){l(n,10,0,u.Eb(n,11).target,u.Eb(n,11).href),l(n,15,0,u.Eb(n,16).target,u.Eb(n,16).href),l(n,21,0,u.Eb(n,22).required?"":null,u.Eb(n,28).ngClassUntouched,u.Eb(n,28).ngClassTouched,u.Eb(n,28).ngClassPristine,u.Eb(n,28).ngClassDirty,u.Eb(n,28).ngClassValid,u.Eb(n,28).ngClassInvalid,u.Eb(n,28).ngClassPending)}))}function L(l){return u.Ob(0,[u.Gb(0,d.a,[b.b]),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(2,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.viewModel)}),null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"ng-component",[],null,null,null,L,v)),u.Jb(512,null,p.b,p.b,[h.a]),u.rb(2,8634368,null,0,g.a,[p.b,a.a,m.a,u.h,h.a,f.a],null,null)],(function(l,n){l(n,2,0)}),null)}var A=u.ob("ng-component",g.a,k,{},{},[])},"1kWI":function(l,n,e){"use strict";e("/b5/"),e("HNQk"),e("J/y8"),e("tWOK")},"3ZkO":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("8Y7J");let t=(()=>{class l{generateQuestionResource(l){var n=JSON.stringify(l);this.questionDetails=l,this.saveQuestionResource(n)}saveQuestionResource(l){this.questionResource=this.convertJsonToString(l)}get getQuestionResource(){return this.questionDetails}convertJsonToString(l){return l.replace(/"/g,'\\"')}convertStringToJson(l){let n;return n=l.replace(/\\"/g,'"'),JSON.parse(n)}}return l.ngInjectableDef=u.Sb({factory:function(){return new l},token:l,providedIn:"root"}),l})()},"3df2":function(l,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return o}));var u=e("8Y7J"),t=e("SVse"),s=(e("uH8f"),e("iInd"),e("QHgc"),u.qb({encapsulation:2,styles:[],data:{}}));function i(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"div",[["class","d-flex p-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.navigateToUrl(l.context.$implicit.router)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["name","mcq"],["type","radio"]],[[8,"id",0],[8,"checked",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"div",[["class","mcq-header"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"p",[["class","text-white p-2"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"div",[["class","mcq-img p-2"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),n.context.$implicit.checked),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,9,0,n.context.$implicit.name),l(n,11,0,u.wb(1,"",n.context.$implicit.imgsrc,""),u.wb(1,"",n.context.$implicit.name,""))}))}function o(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","d-flex justify-content-between align-items-start flex-wrap"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,i)),u.rb(2,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.questionTypes)}),null)}},"4Ca9":function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));class u{}},"6r+a":function(l,n,e){"use strict";e.d(n,"a",(function(){return Ol}));var u=e("8Y7J"),t=e("MJJn"),s=e("wTG2"),i=e("s7LF"),o=e("WOoW"),r=e("iInd"),c=e("SVse"),a=e("vs5s"),d=e("+Ok4"),b=e("Mc5n"),p=e("hOhj"),h=e("IP0z"),g=e("ZTrc"),m=e("H/4C"),f=e("cUpR"),v=e("/+cj"),T=e("IheW"),C=e("hFJU"),w=e("JXEQ"),y=e("roRw"),x=e("wy83"),E=e("GcsT"),M=e("pyIl"),S=e("tWOK"),O=e("BksD"),I=e("ustg"),L=e("3ZkO"),k=u.qb({encapsulation:2,styles:[],data:{}});function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGrade=e)&&t),"change"===n&&(t=!1!==s.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedSubject=e)&&t),"change"===n&&(t=!1!==s.onSubjectChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","text"],["class","ng-select"],["placeholder","Select lesson"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedLesson=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","Select lesson",e.lessonList);var u=e.selectedLesson,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","row d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"h5",[["class","font-20 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson topics"])),(l()(),u.sb(4,0,null,null,10,"div",[["class","col-xxl-9 d-flex justify-content-between flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,5,"div",[["class","badge-lightBlue col-xxl-8 p-2 rounded mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2 text-danger"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No question is mapped "])),(l()(),u.sb(11,0,null,null,3,"div",[["class","col-xxl-4 d-flex justify-content-end mb-2 p-0"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(4,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.topicDescription)}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","col-xxl-12 flex-wrap d-flex justify-content-lg-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-info mb-2 mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openGeneralTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "])),(l()(),u.sb(5,0,null,null,2,"div",[["class","btn btn-success mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openGeneralTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,26,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,20,"div",[["class","collapse"],["data-parent","#generalTopicQuestions"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,19,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,5,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View question "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.id,"general-topic-question-view");l(n,23,0,"_blank",e)}),(function(l,n){l(n,3,0,u.wb(1,"#questionDetail",n.context.$implicit.questionId,"")),l(n,6,0,u.wb(1,"questionDetail",n.context.$implicit.questionId,"")),l(n,12,0,n.context.$implicit.questionCategory),l(n,16,0,n.context.$implicit.questionType),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","col-xxl-12 d-flex flex-wrap justify-content-lg-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-info mb-2 mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOrgTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "])),(l()(),u.sb(5,0,null,null,2,"div",[["class","btn btn-success mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOrgTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,26,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,20,"div",[["class","collapse"],["data-parent","#organisationTopicQuestion"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,19,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,5,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View question "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.id,"topic-question-view");l(n,23,0,"_blank",e)}),(function(l,n){l(n,3,0,u.wb(1,"#organisationQuestionDetail",n.context.$implicit.id,"")),l(n,6,0,u.wb(1,"organisationQuestionDetail",n.context.$implicit.id,"")),l(n,12,0,n.context.$implicit.questionCategory),l(n,16,0,n.context.$implicit.questionType),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","w-100 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,"w-100"],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgTopicQuestiontByOrgId()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(30,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,2,"div",[["class","accordion"],["id","organisationTopicQuestion"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(33,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralTopicQuestions.length>0),l(n,33,0,e.orgGeneralTopicQuestions)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOwnTopicPreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-list-alt mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Preview questions "]))],null,null)}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success mr-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openOwnTopicSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-cogs mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Simulate questions "]))],null,null)}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,37,"div",[["class","mb-2 acd-group"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"div",[["class","card-header border"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"h5",[["class","mb-0"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"a",[["aria-expanded","false"],["class","btn-block text-left text-muted acd-heading collapsed d-flex"],["data-toggle","collapse"]],[[8,"href",4]],null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"div",[["style","width: 99%;"]],null,null,null,null,null)),u.rb(5,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(6,0,null,null,31,"div",[["class","collapse"],["data-parent","#ownTopicQuestions"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,30,"div",[["class","card-body p-3"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,12,"div",[["class","d-flex justify-content-between mb-2"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question type"])),(l()(),u.Mb(12,null,[" : "," "])),(l()(),u.sb(13,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question category"])),(l()(),u.Mb(16,null,[" : "," "])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Completexity level"])),(l()(),u.Mb(20,null,[" : "," "])),(l()(),u.sb(21,0,null,null,16,"div",[["class","d-flex justify-content-end w-100"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,4,"a",[["class","btn btn-info  mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,23).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(23,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(24,3),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View "])),(l()(),u.sb(27,0,null,null,4,"a",[["class","btn btn-success mr-2 mb-2 d-flex justify-content-center align-items-center"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,28).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(28,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(29,3),(l()(),u.sb(30,0,null,null,0,"i",[["class","fa fa-edit mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit "])),(l()(),u.sb(32,0,null,null,2,"a",[["class","btn btn-danger  mb-2 d-flex justify-content-center align-items-center"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnTopicQuestions(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Delete "])),(l()(),u.sb(35,0,null,null,2,"a",[["class","btn btn-success mb-2 d-flex justify-content-center align-items-center"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateQuestion(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(36,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){l(n,5,0,n.context.$implicit.questionText);var e=l(n,24,0,"/lesson-topic",n.context.$implicit.questionId,"topic-question-view");l(n,23,0,"_blank",e);var u=l(n,29,0,"/lesson-topic",n.context.$implicit.questionId,"topic-question-edit");l(n,28,0,"_blank",u)}),(function(l,n){l(n,3,0,u.wb(1,"#ownquestionDetail",n.context.$implicit.questionId,"")),l(n,6,0,u.wb(1,"ownquestionDetail",n.context.$implicit.questionId,"")),l(n,12,0,n.context.$implicit.questionType),l(n,16,0,n.context.$implicit.questionCategory),l(n,20,0,n.context.$implicit.complexityLevel),l(n,22,0,u.Eb(n,23).target,u.Eb(n,23).href),l(n,27,0,u.Eb(n,28).target,u.Eb(n,28).href)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,57,"div",[["class","py-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,56,"div",[["class","d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["Question preference for ",""])),(l()(),u.sb(5,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,0,"input",[["class","form-check-input"],["id","QuestionCE"],["name","question"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkQuestionPreference(e)&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,1,"label",[["for","QuestionCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(10,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"input",[["class","form-check-input"],["id","OwnQuestion"],["name","question"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkQuestionPreference(e)&&u),u}),null,null)),(l()(),u.sb(12,0,null,null,1,"label",[["for","OwnQuestion"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own question"])),(l()(),u.sb(14,0,null,null,4,"div",[["class","row mx-0"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestionPreference()&&u),u}),null,null)),(l()(),u.sb(16,0,null,null,2,"div",[["class","btn btn-success"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(19,0,null,null,38,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,9,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,1,"a",[["aria-controls","home"],["aria-selected","false"],["class","nav-link show active"],["data-toggle","tab"],["href","#home"],["id","home-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.ib(16777216,null,null,2,null,q)),u.rb(25,16384,null,0,a.a,[d.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(26,2),(l()(),u.sb(27,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own question "])),(l()(),u.sb(30,0,null,null,27,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,5,"div",[["aria-labelledby","home-tab"],["class","tab-pane fade py-3 active show"],["id","home"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(33,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(34,0,null,null,2,"div",[["class","accordion"],["id","generalTopicQuestions"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(36,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,2,null,_)),u.rb(38,16384,null,0,a.a,[d.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(39,2),(l()(),u.sb(40,0,null,null,17,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,12,"div",[["class","col-xxl-12 flex-wrap d-flex justify-content-lg-end justify-content-md-between"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(44,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(46,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(47,0,null,null,4,"a",[["class","btn btn-primary mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,48).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(48,671744,null,0,r.n,[r.k,r.a,c.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(49,3),(l()(),u.sb(50,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Create new question "])),(l()(),u.sb(52,0,null,null,2,"div",[["class","btn btn-warning mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadUpdatedTopicQuestion()&&u),u}),null,null)),(l()(),u.sb(53,0,null,null,0,"i",[["class","fa fa-refresh mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Refresh "])),(l()(),u.sb(55,0,null,null,2,"div",[["class","accordion"],["id","ownTopicQuestions"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(57,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,u=l(n,26,0,"SYSTEM_ADMIN","MASTER_QUESTIONS_ADMIN");l(n,25,0,u),l(n,33,0,e.generalTopicQuestions.length>0),l(n,36,0,e.generalTopicQuestions);var t=l(n,39,0,"SYSTEM_ADMIN","MASTER_QUESTIONS_ADMIN");l(n,38,0,t),l(n,44,0,e.ownTopicQuestions.length>0),l(n,46,0,e.ownTopicQuestions.length>0);var s=l(n,49,0,"/lesson-topic",e.generalTopicId,"topic-question-create");l(n,48,0,"_blank",s),l(n,57,0,e.ownTopicQuestions)}),(function(l,n){var e=n.component;l(n,4,0,e.topicName),l(n,7,0,e.checkQuestionCE),l(n,11,0,e.checkOwnQuestion),l(n,47,0,u.Eb(n,48).target,u.Eb(n,48).href)}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(6,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","answer"],["type","radio"]],[[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.onSelectMCQSingleAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,2,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId,""))}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","answers"],["type","checkbox"]],[[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectMCQMultipleAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId,e)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,2,0,u.wb(1," ",n.parent.context.$implicit.ChoiceId,""))}))}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(2,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(5,0,null,null,2,"label",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1)],(function(l,n){l(n,2,0,"MCQ_MULTIPLE"!==n.parent.parent.context.$implicit.questionType),l(n,4,0,"MCQ_MULTIPLE"===n.parent.parent.context.$implicit.questionType);var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,6,0,e)}),null)}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3 text-capitalize"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(11,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,11,0,n.parent.context.$implicit.choices)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","list-box"]],null,null,null,null,null)),u.rb(1,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,1,0,e)}),null)}function ll(l){return u.Ob(0,[(l()(),u.sb(0,16777216,null,null,7,"div",[["cdkDrag",""],["class","list-box cdk-drag"]],[[2,"cdk-drag-dragging",null]],null,null,null,null)),u.Jb(6144,null,b.j,null,[b.c]),u.rb(2,4866048,[[61,4]],3,b.c,[u.k,[3,b.b],c.c,u.y,u.O,p.a,b.h,b.a,[2,h.a],b.f],null,null),u.Kb(603979776,62,{_handles:1}),u.Kb(335544320,63,{_previewTemplate:0}),u.Kb(335544320,64,{_placeholderTemplate:0}),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.ib(0,null,null,0))],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,6,0,e)}),(function(l,n){l(n,0,0,u.Eb(n,2)._dragRef.isDragging())}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,23,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,14,"div",[["cdkDropListGroup",""]],null,null,null,null,null)),u.rb(10,147456,null,0,b.e,[],null,null),(l()(),u.sb(11,0,null,null,12,"div",[["class","example-container d-flex justify-content-between flex-nowrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","mcq-left mr-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"div",[["class","match-list"],["data-value","questiondata.choices"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,7,"div",[["class","mcq-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,6,"div",[["cdkDropList",""],["class","match-list cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(l,n,e){var u=!0;return"cdkDropListDropped"===n&&(u=!1!==l.component.updatedDropList(l.parent.context.$implicit.id,e)&&u),u}),null,null)),u.Jb(6144,null,b.b,null,[b.d]),u.rb(19,1196032,null,1,b.d,[u.k,b.h,u.h,[2,h.a],[3,b.e],[2,c.c],b.f],{data:[0,"data"]},{dropped:"cdkDropListDropped"}),u.Kb(603979776,61,{_draggables:1}),u.Jb(256,null,b.e,void 0,[]),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(23,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,15,0,n.parent.context.$implicit.choices),l(n,19,0,n.parent.context.$implicit.options),l(n,23,0,n.parent.context.$implicit.options)}),(function(l,n){l(n,5,0,n.parent.context.index+1),l(n,17,0,u.Eb(n,19).id,u.Eb(n,19)._dropListRef.isDragging(),u.Eb(n,19)._dropListRef.isReceiving())}))}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectChoiceMatrixAnswer(l.parent.parent.parent.context.$implicit.id,l.parent.context.$implicit.ChoiceId,l.context.$implicit.OptionId)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(6,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,e),l(n,6,0,n.parent.parent.context.$implicit.options)}),null)}function sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","table-matrix my-2 text-capitalize"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(13,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,13,0,n.parent.context.$implicit.options),l(n,15,0,n.parent.context.$implicit.choices)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-danger mb-2"],["data-slide","prev"],["href","#questionSimulateIndicators"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.previousQuestion()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],null,null)}function ol(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success mb-2"],["data-slide","next"],["href","#questionSimulateIndicators"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.nextQuestion()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null))],null,null)}function rl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","carousel-item"]],null,null,null,null,null)),u.Jb(512,null,c.B,c.C,[u.r,u.s,u.k,u.D]),u.rb(2,278528,null,0,c.k,[c.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(3,{active:0}),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(5,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(7,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,sl)),u.rb(9,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(10,0,null,null,7,"div",[["class","w-100 d-flex justify-content-end align-self-center my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,il)),u.rb(12,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(13,0,null,null,2,"div",[["class","btn btn-info mx-2 mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.checkAnswerStatus(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-check mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Check answer "])),(l()(),u.ib(16777216,null,null,1,null,ol)),u.rb(17,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,3,0,0===n.context.index);l(n,2,0,"carousel-item",u),l(n,5,0,"MCQ_SINGLE"===n.context.$implicit.questionType||"MCQ_MULTIPLE"===n.context.$implicit.questionType||"MCQ_TRUE_FALSE"===n.context.$implicit.questionType),l(n,7,0,"MCQ_MATCH_LIST"===n.context.$implicit.questionType),l(n,9,0,"MCQ_CHOICE_MATRIX"===n.context.$implicit.questionType),l(n,12,0,0!==n.context.index),l(n,17,0,n.context.index!==e.topicQuestions.length-1)}),null)}function cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"input",[["disabled",""],["name","answer"],["readonly",""],["type","radio"]],[[8,"id",0]],null,null,null,null)),u.rb(2,540672,null,0,g.a,[u.k],{answers:[0,"answers"]},null),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,2,0,n.parent.parent.parent.context.$implicit.answers)}),(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId,""))}))}function al(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"input",[["disabled",""],["name","answers"],["readonly",""],["type","checkbox"]],[[8,"id",0]],null,null,null,null)),u.rb(2,540672,null,0,g.a,[u.k],{answers:[0,"answers"]},null),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,2,0,n.parent.parent.parent.context.$implicit.answers)}),(function(l,n){l(n,1,0,n.parent.context.$implicit.ChoiceId),l(n,3,0,u.wb(1," ",n.parent.context.$implicit.ChoiceId,""))}))}function dl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,cl)),u.rb(2,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,al)),u.rb(4,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(5,0,null,null,2,"label",[],[[8,"htmlFor",0]],null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1)],(function(l,n){l(n,2,0,"MCQ_MULTIPLE"!==n.parent.parent.context.$implicit.questionType),l(n,4,0,"MCQ_MULTIPLE"===n.parent.parent.context.$implicit.questionType);var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,6,0,e)}),(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function bl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(3,null,[" ",""]))],(function(l,n){l(n,2,0,n.context.$implicit||n.component.sanitizeHtml)}),(function(l,n){l(n,3,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function pl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3 text-capitalize"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,dl)),u.rb(11,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(12,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,bl)),u.rb(17,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,11,0,n.parent.context.$implicit.choices),l(n,17,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function hl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function gl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"span",[["class","text-dark d-flex flex-nowrap"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["-"])),(l()(),u.sb(5,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(7,null,[" ",""]))],(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.choiceName||e.sanitizeHtml),l(n,6,0,n.context.$implicit.optionName||e.sanitizeHtml)}),(function(l,n){l(n,7,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function ml(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.ib(16777216,null,null,1,null,hl)),u.rb(10,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,gl)),u.rb(16,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,10,0,n.parent.context.$implicit.answers),l(n,16,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function fl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function vl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function Tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,vl)),u.rb(6,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,e),l(n,6,0,n.parent.parent.context.$implicit.options)}),null)}function Cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,7,"span",[["class","text-dark d-flex flex-nowrap"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.sb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["-"])),(l()(),u.sb(5,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.Mb(7,null,[" ",""]))],(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit.choiceName||e.sanitizeHtml),l(n,6,0,n.context.$implicit.optionName||e.sanitizeHtml)}),(function(l,n){l(n,7,0,n.context.index===n.parent.parent.context.$implicit.answers.length-1?" ":",")}))}function wl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18 d-flex"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["Q\xa0-\xa0",".\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","table-matrix my-2 text-capitalize"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,fl)),u.rb(13,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,Tl)),u.rb(15,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,Cl)),u.rb(21,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent.parent,0),n.parent.context.$implicit.question));l(n,7,0,e),l(n,13,0,n.parent.context.$implicit.options),l(n,15,0,n.parent.context.$implicit.choices),l(n,21,0,n.parent.context.$implicit.answers)}),(function(l,n){l(n,5,0,n.parent.context.index+1)}))}function yl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-danger mb-2"],["data-slide","prev"],["href","#questionPreviewIndicators"],["role","button"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],null,null)}function xl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-success ml-2  mb-2"],["data-slide","next"],["href","#questionPreviewIndicators"],["role","button"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null))],null,null)}function El(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","carousel-item"]],null,null,null,null,null)),u.Jb(512,null,c.B,c.C,[u.r,u.s,u.k,u.D]),u.rb(2,278528,null,0,c.k,[c.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(3,{active:0}),(l()(),u.ib(16777216,null,null,1,null,pl)),u.rb(5,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ml)),u.rb(7,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,wl)),u.rb(9,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(10,0,null,null,4,"div",[["class","w-100 d-flex justify-content-end align-self-center my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,yl)),u.rb(12,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,xl)),u.rb(14,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,3,0,0===n.context.index);l(n,2,0,"carousel-item",u),l(n,5,0,"MCQ_SINGLE"===n.context.$implicit.questionType||"MCQ_MULTIPLE"===n.context.$implicit.questionType||"MCQ_TRUE_FALSE"===n.context.$implicit.questionType),l(n,7,0,"MCQ_MATCH_LIST"===n.context.$implicit.questionType),l(n,9,0,"MCQ_CHOICE_MATRIX"===n.context.$implicit.questionType),l(n,12,0,0!==n.context.index),l(n,14,0,n.context.index!==e.topicQuestions.length-1)}),null)}function Ml(l){return u.Ob(0,[u.Gb(0,m.a,[f.b]),(l()(),u.sb(1,0,null,null,35,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,27,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,8).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==s.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(8,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(22,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(23,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(25,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(27,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(29,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(31,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(32,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getLessonTopicList()&&u),u}),null,null)),(l()(),u.sb(35,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(38,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(39,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,1,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,0,"div",[["id","topicsList"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","col-xxl-9 mb-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(44,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,G)),u.rb(46,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(47,0,null,null,15,"div",[["class","modal slideInRight"],["id","viewSubjectTreeModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,14,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,13,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "])),(l()(),u.sb(53,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(54,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(57,16384,null,0,c.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(58,0,null,null,0,"div",[["id","viewSubjectTree"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,3,"div",[["class","modal-footer d-flex justify-content-end align-items-start"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(61,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(63,0,null,null,16,"div",[["aria-hidden","true"],["aria-labelledby","simulateTopicQuestionModal"],["class","modal"],["id","simulateTopicQuestionModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(64,0,null,null,15,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(65,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(67,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(68,null,[" Simulate question - "," "])),(l()(),u.sb(69,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(70,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(71,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(72,0,null,null,3,"div",[["class","carousel slide carousel-fade"],["data-interval","false"],["data-ride","carousel"],["id","questionSimulateIndicators"]],null,null,null,null,null)),(l()(),u.sb(73,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,rl)),u.rb(75,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(76,0,null,null,3,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSimulateQuestionModal()&&u),u}),null,null)),(l()(),u.sb(78,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(80,0,null,null,16,"div",[["aria-hidden","true"],["aria-labelledby","previewTopicQuestionModal"],["class","modal"],["id","previewTopicQuestionModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,15,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(82,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(83,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(85,null,[" Preview question - "," "])),(l()(),u.sb(86,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closePreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(87,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(88,0,null,null,4,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(89,0,null,null,3,"div",[["class","carousel slide carousel-fade"],["data-interval","false"],["data-ride","carousel"],["id","questionPreviewIndicators"]],null,null,null,null,null)),(l()(),u.sb(90,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,El)),u.rb(92,278528,null,0,c.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(93,0,null,null,3,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(94,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closePreviewQuestionModal()&&u),u}),null,null)),(l()(),u.sb(95,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],(function(l,n){var e=n.component;l(n,8,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,23,0,!0);l(n,22,0,u,t),l(n,27,0,e.selectedCurriculum),l(n,29,0,e.selectedGrade),l(n,31,0,e.selectedSubject),l(n,38,0,e.showTopicHeading),l(n,44,0,e.topicDescription),l(n,46,0,e.showQuestionMapping),l(n,57,0,e.subjectTree.length>1),l(n,75,0,e.topicQuestions),l(n,92,0,e.topicQuestions)}),(function(l,n){var e=n.component;l(n,6,1,[!u.Eb(n,8).multiple,u.Eb(n,8).typeahead,u.Eb(n,8).multiple,u.Eb(n,8).addTag,u.Eb(n,8).searchable,u.Eb(n,8).clearable,u.Eb(n,8).isOpen,u.Eb(n,8).disabled,u.Eb(n,8).filtered,u.Eb(n,25).ngClassUntouched,u.Eb(n,25).ngClassTouched,u.Eb(n,25).ngClassPristine,u.Eb(n,25).ngClassDirty,u.Eb(n,25).ngClassValid,u.Eb(n,25).ngClassInvalid,u.Eb(n,25).ngClassPending]),l(n,68,0,e.topicName),l(n,85,0,e.topicName)}))}function Sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,Ml,k)),u.Jb(512,null,v.a,v.a,[T.c]),u.Jb(512,null,C.a,C.a,[w.a,u.q]),u.rb(3,4308992,null,0,y.a,[r.k,r.a,x.a,E.a,M.a,v.a,S.a,O.c,O.f,d.a,w.a,I.a,C.a,L.a],null,null)],(function(l,n){l(n,3,0)}),null)}var Ol=u.ob("ng-component",y.a,Sl,{},{},[])},"97zz":function(l,n,e){"use strict";e.d(n,"b",(function(){return v})),e.d(n,"c",(function(){return L})),e.d(n,"a",(function(){return A}));var u=e("8Y7J"),t=e("IDBn"),s=e("s7LF"),i=e("XKba"),o=e("SVse"),r=e("WOoW"),c=e("Mc5n"),a=e("hOhj"),d=e("IP0z"),b=e("H/4C"),p=e("cUpR"),h=e("iInd"),g=e("psak"),m=e("3ZkO"),f=e("JXEQ"),v=u.qb({encapsulation:2,styles:[],data:{}});function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(2,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(4,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(6,671744,[["questionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(8,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!0),l(n,4,0,e.editorQuestionConfig),l(n,6,0,e.viewModel.Question),l(n,10,0,!u.Eb(n,6).valid)}),(function(l,n){l(n,1,0,u.Eb(n,2).required?"":null,u.Eb(n,8).ngClassUntouched,u.Eb(n,8).ngClassTouched,u.Eb(n,8).ngClassPristine,u.Eb(n,8).ngClassDirty,u.Eb(n,8).ngClassValid,u.Eb(n,8).ngClassInvalid,u.Eb(n,8).ngClassPending)}))}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Left side option is required "]))],null,null)}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(5,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(7,671744,[["choiceInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-center ml-3 font-20 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.ChoiceText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Right side option is required "]))],null,null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(5,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(7,671744,[["optionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-center ml-4 font-20 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","list-box"]],null,null,null,null,null)),u.rb(1,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent,0),n.context.$implicit.ChoiceText));l(n,1,0,e)}),null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,16777216,null,null,7,"div",[["cdkDrag",""],["class","list-box cdk-drag"]],[[2,"cdk-drag-dragging",null]],null,null,null,null)),u.Jb(6144,null,c.j,null,[c.c]),u.rb(2,4866048,[[1,4]],3,c.c,[u.k,[3,c.b],o.c,u.y,u.O,a.a,c.h,c.a,[2,d.a],c.f],null,null),u.Kb(603979776,2,{_handles:1}),u.Kb(335544320,3,{_previewTemplate:0}),u.Kb(335544320,4,{_placeholderTemplate:0}),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.ib(0,null,null,0))],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,6,0,e)}),(function(l,n){l(n,0,0,u.Eb(n,2)._dragRef.isDragging())}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(2,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function L(l){return u.Ob(0,[u.Gb(0,b.a,[p.b]),(l()(),u.sb(1,0,null,null,13,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,12,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - Match list"])),(l()(),u.sb(5,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(7,671744,null,0,h.n,[h.k,h.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(8,2),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(11,0,null,null,3,"a",[["class","btn btn-info"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,12).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(12,671744,null,0,h.n,[h.k,h.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(16,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(17,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Left side option"])),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(21,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(22,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(24,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add left option"])),(l()(),u.sb(26,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Right side option"])),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(31,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add right option"])),(l()(),u.sb(35,0,null,null,23,"div",[["class","drag--container mb-2"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(38,0,null,null,14,"div",[["cdkDropListGroup",""]],null,null,null,null,null)),u.rb(39,147456,null,0,c.e,[],null,null),(l()(),u.sb(40,0,null,null,12,"div",[["class","example-container d-flex justify-content-between flex-nowrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,3,"div",[["class","mcq-left mr-2"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,2,"div",[["class","match-list"],["data-value","viewModel.Choices"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(44,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(45,0,null,null,7,"div",[["class","mcq-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(46,0,null,null,6,"div",[["cdkDropList",""],["class","match-list cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(l,n,e){var u=!0;return"cdkDropListDropped"===n&&(u=!1!==l.component.updatedDropList(e)&&u),u}),null,null)),u.Jb(6144,null,c.b,null,[c.d]),u.rb(48,1196032,null,1,c.d,[u.k,c.h,u.h,[2,d.a],[3,c.e],[2,o.c],c.f],{data:[0,"data"]},{dropped:"cdkDropListDropped"}),u.Kb(603979776,1,{_draggables:1}),u.Jb(256,null,c.e,void 0,[]),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(52,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(53,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(54,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(58,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,8,0,"/lesson-topic","ocr");l(n,7,0,"_blank",u),l(n,12,0,"_blank","./topic-question-sample"),l(n,16,0,e.viewModel),l(n,21,0,e.viewModel.Choices),l(n,30,0,e.viewModel.Options),l(n,44,0,e.viewModel.Choices),l(n,48,0,e.viewModel.Options),l(n,52,0,e.viewModel.Options),l(n,58,0,e.answers.length>0)}),(function(l,n){l(n,6,0,u.Eb(n,7).target,u.Eb(n,7).href),l(n,11,0,u.Eb(n,12).target,u.Eb(n,12).href),l(n,46,0,u.Eb(n,48).id,u.Eb(n,48)._dropListRef.isDragging(),u.Eb(n,48)._dropListRef.isReceiving())}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"match-list",[],null,null,null,L,v)),u.rb(1,8634368,null,0,g.a,[h.a,h.k,m.a,f.a,u.h],null,null)],(function(l,n){l(n,1,0)}),null)}var A=u.ob("match-list",g.a,k,{questionResource:"questionResource"},{},[])},"9wII":function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var u=e("8Y7J"),t=e("IheW");const s={"content-type":"application/json",app_id:"rajendra_insightus_in_2bbc89",app_key:"530248e6d18b74e17870"};let i=(()=>{class l{constructor(l){this.http=l,this.ocrURL="https://api.mathpix.com/v3/latex"}processBase64IntoTex(l){return this.http.post(this.ocrURL,{src:l,ocr:["math","text"],skip_recrop:!0,formats:["latex_styled"]},{headers:s,observe:"response"})}}return l.ngInjectableDef=u.Sb({factory:function(){return new l(u.Tb(t.c))},token:l,providedIn:"root"}),l})()},An3Y:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("Bqwo");e("3ZkO"),e("JXEQ"),e("aV0t");class t{constructor(l,n,e,t,s,i){this.mcqService=l,this.route=n,this.questionService=e,this.changedetector=t,this.pluginService=s,this.fileService=i,this.choiceType="",this.answers=[],this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.viewModel=l.getQuestion(),this.route.data.subscribe(l=>{"MCQ_SINGLE"===l.type&&(this.choiceType="radio",this.viewModel.QuestionType=l.type),"MCQ_MULTIPLE"===l.type&&(this.choiceType="checkbox",this.viewModel.QuestionType=l.type),"MCQ_TRUE_FALSE"===l.type&&(this.choiceType="radio",this.viewModel.Choices=[new u.a((new Date).getUTCMilliseconds()+1,"True"),new u.a((new Date).getUTCMilliseconds(),"False")],this.viewModel.QuestionType=l.type)})}ngOnInit(){this.route.snapshot.data.question&&Promise.resolve().then(()=>{this.viewModel=this.mcqService.load(this.route.snapshot.data.question)})}ngAfterViewChecked(){this.viewModel&&(this.questionService.generateQuestionResource(this.viewModel),this.showMCQAnswers()),this.changedetector.detectChanges()}updateQuestionDetails(){this.questionService.generateQuestionResource(this.viewModel),this.showMCQAnswers()}showMCQAnswers(){this.answers=[];for(let l=0;l<this.viewModel.Answers.length;l++){let n=this.viewModel.Choices.find(n=>n.ChoiceId===this.viewModel.Answers[l]).ChoiceText;this.answers.push(n),n=""}}addChoice(){this.mcqService.addChoice()}deleteChoice(l){this.mcqService.deleteChoice(l)}markAsAnswer(l){"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.mcqService.toggleAnswer(l):this.viewModel.Answers=[l],this.viewModel.TotalMarks=this.viewModel.Answers.length}ngOnDestroy(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}},BTcv:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var u=e("mrSG"),t=(e("/+cj"),e("JXEQ"),e("3ZkO"),e("ustg"),e("Bqwo")),s=e("gfXs");e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");class i{constructor(l,n,e,u,t,s,i,o,r,c,a){this.activatedRoute=l,this.router=n,this.pluginService=e,this.questionBuilderService=u,this.questionService=t,this.formBuilder=s,this.userLoginService=i,this.commonService=o,this.fileService=r,this.errorHandler=c,this.localStorageService=a,this.questionDetail={},this.viewModel={},this.oldViewModel={},this.answers=[],this.questionCategory=[],this.questionComplexityLevel=[],this.contentSource=[],this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.validateQuestion=!0,this.getCurrentRouteInfo()}getCurrentRouteInfo(){let l,n=[];n=(l=this.router.url).split("/"),this.currentRoute=n.pop()}ngOnInit(){this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel(),this.activatedRoute.params.subscribe(l=>{this.questionId=l.id,this.questionId&&this.getTopicName(),"topic-question-edit"===this.currentRoute?this.getOrgTopicQuestionDetail(this.questionId):"general-topic-question-edit"===this.currentRoute&&this.getGeneralTopicQuestionDetail(this.questionId)})}getTopicName(){let l={};l=this.localStorageService.retrieveData("topicDetails"),this.topicName=this.questionId?l.title:""}getGeneralTopicQuestionDetail(l){this.questionService.getGeneralTopicQuestionByQuestionId(l).subscribe(l=>this.assignQuestionResource(l.body),l=>this.onError(l))}assignQuestionResource(l){let n,e;this.questionDetail=l,this.viewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson),this.oldViewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson),this.solutionContent=this.questionBuilderService.convertStringToJson(this.questionDetail.solutionJson),this.oldSolutionContent=this.solutionContent,"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.choiceType="checkbox":"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.choiceType="radio"),n=this.questionCategory.findIndex(l=>l.tag===this.questionDetail.category),this.questionCategory[n].checked=!0,e=this.questionComplexityLevel.findIndex(l=>l.value===this.questionDetail.complexityLevel),this.questionComplexityLevel[e].checked=!0,this.loadUpdatedAnswers()}getOrgTopicQuestionDetail(l){this.questionService.getOrgTopicQuestionByQuestionId(l).subscribe(l=>this.assignOrgQuestionResource(l.body),l=>this.onError(l))}assignOrgQuestionResource(l){let n,e;this.questionDetail=l,this.viewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson),this.oldViewModel=this.questionBuilderService.convertStringToJson(this.questionDetail.question.contentJson),this.solutionContent=this.questionBuilderService.convertStringToJson(this.questionDetail.question.solutionJson),this.oldSolutionContent=this.solutionContent,"MCQ_MULTIPLE"===this.viewModel.QuestionType?this.choiceType="checkbox":"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.choiceType="radio"),n=this.questionCategory.findIndex(l=>l.tag===this.questionDetail.question.category),this.questionCategory[n].checked=!0,e=this.questionComplexityLevel.findIndex(l=>l.value===this.questionDetail.question.complexityLevel),this.questionComplexityLevel[e].checked=!0,this.loadUpdatedAnswers()}loadUpdatedAnswers(){"MCQ_CHOICE_MATRIX"===this.viewModel.QuestionType||"MCQ_MATCH_LIST"===this.viewModel.QuestionType?(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showChoiceMatrixAnswers()):"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showMCQAnswers())}loadQuestionResource(){"MCQ_CHOICE_MATRIX"===this.viewModel.QuestionType||"MCQ_MATCH_LIST"===this.viewModel.QuestionType?(this.questionBuilderService.generateQuestionResource(this.viewModel),this.showChoiceMatrixAnswers(),this.validateQuestion=!1,this.updateQuestionResource()):"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&"MCQ_SINGLE"!==this.viewModel.QuestionType&&"MCQ_TRUE_FALSE"!==this.viewModel.QuestionType||(this.questionBuilderService.generateQuestionResource(this.viewModel),this.validateQuestion=!1,this.showMCQAnswers(),this.updateQuestionResource())}getContentSource(){this.commonService.getContentSourceList().subscribe(l=>{this.contentSource=l})}getQuestionCategory(){this.commonService.getQuestionCategoryList().subscribe(l=>{this.questionCategory=l})}getQuestionComplexityLevel(){this.commonService.getQuestionComplexityLevelList().subscribe(l=>{this.questionComplexityLevel=l})}onSelectQuestionCategory(l){this.category=l}onSelectComplexityLevel(l){this.complexityLevel=l}onError(l){this.errorHandler.handleError(l)}addChoice(){this.viewModel.Choices.push(new t.a((new Date).getUTCMilliseconds(),""))}deleteChoice(l){for(let n=0;n<this.viewModel.Answers.length;n++)if(this.viewModel.Answers[n]!==l){let n=this.viewModel.Choices.findIndex(n=>n.ChoiceId===l);this.viewModel.Choices.splice(n,1)}else this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error")}deleteStem(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{let n=this.viewModel.Choices.findIndex(n=>n.ChoiceId===l);this.viewModel.Choices.splice(n,1)}}markAsMCQAnswer(l){var n=this.viewModel.Answers.indexOf(l);"MCQ_MULTIPLE"!==this.viewModel.QuestionType&&(this.viewModel.Answers=[]),this.viewModel.Answers=-1===n?[...this.viewModel.Answers,l]:this.viewModel.Answers.filter(n=>n!==l),this.loadUpdatedAnswers()}showMCQAnswers(){this.answers=[];for(let l=0;l<this.viewModel.Answers.length;l++){let n=this.viewModel.Choices.find(n=>n.ChoiceId===this.viewModel.Answers[l]).ChoiceText;this.answers.push(n),n=""}}showChoiceMatrixAnswers(){let l=[],n=[],e=[];this.answers=[],l=this.viewModel.Answers,n=this.viewModel.Choices,e=this.viewModel.Options;for(let u=0;u<l.length;u++)this.answers.push({choiceName:n.find(n=>n.ChoiceId===l[u].ChoiceId).ChoiceText,optionName:e.find(n=>n.OptionId===l[u].OptionId).OptionText})}addOption(){this.viewModel.Options=[...this.viewModel.Options,new s.c((new Date).getUTCMilliseconds(),"")]}deleteOption(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{let n=this.viewModel.Options.findIndex(n=>n.OptionId===l);this.viewModel.Options.splice(n,1)}}markAsMatrixAnswer(l,n){this.viewModel.Answers=this.viewModel.Answers.filter(n=>n.ChoiceId!==l.ChoiceId),this.viewModel.Answers=[...this.viewModel.Answers,new s.a(l.ChoiceId,n.OptionId)],this.loadUpdatedAnswers()}updateQuestionResource(){return u.a(this,void 0,void 0,(function*(){let l,n,e=[],u=[],t={};if((t=this.questionBuilderService.getQuestionResource).Question&&(this.updatedHTMLDATA=t.Question,yield this.updateImageSrc(t.Question),t.Question=this.updatedHTMLDATA),t.Choices.length>0){for(let n=0;n<t.Choices.length;n++)this.updatedHTMLDATA=t.Choices[n].ChoiceText,yield this.updateImageSrc(t.Choices[n].ChoiceText),e.push({ChoiceText:l=this.updatedHTMLDATA,ChoiceId:t.Choices[n].ChoiceId});t.Choices=e}if("MCQ_CHOICE_MATRIX"===t.QuestionType||"MCQ_MATCH_LIST"===t.QuestionType){if(t.Options.length>0)for(let l=0;l<t.Options.length;l++)this.updatedHTMLDATA=t.Options[l].OptionText,yield this.updateImageSrc(t.Options[l].OptionText),u.push({OptionText:n=this.updatedHTMLDATA,OptionId:t.Options[l].OptionId});t.Options=u}yield this.checkAnyChangesInHtml(t)}))}getBase64ImageFromUrl(l){return u.a(this,void 0,void 0,(function*(){var n=yield fetch(l),e=yield n.blob();return new Promise((l,n)=>{var u=new FileReader;u.addEventListener("load",(function(){l(u.result)}),!1),u.onerror=()=>n(this),u.readAsDataURL(e)})}))}updateImageSrc(l){return u.a(this,void 0,void 0,(function*(){let n,e,u,t,s,i,o;if((e=document.createElement("div")).innerHTML=l,(n=e.getElementsByTagName("img")).length>0)for(let l=0;l<n.length;l++)""===n[l].alt&&(s=l,n[l].setAttribute("id",u="image"+[l]),t=n[l].src,o=yield this.getBase64ImageFromUrl(t),i=yield this.getAWSFilePath(o,s,e));else i=e.innerHTML;return i}))}getAWSFilePath(l,n,e){return u.a(this,void 0,void 0,(function*(){let u,t,s,i,o,r,c,a,d;c=e.getElementsByTagName("img"),o=(i=(t=(u=l.split(","))[0].split(":")[1]).split("/")[1]).split(";")[0],s=u[1];let b=(new Date).getUTCMilliseconds()+"quesImage."+o;if(s){let l=yield this.fileService.getImagePresignedurls(b);(new Map).set(Object.keys(l)[0],Object.values(l)[0]).set(Object.keys(l)[1],Object.values(l)[1]).forEach((l,u)=>{if("objectURL"!==u)r=l;else if("objectURL"===u){let u,t=l;u=t.split("/"),d=u[u.length-1],c[n].setAttribute("src",t),c[n].setAttribute("alt",d),this.getImagePathUploadedHTML(a=e.innerHTML)}}),yield this.fileService.uploadImagefileAWSS3(r,s)}}))}getImagePathUploadedHTML(l){return u.a(this,void 0,void 0,(function*(){this.updatedHTMLDATA=l}))}checkAnyChangesInHtml(l){return u.a(this,void 0,void 0,(function*(){if(this.oldViewModel.Question!==l.Question&&(yield this.compareHTMLElements(this.oldViewModel.Question,l.Question)),l.Choices.length>0)for(let n=0;n<this.oldViewModel.Choices.length;n++)yield this.compareHTMLElements(this.oldViewModel.Choices[n].ChoiceText,l.Choices[n].ChoiceText);if(("MCQ_CHOICE_MATRIX"===l.QuestionType||"MCQ_MATCH_LIST"===l.QuestionType)&&l.Options.length>0)for(let n=0;n<this.oldViewModel.Options.length;n++)yield this.compareHTMLElements(this.oldViewModel.Options[n].OptionText,l.Options[n].OptionText);yield this.questionBuilderService.generateQuestionResource(l)}))}compareHTMLElements(l,n){return u.a(this,void 0,void 0,(function*(){let e,u,t,s,i,o,r=[];(e=document.createElement("div")).innerHTML=l,t=e.getElementsByTagName("img"),i=Array.from(t),(u=document.createElement("div")).innerHTML=n,s=u.getElementsByTagName("img"),o=Array.from(s);for(let l=0;l<i.length;l++)0===o.length?r.push(i[l].alt):-1===o.findIndex(n=>n.alt===i[l].alt)&&r.push(i[l].alt);if(r.length>0)for(let l=0;l<r.length;l++)this.deleteUploadedFile(r[l])}))}deleteUploadedFile(l){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(l))}subscribeToDeleteFiletResponse(l){l.subscribe(l=>this.onDeleteFileSuccess(l),l=>this.onError(l))}onDeleteFileSuccess(l){}updateQuestion(){return u.a(this,void 0,void 0,(function*(){let l,n,e;yield this.updateImageSrc(this.solutionContent),n=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(e=this.updatedHTMLDATA)):"",yield this.compareHTMLElements(this.oldSolutionContent,this.solutionContent),l=this.questionBuilderService.getQuestionResource,"topic-question-edit"===this.currentRoute?(this.category&&(this.questionDetail.question.category=this.category),this.complexityLevel&&(this.questionDetail.question.complexityLevel=this.complexityLevel),this.questionDetail.question.contentJson=this.questionBuilderService.convertJsonToString(JSON.stringify(l)),this.questionDetail.question.solutionJson=n,this.questionDetail.question.marks=l.TotalMarks*this.questionDetail.question.complexityLevel,this.subscribeToSaveResponse(this.questionService.updateOrgTopicQuestion(this.questionDetail))):"general-topic-question-edit"===this.currentRoute&&(l=this.questionBuilderService.getQuestionResource,this.category&&(this.questionDetail.category=this.category),this.complexityLevel&&(this.questionDetail.complexityLevel=this.complexityLevel),this.questionDetail.contentJson=this.questionBuilderService.convertJsonToString(JSON.stringify(l)),this.questionDetail.solutionJson=n,this.questionDetail.marks=l.TotalMarks*this.questionDetail.complexityLevel,this.subscribeToSaveResponse(this.questionService.updateGeneralTopicQuestion(this.questionDetail)))}))}resetQuestion(){window.location.reload()}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Topic question updated successfully","success"),this.previousUrl()}onBack(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.previousUrl(),l.pluginService.sideMenuToggle())}))}previousUrl(){this.router.navigateByUrl("topic-question-edit"===this.currentRoute?"/lesson-topic/topic-question":"general-topic-question-edit"===this.currentRoute?"/general-concept-and-topic/general-topic-question":"../")}}},Bqwo:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"b",(function(){return s})),e("JXEQ");class u{constructor(){this.Choices=[],this.Answers=[]}}class t{constructor(l,n){this.ChoiceId=l,this.ChoiceText=n}}class s{constructor(l){this.pluginService=l,this._question=new u}addChoice(){this._question.Choices.push(new t((new Date).getUTCMilliseconds(),""))}getQuestion(){return this._question}deleteChoice(l){if(this._question.Answers.length>0)for(let n=0;n<this._question.Answers.length;n++)if(this._question.Answers[n]!==l){let n=this._question.Choices.findIndex(n=>n.ChoiceId===l);this._question.Choices.splice(n,1)}else this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{let n=this._question.Choices.findIndex(n=>n.ChoiceId===l);this._question.Choices.splice(n,1)}}toggleAnswer(l){var n=this._question.Answers.indexOf(l);"MCQ_MULTIPLE"!==this._question.QuestionType&&(this._question.Answers=[]),this._question.Answers=-1===n?[...this._question.Answers,l]:this._question.Answers.filter(n=>n!==l)}load(l){return this._question=l,this._question}}},ChVi:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("IDBn"),s=e("s7LF"),i=e("XKba"),o=e("SVse"),r=e("WOoW"),c=e("ICK7"),a=e("H/4C"),d=e("cUpR"),b=e("iInd"),p=e("Ncj7"),h=e("3ZkO"),g=e("JXEQ");e.d(n,"a",(function(){return L}));var m=u.qb({encapsulation:0,styles:[[".table-matrix[_ngcontent-%COMP%]{border-collapse:collapse}.bg-lightgray[_ngcontent-%COMP%]{background-color:#f0f0f0!important}.table-matrix[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-matrix[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6!important;text-align:center}.roundLabel[_ngcontent-%COMP%]{padding:5px}.roundLabel[_ngcontent-%COMP%]:hover{background:#fcfdd8}.mcq-stem[_ngcontent-%COMP%]{width:95%}.mcq-action[_ngcontent-%COMP%]{width:5%}.radio[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function f(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Question is required "]))],null,null)}function v(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Stem is required "]))],null,null)}function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(5,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(7,671744,[["choiceInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,v)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.ChoiceText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function C(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-danger font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Option is required "]))],null,null)}function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,10,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter choice (min length: 1 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(5,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(7,671744,[["optionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,C)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText),l(n,11,0,!u.Eb(n,7).valid)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsAnswer(l.parent.context.$implicit,l.context.$implicit)&&u),u}),null,null)),u.rb(3,540672,null,0,c.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.viewModel.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(6,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.viewModel.Options)}),null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,r.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(2,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.answers)}),null)}function O(l){return u.Ob(0,[u.Gb(0,a.a,[d.b]),(l()(),u.sb(1,0,null,null,13,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,12,"div",[["class","col-xxl-12 d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question - Choice matrix question"])),(l()(),u.sb(5,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,4,"a",[["class","btn btn-warning text-white mb-2 mr-2"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,7).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(7,671744,null,0,b.n,[b.k,b.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),u.Fb(8,2),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["OCR tool "])),(l()(),u.sb(11,0,null,null,3,"a",[["class","btn btn-info"],["routerLink","./topic-question-sample"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Eb(l,12).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.rb(12,671744,null,0,b.n,[b.k,b.a,o.j],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-question-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["View sample questions "])),(l()(),u.sb(15,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(17,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(19,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(21,671744,[["questionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(23,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,f)),u.rb(25,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(26,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Stems"])),(l()(),u.ib(16777216,null,null,1,null,T)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(31,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(33,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add stem"])),(l()(),u.sb(35,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Options"])),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(39,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(40,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(42,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(44,0,null,null,2,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(45,0,null,null,1,"p",[["class","font-16"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(47,0,null,null,6,"table",[["class","table-matrix my-2"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(51,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(53,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(54,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(59,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,8,0,"/lesson-topic","ocr");l(n,7,0,"_blank",t),l(n,12,0,"_blank","./topic-question-sample"),l(n,17,0,!0),l(n,19,0,e.editorQuestionConfig),l(n,21,0,e.viewModel.Question),l(n,25,0,!u.Eb(n,21).valid),l(n,30,0,e.viewModel.Choices),l(n,39,0,e.viewModel.Options),l(n,51,0,e.viewModel.Options),l(n,53,0,e.viewModel.Choices),l(n,59,0,e.answers.length>0)}),(function(l,n){l(n,6,0,u.Eb(n,7).target,u.Eb(n,7).href),l(n,11,0,u.Eb(n,12).target,u.Eb(n,12).href),l(n,16,0,u.Eb(n,17).required?"":null,u.Eb(n,23).ngClassUntouched,u.Eb(n,23).ngClassTouched,u.Eb(n,23).ngClassPristine,u.Eb(n,23).ngClassDirty,u.Eb(n,23).ngClassValid,u.Eb(n,23).ngClassInvalid,u.Eb(n,23).ngClassPending)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ng-component",[],null,null,null,O,m)),u.rb(1,8634368,null,0,p.b,[b.a,h.a,g.a,u.h],null,null)],(function(l,n){l(n,1,0)}),null)}var L=u.ob("ng-component",p.b,I,{},{},[])},GcsT:function(l,n,e){"use strict";e.d(n,"a",(function(){return c}));var u=e("IheW"),t=e("AytR"),s=e("M0ag"),i=e("EBJu"),o=e("8Y7J");let r=new u.h;r=r.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");let c=(()=>{class l{constructor(l){this.http=l,this.organisationResourceUrl=t.a.API_URL+i.L,this.organisationCoursesSearchResourceUrl=t.a.API_URL+i.M,this.organisationDiscountResourceUrl=t.a.API_URL+i.N,this.organisationLicensesResourceUrl=t.a.API_URL+i.O,this.invoiceSearchUrl=t.a.API_URL+i.w}createOrganisation(l){return this.http.post(this.organisationResourceUrl,l,{headers:r,observe:"response"})}updateOrganisation(l){return this.http.put(this.organisationResourceUrl,l,{observe:"response"})}getOrganisationByOrganisationId(l){return this.http.get(`${this.organisationResourceUrl}/${l}`,{observe:"response"})}getOrganisations(l){const n=Object(s.c)(l);return this.http.get(this.organisationResourceUrl,{params:n,observe:"response"})}deleteOrganisation(l){return this.http.delete(`${this.organisationResourceUrl}/${l}`,{observe:"response"})}getOrgCoursesSearch(l,n){const e=Object(s.c)(n);return this.http.post(this.organisationCoursesSearchResourceUrl,{organisationId:l},{params:e,observe:"response"})}updateOrganisationDiscount(l){return this.http.put(this.organisationDiscountResourceUrl,l,{observe:"response"})}addLicenses(l){return this.http.put(this.organisationLicensesResourceUrl,l,{observe:"response"})}getInvoiceSearch(l,n){const e=Object(s.c)(n);return this.http.post(this.invoiceSearchUrl,{purchasedByOrganisationId:l},{params:e,observe:"response"})}}return l.ngInjectableDef=o.Sb({factory:function(){return new l(o.Tb(u.c))},token:l,providedIn:"root"}),l})()},"H/4C":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("8Y7J");class t{constructor(l){this._sanitizer=l}transform(l){return this._sanitizer.sanitize(u.H.HTML,this._sanitizer.bypassSecurityTrustHtml(l))}}},HNQk:function(l,n,e){"use strict";e.d(n,"a",(function(){return s})),e("JXEQ"),e("tWOK"),e("3ZkO"),e("tmov");var u=e("Mc5n"),t=(e("hFJU"),e("BN3N"));e("qd05");class s{constructor(l,n,e,u,t,s,i){this._router=l,this.generalSubjectService=n,this.generalTopicQuestionService=e,this.pluginService=u,this.questionBuilderService=t,this.errorHandler=s,this.localStorageService=i,this.subjectTree=[],this.questions=[],this.topicQuestions=[],this.questionResources=[],this.selectedAnswer=[],this.allGrades=[],this.enableExpandNode=!1,this.tableAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}ngOnInit(){}onError(l){this.errorHandler.handleError(l)}showConceptAndTopicDetails(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"topic"===l.nodeType?(l.topicId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.questions=[],l.getTopicQuestionsList(l.topicId)):l.nodeType=""}))}loadUpdatedTopicQuestions(){this.getTopicQuestionsList(this.topicId)}getTopicQuestionsList(l){this.generalTopicQuestionService.getTopicQuestionList(l).subscribe(l=>this.assignResponseToQuestionList(l.body),l=>this.onError(l))}assignResponseToQuestionList(l){let n,e,u,t=[];if(this.questions=[],this.localStorageService.storeData("topicDetails",l),this.questionResources=l.questions,this.questionResources.length>0)for(let s=0;s<this.questionResources.length;s++)t.push(this.questionBuilderService.convertStringToJson(this.questionResources[s].contentJson)),n=t[s].Question,u="MCQ_SINGLE"===t[s].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[s].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[s].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[s].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[s].QuestionType?"MCQ match list":"",this.questions.push({id:this.questionResources[s].id,complexityLevel:e=1===this.questionResources[s].complexityLevel?"Low":2===this.questionResources[s].complexityLevel?"Medium":3===this.questionResources[s].complexityLevel?"High":"",questionCategory:this.titleCapitalize(this.questionResources[s].category),questionText:n,questionType:u});this.tableAction=!0}titleCapitalize(l){return l?l[0].toUpperCase()+l.substr(1).toLowerCase():l}ngAfterViewInit(){this.showConceptAndTopicDetails()}onGeneralSubjectGradeChange(){if(this.selectedGeneralSubjectGrade){let l=this.selectedGeneralSubjectGrade.name,n=t.a;this.selectedSubject=null,this.generalSubjectService.getSubjectListByGrade(l,n).subscribe(l=>this.assignGeneralSubjectList(l.body),l=>this.onError(l))}this.selectedGeneralSubjectGrade=null,this.subjects=[]}assignGeneralSubjectList(l){this.subjects=[],this.subjects=l}loadSubjectTree(){if(this.selectedSubject||this.selectedGeneralSubjectGrade){this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1);let l=this.selectedSubject.id;l&&this.generalSubjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignResponsetoTree(l.body),l=>this.onError(l))}else this.selectedSubject=null,this.selectedGeneralSubjectGrade=null,this.pluginService.alertMessage("Please select a filter and then apply","error")}assignResponsetoTree(l){if(this.subjectTree=[],l.length>0){for(let n=0;n<l.length;n++)0===l[n].data.questionsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandNode=!1}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}deleteTopicQuestions(l){var n=this;swal({title:"Are you sure to delete topic question ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&n.subscribeToDeleteResponse(n.generalTopicQuestionService.deleteTopicQuestion(l))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Topic question deleted successfully","success"),this.questions=[],this.getTopicQuestionsList(this.topicId),this.tableAction=!0}toggleTreeNodes(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}openSimulateQuestionModal(){this.pluginService.showModalWindow("#simulateQuestionModal"),this.simulateTopicQuestionList()}closeSimulateQuestionModal(){this.pluginService.hideModalWindow("#simulateQuestionModal")}openPreviewQuestionModal(){this.pluginService.showModalWindow("#previewQuestionModal"),this.previewTopicQuestionList()}closePreviewQuestionModal(){this.pluginService.hideModalWindow("#previewQuestionModal")}previewTopicQuestionList(){let l,n=[],e=[],u=[];this.topicQuestions=[];for(let t=0;t<this.questionResources.length;t++){if("MCQ_MATCH_LIST"===(l=this.questionBuilderService.convertStringToJson(this.questionResources[t].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===l.QuestionType){e=[],u=[],n=l.Options,u=l.Choices;for(let t=0;t<l.Answers.length;t++)e.push({choiceName:u.find(n=>n.ChoiceId===l.Answers[t].ChoiceId).ChoiceText,optionName:n.find(n=>n.OptionId===l.Answers[t].OptionId).OptionText})}else if("MCQ_SINGLE"===l.QuestionType||"MCQ_MULTIPLE"===l.QuestionType||"MCQ_TRUE_FALSE"===l.QuestionType){n=[],e=[];for(let n=0;n<l.Answers.length;n++){let u=l.Choices.find(e=>e.ChoiceId===l.Answers[n]).ChoiceText;e.push(u),u=""}}this.topicQuestions.push({id:this.questionResources[t].id,question:l.Question,questionType:l.QuestionType,generalTopicId:this.questionResources[t].generalTopicId,questionId:this.questionResources[t].id,choices:l.Choices,options:n,answers:e})}}simulateTopicQuestionList(){let l,n=[],e=[];this.topicQuestions=[];for(let u=0;u<this.questionResources.length;u++)"MCQ_MATCH_LIST"===(l=this.questionBuilderService.convertStringToJson(this.questionResources[u].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===l.QuestionType?(n=this.shuffleArray(l.Options),e=l.Choices):(n=[],e=this.shuffleArray(l.Choices)),this.topicQuestions.push({id:this.questionResources[u].id,questionType:l.QuestionType,question:l.Question,generalTopicId:this.questionResources[u].generalTopicId,questionId:this.questionResources[u].id,choices:e,options:n,answers:l.Answers,checkAnswer:""})}shuffleArray(l){return l.sort(()=>Math.random()-.5),l}onSelectMCQSingleAnswer(l,n){let e;e=this.topicQuestions.findIndex(n=>n.id===l);for(let u=0;u<this.topicQuestions[e].answers.length;u++)this.topicQuestions[e].checkAnswer=this.topicQuestions[e].answers[u]===n?"Correct":"Wrong"}onSelectMCQMultipleAnswer(l,n,e){let u,t,s;t=e.target.checked,u=this.topicQuestions.findIndex(n=>n.id===l),!0===t?this.selectedAnswer.push(n):(s=this.selectedAnswer.findIndex(l=>l===n),this.selectedAnswer.splice(s,1)),this.checkMultipleAnswer(u)}checkMultipleAnswer(l){let n=this.topicQuestions[l].answers.sort(),e=this.selectedAnswer.sort(),u=[];for(let t=0;t<n.length;t++)for(let s=0;s<e.length;s++)n[t]===e[s]?(u.push(e[s]),this.topicQuestions[l].checkAnswer="Partial"):this.topicQuestions[l].checkAnswer="Wrong";u.length>0&&(this.topicQuestions[l].checkAnswer=u.length===n.length&&JSON.stringify(u.sort())===JSON.stringify(e)?"Correct":"Partial")}onSelectChoiceMatrixAnswer(l,n,e){let u,t;if(u=this.topicQuestions.findIndex(n=>n.id===l),0===this.selectedAnswer.length&&(this.selectedAnswer=[]),this.selectedAnswer.push({ChoiceId:n,OptionId:e}),this.selectedAnswer.length>1)for(let s=0;s<this.selectedAnswer.length;s++)for(let l=s+1;l<this.selectedAnswer.length;l++)this.selectedAnswer[s].ChoiceId===this.selectedAnswer[l].ChoiceId&&(t=this.selectedAnswer.findIndex(l=>l.ChoiceId===this.selectedAnswer[s].ChoiceId),this.selectedAnswer.splice(t,1));this.checkMatrixAndMatchListAnswers(u)}checkAnswerStatus(l){let n=this.topicQuestions.findIndex(n=>n.id===l);"Correct"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("Good keep going...Correct answer","success"):"Partial"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("This is partially correct","warning"):this.pluginService.alertMessage("Wrong"===this.topicQuestions[n].checkAnswer?"Oops..! this is wrong":"Please select a answer and check it","error")}updatedDropList(l,n){let e=this.topicQuestions.findIndex(n=>n.id===l);if(n.previousContainer===n.container){Object(u.i)(n.container.data,n.previousIndex,n.currentIndex),this.selectedAnswer=[];for(let l=0;l<this.topicQuestions[e].choices.length;l++)for(let n=0;n<this.topicQuestions[e].options.length;n++)l===n&&this.selectedAnswer.push({ChoiceId:this.topicQuestions[e].choices[l].ChoiceId,OptionId:this.topicQuestions[e].options[n].OptionId});this.checkMatrixAndMatchListAnswers(e)}}checkMatrixAndMatchListAnswers(l){let n,e,u=[];for(let t=0;t<this.topicQuestions[l].answers.length;t++)for(let n=0;n<this.selectedAnswer.length;n++)this.topicQuestions[l].answers[t].ChoiceId===this.selectedAnswer[n].ChoiceId?this.topicQuestions[l].answers[t].OptionId===this.selectedAnswer[n].OptionId&&u.push({ChoiceId:this.selectedAnswer[n].ChoiceId,OptionId:this.selectedAnswer[n].OptionId}):this.topicQuestions[l].checkAnswer="Wrong";if(u.length>0){const t=u.sort(n=(l,n)=>l.ChoiceId-n.ChoiceId),s=this.selectedAnswer.sort(e=(l,n)=>l.ChoiceId-n.ChoiceId);this.topicQuestions[l].checkAnswer=u.length===this.topicQuestions[l].answers.length&&JSON.stringify(t)===JSON.stringify(s)?"Correct":"Partial"}}previousQuestion(){this.selectedAnswer=[]}nextQuestion(){this.selectedAnswer=[]}}},ICK7:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("Ncj7");class u{constructor(l){this.elementRef=l,this.answers=[]}ngOnChanges(l){if(this.elementRef.nativeElement.removeAttribute("checked"),l.answers){let l=this.answers.findIndex(l=>l.ChoiceId===this.choiceid);l>-1&&this.answers[l].OptionId===this.optionid&&this.elementRef.nativeElement.setAttribute("checked","checked")}}}},IDBn:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"b",(function(){return i}));var u=e("8Y7J"),t=(e("XKba"),e("s7LF"),e("SVse"),u.qb({encapsulation:2,styles:[],data:{}}));function s(l){return u.Ob(0,[(l()(),u.ib(0,null,null,0))],null,null)}function i(l){return u.Ob(0,[(l()(),u.ib(0,null,null,0,null,s))],null,null)}},IP0z:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var u=e("SVse"),t=e("8Y7J");const s=new t.p("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(t.W)(u.c)}});let i=(()=>{class l{constructor(l){if(this.value="ltr",this.change=new t.m,l){const n=l.documentElement?l.documentElement.dir:null,e=(l.body?l.body.dir:null)||n;this.value="ltr"===e||"rtl"===e?e:"ltr"}}ngOnDestroy(){this.change.complete()}}return l.ngInjectableDef=Object(t.S)({factory:function(){return new l(Object(t.W)(s,8))},token:l,providedIn:"root"}),l})()},Iab2:function(l,n,e){var u,t;void 0===(t="function"==typeof(u=function(){"use strict";function n(l,n,e){var u=new XMLHttpRequest;u.open("GET",l),u.responseType="blob",u.onload=function(){s(u.response,n,e)},u.onerror=function(){console.error("could not download file")},u.send()}function e(l){var n=new XMLHttpRequest;n.open("HEAD",l,!1);try{n.send()}catch(l){}return 200<=n.status&&299>=n.status}function u(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(e)}}var t="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,s=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype?function(l,s,i){var o=t.URL||t.webkitURL,r=document.createElement("a");r.download=s=s||l.name||"download",r.rel="noopener","string"==typeof l?(r.href=l,r.origin===location.origin?u(r):e(r.href)?n(l,s,i):u(r,r.target="_blank")):(r.href=o.createObjectURL(l),setTimeout((function(){o.revokeObjectURL(r.href)}),4e4),setTimeout((function(){u(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(l,t,s){if(t=t||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(function(l,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}(l,s),t);else if(e(l))n(l,t,s);else{var i=document.createElement("a");i.href=l,i.target="_blank",setTimeout((function(){u(i)}))}}:function(l,e,u,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof l)return n(l,e,u);var i="application/octet-stream"===l.type,o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&o)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var l=c.result;l=r?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=l:location=l,s=null},c.readAsDataURL(l)}else{var a=t.URL||t.webkitURL,d=a.createObjectURL(l);s?s.location=d:location.href=d,s=null,setTimeout((function(){a.revokeObjectURL(d)}),4e4)}});t.saveAs=s.saveAs=s,l.exports=s})?u.apply(n,[]):u)||(l.exports=t)},"J/y8":function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("JXEQ"),e("tWOK"),e("3ZkO"),e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");class t{constructor(l,n,e,u,t,s,i,o,r,c,a){this.activatedRoute=l,this.router=n,this.pluginService=e,this.questionBuilderService=u,this.questionService=t,this.commonService=s,this.formBuilder=i,this.changedetector=o,this.fileService=r,this.errorHandler=c,this.localStorageService=a,this.questionResource={},this.questionCategory=[],this.questionComplexityLevel=[],this.answers=[],this.contentSource=[],this.showSaveQuestion=!1,this.showAddQuestion=!1,this.validateQuestionType=!0}ngOnInit(){this.editorSolutionConfig=this.pluginService.getCKEditorQuestionConfig(),this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.topicId=Number(this.activatedRoute.snapshot.params.id),this.topicId&&this.getTopicName(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel(),this.validateQuestionTypeSelectedOrNot()}getTopicName(){let l={};l=this.localStorageService.retrieveData("topicDetails"),this.topicName=l.id===this.topicId?l.title:""}getContentSource(){this.commonService.getContentSourceList().subscribe(l=>{this.contentSource=l})}getQuestionCategory(){this.commonService.getQuestionCategoryList().subscribe(l=>{this.questionCategory=l})}getQuestionComplexityLevel(){this.commonService.getQuestionComplexityLevelList().subscribe(l=>{this.questionComplexityLevel=l})}ngAfterViewChecked(){this.validateQuestionTypeSelectedOrNot(),this.changedetector.detectChanges()}validateQuestionTypeSelectedOrNot(){let l,n;n=(l=this.router.url).split("/").pop(),this.validateQuestionType="general-topic-question-create"===n}loadPreviewQuestion(){let l,n,e=[],u=[],t=[],s=[],i=[];if(this.questionResource=[],this.questionResource=this.questionBuilderService.getQuestionResource,this.questionType=this.questionResource.QuestionType,t=this.questionResource.Answers,this.onChangeOptionType(this.questionType),t.length>0){if("MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){if(this.answers=[],(e=this.questionResource.Choices).length>0){u=[];for(let t=0;t<e.length;t++)u.push({choiceId:n=e[t].ChoiceId,choiceText:l=e[t].ChoiceText});for(let l=0;l<t.length;l++){let n=u.find(n=>n.choiceId===t[l]).choiceText;this.answers.push(n),n=""}}}else if("MCQ_CHOICE_MATRIX"===this.questionType){if(s=[],i=[],i=this.questionResource.Options,(s=this.questionResource.Choices).length>0&&i.length>0&&t.length>0){this.answers=[];for(let l=0;l<t.length;l++)this.answers.push({choiceName:s.find(n=>n.ChoiceId===t[l].ChoiceId).ChoiceText,optionName:i.find(n=>n.OptionId===t[l].OptionId).OptionText})}}else if("MCQ_MATCH_LIST"===this.questionType&&(s=[],i=[],i=this.questionResource.Options,(s=this.questionResource.Choices).length>0&&i.length>0&&t.length>0)){this.answers=[];for(let l=0;l<t.length;l++)this.answers.push({choiceName:s.find(n=>n.ChoiceId===t[l].ChoiceId).ChoiceText,optionName:i.find(n=>n.OptionId===t[l].OptionId).OptionText})}this.showSaveQuestion=!0,this.updateQuestionResource()}}questionAlertMsg(l){this.pluginService.alertMessage(l,"error")}onChangeOptionType(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}onContentSource(l){this.selectedContentSource=l}onSelectQuestionCategory(l){this.category=l}onSelectComplexityLevel(l){this.complexityLevel=l}resetPreviewQuestions(){this.questionResource=[],this.answers=[]}updateQuestionResource(){return u.a(this,void 0,void 0,(function*(){let l,n,e=[],u=[],t={};if((t=this.questionBuilderService.getQuestionResource).Question&&(this.updatedHTMLDATA=t.Question,yield this.updateImageSrc(t.Question),t.Question=this.updatedHTMLDATA),t.Choices.length>0){for(let n=0;n<t.Choices.length;n++)this.updatedHTMLDATA=t.Choices[n].ChoiceText,yield this.updateImageSrc(t.Choices[n].ChoiceText),e.push({ChoiceText:l=this.updatedHTMLDATA,ChoiceId:t.Choices[n].ChoiceId});t.Choices=e}if(t.Options.length>0){for(let l=0;l<t.Options.length;l++)this.updatedHTMLDATA=t.Options[l].OptionText,yield this.updateImageSrc(t.Options[l].OptionText),u.push({OptionText:n=this.updatedHTMLDATA,OptionId:t.Options[l].OptionId});t.Options=u}yield this.questionBuilderService.generateQuestionResource(t)}))}getBase64ImageFromUrl(l){return u.a(this,void 0,void 0,(function*(){var n=yield fetch(l),e=yield n.blob();return new Promise((l,n)=>{var u=new FileReader;u.addEventListener("load",(function(){l(u.result)}),!1),u.onerror=()=>n(this),u.readAsDataURL(e)})}))}updateImageSrc(l){return u.a(this,void 0,void 0,(function*(){let n,e,u,t,s,i,o;if((e=document.createElement("div")).innerHTML=l,(n=e.getElementsByTagName("img")).length>0)for(let l=0;l<n.length;l++)""===n[l].alt&&(s=l,n[l].setAttribute("id",u="image"+[l]),t=n[l].src,o=yield this.getBase64ImageFromUrl(t),i=yield this.getAWSFilePath(o,s,e));else i=e.innerHTML;return i}))}getAWSFilePath(l,n,e){return u.a(this,void 0,void 0,(function*(){let u,t,s,i,o,r,c,a,d;c=e.getElementsByTagName("img"),o=(i=(t=(u=l.split(","))[0].split(":")[1]).split("/")[1]).split(";")[0],s=u[1];let b=(new Date).getUTCMilliseconds()+"quesImage."+o;if(s){let l=yield this.fileService.getImagePresignedurls(b);(new Map).set(Object.keys(l)[0],Object.values(l)[0]).set(Object.keys(l)[1],Object.values(l)[1]).forEach((l,u)=>{if("objectURL"!==u)r=l;else if("objectURL"===u){let u,t=l;u=t.split("/"),d=u[u.length-1],c[n].setAttribute("src",t),c[n].setAttribute("alt",d),this.getImagePathUploadedHTML(a=e.innerHTML)}}),yield this.fileService.uploadImagefileAWSS3(r,s)}}))}getImagePathUploadedHTML(l){return u.a(this,void 0,void 0,(function*(){this.updatedHTMLDATA=l}))}saveQuestion(){return u.a(this,void 0,void 0,(function*(){let l,n,e,u,t,s={};s.category=this.category?this.category:this.questionCategory[0].tag,s.complexityLevel=this.complexityLevel?this.complexityLevel:1,yield this.updateImageSrc(this.solutionContent),e=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(u=this.updatedHTMLDATA)):"",s.marks=(t=this.questionBuilderService.getQuestionResource).TotalMarks,l=JSON.stringify(t),n=this.questionBuilderService.convertJsonToString(l),s.contentJson=n,s.generalTopicId=this.topicId,s.solutionJson=e,this.subscribeToSaveResponse(this.questionService.saveTopicQuestion(s))}))}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("General Topic question created successfully","success"),this.showAddQuestion=!0,this.showSaveQuestion=!1}onBack(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.router.navigateByUrl("/general-concept-and-topic/general-topic-question"),l.pluginService.sideMenuToggle())}))}onError(l){this.errorHandler.handleError(l)}addQuestion(){window.location.reload(),this.questionType="",this.showSaveQuestion=!0}}},JD3z:function(l,n,e){"use strict";e.d(n,"a",(function(){return j}));var u=e("8Y7J"),t=e("SVse"),s=e("ZTrc"),i=e("WOoW"),o=e("ICK7"),r=e("H/4C"),c=e("cUpR"),a=e("/+cj"),d=e("IheW"),b=e("hFJU"),p=e("JXEQ"),h=e("fSzn"),g=e("iInd"),m=e("3ZkO"),f=e("s7LF"),v=e("ustg"),T=e("qd05"),C=u.qb({encapsulation:2,styles:[],data:{}});function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{ngClass:[0,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["disabled",""],["name","answer"],["readonly",""]],[[8,"type",0],[8,"id",0]],null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(9,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(10,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(11,1)],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.type,"checkbox"===e.type);l(n,3,0,t),l(n,6,0,e.questionResource.Answers,n.context.$implicit.ChoiceId);var s=u.Nb(n,10,0,l(n,11,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,10,0,s)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.type,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,8,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,2,"div",[["class","row mb-3 p-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(11,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(12,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(17,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,11,0,e.questionResource.Choices),l(n,17,0,e.answers)}),null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),u.rb(3,540672,null,0,o.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.questionResource.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,""))}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(5,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,n.context.$implicit.ChoiceText),l(n,5,0,e.questionResource.Options)}),null)}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.sb(9,0,null,null,6,"table",[["class","border-collapse my-2 font-18 p-3"],["style","pointer-events: none"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(13,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(15,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(16,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(21,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,13,0,e.questionResource.Options),l(n,15,0,e.questionResource.Choices),l(n,21,0,e.answers)}),null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question\xa0:\xa0"])),(l()(),u.sb(6,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(7,540672,null,0,i.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(8,1),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(10,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(16,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,7,0,l(n,8,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,7,0,t),l(n,10,0,e.answers),l(n,16,0,e.answers)}),null)}function R(l){return u.Ob(0,[u.Gb(0,r.a,[c.b]),(l()(),u.sb(1,0,null,null,6,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,2,"a",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.editQuestionRoute()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-edit mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit question "])),(l()(),u.sb(8,0,null,null,1,"div",[["class","w-100 mb-2 text-primary font-18"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" ","\n"])),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(11,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(13,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(15,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,"MCQ_SINGLE"===e.questionType||"MCQ_MULTIPLE"===e.questionType||"MCQ_TRUE_FALSE"===e.questionType),l(n,13,0,"MCQ_CHOICE_MATRIX"===e.questionType),l(n,15,0,"MCQ_MATCH_LIST"===e.questionType)}),(function(l,n){l(n,9,0,n.component.topicName)}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,R,C)),u.Jb(512,null,a.a,a.a,[d.c]),u.Jb(512,null,b.a,b.a,[p.a,u.q]),u.rb(3,114688,null,0,h.a,[g.a,g.k,p.a,m.a,a.a,f.e,v.a,T.a,b.a],null,null)],(function(l,n){l(n,3,0)}),null)}var j=u.ob("ng-component",h.a,Q,{},{},[])},JH4I:function(l,n,e){"use strict";e.d(n,"a",(function(){return s})),e("/+cj"),e("ey9i"),e("JXEQ"),e("pyIl"),e("wy83");var u=e("BN3N"),t=(e("tmov"),e("s7LF"));e("hFJU");class s{constructor(l,n,e,u,t,s,i,o,r,c,a,d){this._router=l,this.activatedRoute=n,this.curriculumService=e,this.subjectService=u,this.lessonTopicService=t,this.eventManager=s,this.parseLinks=i,this.principalService=o,this.pluginService=r,this.generalSubjectService=c,this.formBuilder=a,this.errorHandler=d,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.generalSubjectList=[],this.subjectTree=[],this.generalSubjectTree=[],this.lessonTopicsList=[],this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.allGrades=[],this.topicIds=[],this.lessonTopicIds=[],this.enableExpandSubjectNode=!1,this.enableExpandGSubjectNode=!1,this.tableAction=!0,this.updateAction=!0,this.addToListAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}ngOnInit(){this.loadCurriculums(),this.createLessonTopicForm()}createLessonTopicForm(){this.lessonTopicForm=this.formBuilder.group({generalTopicName:new t.f(""),newTopicName:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)])})}loadCurriculums(){this.curriculumService.getCurriculumSearch().subscribe(l=>this.assignCurriculumList(l.body),l=>this.onError(l))}assignCurriculumList(l){this.curriculumList=[];for(let n=0;n<l.length;n++)this.curriculumList.push(l[n])}onError(l){this.errorHandler.handleError(l)}ngAfterViewInit(){this.showSyllabusDetails(),this.showGeneralSubjectTreeDetails()}onCurriculumChange(){let l,n;this.selectedCurriculum&&this.generateGradeList(l=this.selectedCurriculum.gradesApplicableFrom,n=this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}onGradeChange(){let l,n,e;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(l=this.selectedCurriculum.id,n=this.selectedGrade.id,e=u.a).subscribe(l=>this.assignSubjectList(l.body),l=>this.onError(l)),this.selectedSubject=null}assignSubjectList(l){this.subjectList=[];for(let n=0;n<l.length;n++)this.subjectList.push(l[n])}generateGradeList(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}onGeneralSubjectGradeChange(){if(this.selectedGeneralSubjectGrade){let l=this.selectedGeneralSubjectGrade.name,n=u.a;this.selectedGeneralSubject=null,this.generalSubjectService.getSubjectListByGrade(l,n).subscribe(l=>this.assignGeneralSubjectList(l.body),l=>this.onError(l))}this.selectedGeneralSubjectGrade=null,this.generalSubjectList=[]}assignGeneralSubjectList(l){this.generalSubjectList=[],this.generalSubjectList=l}loadSubjectTree(){if(this.selectedSubject){let l=this.selectedSubject.id;this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1),l?this.subjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignSubjectTree(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}}assignSubjectTree(l){if(this.subjectTree=[],l.length>0){for(let n=0;n<l.length;n++)0===l[n].data.topicsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.nodeType="",this.enableExpandSubjectNode=!1}showSyllabusDetails(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.getLessonTopicList(l.lessonId))}))}getLessonTopicList(l){this.lessonTopicService.getLessonTopicListByLessonId(l).subscribe(l=>this.assignLessonTopicsList(l.body),l=>this.onError(l))}assignLessonTopicsList(l){this.lessonTopicsList=[],l.lessonTopics.length>0&&(this.lessonTopicsList=l.lessonTopics,this.sortArrayByOrderNumber(this.lessonTopicsList),this.updateAction=!0,this.tableAction=!0,this.topicIds=[],this.dragUpdateLessonTopicList())}sortArrayByOrderNumber(l){l.sort((l,n)=>l.orderNumber>n.orderNumber?1:-1)}toggleTreeNodes(){this.enableExpandSubjectNode=!this.enableExpandSubjectNode,this.enableExpandSubjectNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}checkSelectedTopics(l){let n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.lessonTopicIds.push(n)):!1===e&&(u=this.lessonTopicIds.findIndex(l=>l===n),this.lessonTopicIds.splice(u,1)),this.lessonTopicIds=this.removeDuplicateElements(this.lessonTopicIds),this.lessonTopicIds.length<=0&&(this.tableAction=!0)}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}deleteLessonTopics(){var l=this;swal({title:"Are you sure to delete lesson topic mapping ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.lessonTopicIds.length>0&&l.subscribeToDeleteResponse(l.lessonTopicService.deleteLessonTopicMapping(l.lessonTopicIds))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Lesson topic deleted successfully","success"),this.tableAction=!0,this.lessonTopicIds=[],this.getLessonTopicList(this.lessonId),this.loadSubjectTree()}resetSelectedTopic(){this.lessonTopicIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}updateLessonTopicMapping(l){this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(l))}subscribeToUpdateResponse(l){l.subscribe(l=>this.onUpdateSuccess(l),l=>this.onError(l))}onUpdateSuccess(l){this.pluginService.alertMessage("Lesson topic mapping updated successfully","success"),this.getLessonTopicList(this.lessonId),this.closeEditLessonTopicModal()}dragUpdateLessonTopicList(){let l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateLessonTopicOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}updateLessonTopicOrder(){this.updateAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].title),u=Number(n[1].textContent);for(let t=0;t<this.lessonTopicsList.length;t++)if(this.lessonTopicsList[t].id===e){this.lessonTopicsList[t].orderNumber=u,this.lessonTopicsList[t].id=e;break}this.sortArrayByOrderNumber(this.lessonTopicsList)})}updateLessonTopics(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.checkOrderNumChange&&l.subscribeToUpdateResponse(l.lessonTopicService.updateLessonTopicMapping(l.lessonTopicsList))}))}addNewGeneralTopicMapping(){this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.generalSubjectTree=[],this.selectedGeneralSubject=null,this.selectedGeneralSubjectGrade=null,this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.openTopicMappingModal()}loadGeneralSubjectTree(){this.generalSubjectTree=[],this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.selectedGeneralSubject?this.generalSubjectService.getSubjectTreeBySubjectId(this.selectedGeneralSubject.id).subscribe(l=>this.assignGeneralSubjectTree(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}assignGeneralSubjectTree(l){this.generalSubjectTree=l,this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.enableExpandGSubjectNode=!1}showGeneralSubjectTreeDetails(){var l=this;$("#generalSubjectTreeView").on("changed.jstree",(function(n,e){var u,t,s;for(u=0,t=e.selected.length;u<t;u++)l.modalNodeType=e.node.type,"root"===l.modalNodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.modalNodeType?(s=e.node.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.topicIds=[],this.addToListAction=!0,l.getTopicsList(s)):"topic"===l.modalNodeType&&(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description)}))}getTopicsList(l){let n;n=this.generalSubjectTree.filter(n=>n.parent===l),this.generalSubTopicsList=n.filter(l=>"topic"===l.type),this.disablePreSelectedTopics()}disablePreSelectedTopics(){if(this.lessonTopicsList.length>0)for(let l=0;l<this.lessonTopicsList.length;l++)for(let n=0;n<this.generalSubTopicsList.length;n++)this.lessonTopicsList[l].generalTopicId===this.generalSubTopicsList[n].data.id&&(this.generalSubTopicsList[n].disabled=!0)}checkNewlyAddedTopics(l){let n,e,u;n=l.target.name,!0===(e=l.target.checked)?(this.topicIds.push(n),this.addToListAction=!1):!1===e&&(u=this.topicIds.findIndex(l=>l===n),this.topicIds.splice(u,1)),this.topicIds=this.removeDuplicateElements(this.topicIds)}addTopicToList(){for(let l=0;l<this.topicIds.length;l++)this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(n=>n.id===this.topicIds[l]));this.selectedGeneralSubTopicsList=this.removeDuplicateElements(this.selectedGeneralSubTopicsList),this.addToListAction=!0}removeFromNewTopicList(l){var n;this.selectedGeneralSubTopicsList.length>0?(n=this.selectedGeneralSubTopicsList.findIndex(n=>n.id===l),this.selectedGeneralSubTopicsList.splice(n,1)):this.selectedGeneralSubTopicsList=[]}toggleGeneralSubjectTreeNodes(){this.enableExpandGSubjectNode=!this.enableExpandGSubjectNode,this.enableExpandGSubjectNode?this.pluginService.openJsTreeAllNodes("#generalSubjectTreeView"):this.pluginService.closeJsTreeAllNodes("#generalSubjectTreeView")}saveLessonTopicMapping(){let l=[];for(let n=0;n<this.selectedGeneralSubTopicsList.length;n++)l.push({generalTopicId:this.selectedGeneralSubTopicsList[n].data.id,topicName:this.selectedGeneralSubTopicsList[n].data.name,generalTopicName:this.selectedGeneralSubTopicsList[n].data.name,lessonId:this.lessonId,orderNumber:this.lessonTopicsList.length+n+10});l.length>0?this.subscribeToSaveResponse(this.lessonTopicService.saveLessonTopicMapping(l)):this.pluginService.alertMessage("No lesson topics added","error")}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Lesson topic mapped successfully","success"),this.closeTopicMappingModal(),this.getLessonTopicList(this.lessonId),this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.loadSubjectTree()}trimValue(l){return null==l?l:l.trim()}editLessonTopic(l){let n=this.lessonTopicsList.filter(n=>n.id===l)[0];this.lessonTopicId=l,this.lessonTopicForm.setValue({generalTopicName:n.generalTopicName,newTopicName:n.topicName}),this.lessonTopicForm.get("generalTopicName").disable(),this.openEditLessonTopicModal()}closeWithOutSavingTopicMapping(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicMappingModal()}))}openEditLessonTopicModal(){this.pluginService.showModalWindow("#editLessonTopicModal")}closeEditLessonTopicModal(){this.pluginService.hideModalWindow("#editLessonTopicModal")}closeWithOutSavingTopicName(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeEditLessonTopicModal()}))}updateLessonTopicName(){let l={},n=[];(l=this.lessonTopicsList.filter(l=>l.id===this.lessonTopicId)[0]).topicName=this.trimValue(this.lessonTopicForm.get("newTopicName").value),n.push(l),this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(n))}resetEditLessonTopicModal(){let l=this.lessonTopicsList.filter(l=>l.id===this.lessonTopicId)[0];this.lessonTopicForm.setValue({generalTopicName:l.generalTopicName,newTopicName:l.topicName}),this.lessonTopicForm.get("generalTopicName").disable()}openTopicMappingModal(){this.pluginService.showModalWindow("#addNewTopicMappingModal")}closeTopicMappingModal(){this.pluginService.hideModalWindow("#addNewTopicMappingModal")}}},Ncj7:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return o})),e("3ZkO"),e("JXEQ");class u{constructor(){this.Choices=[],this.Options=[],this.Answers=[]}}class t{constructor(l,n){this.ChoiceId=l,this.OptionId=n}}class s{constructor(l,n){this.ChoiceId=l,this.ChoiceText=n}}class i{constructor(l,n){this.OptionId=l,this.OptionText=n}}class o{constructor(l,n,e,t){this.route=l,this.questionService=n,this.pluginService=e,this.changedetector=t,this.answers=[],this.viewModel=new u,this.route.data.subscribe(l=>{"MCQ_CHOICE_MATRIX"===l.type&&(this.viewModel.QuestionType=l.type)})}ngOnInit(){this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.route.snapshot.data.question&&Promise.resolve().then(()=>{this.viewModel=this.route.snapshot.data.question})}ngAfterViewChecked(){this.viewModel&&this.questionService.generateQuestionResource(this.viewModel),this.changedetector.detectChanges()}deleteChoice(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{let n=this.viewModel.Choices.findIndex(n=>n.ChoiceId===l);this.viewModel.Choices.splice(n,1)}}addChoice(){this.viewModel.Choices=[...this.viewModel.Choices,new s((new Date).getUTCMilliseconds(),"")]}addOption(){this.viewModel.Options=[...this.viewModel.Options,new i((new Date).getUTCMilliseconds(),"")]}deleteOption(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{let n=this.viewModel.Options.findIndex(n=>n.OptionId===l);this.viewModel.Options.splice(n,1)}}markAsAnswer(l,n){let e;if(0===this.viewModel.Answers.length&&(this.viewModel.Answers=[]),this.viewModel.Answers.push({ChoiceId:l.ChoiceId,OptionId:n.OptionId}),this.viewModel.Answers.length>0)for(let u=0;u<this.viewModel.Answers.length;u++)for(let l=u+1;l<this.viewModel.Answers.length;l++)this.viewModel.Answers[u].ChoiceId===this.viewModel.Answers[l].ChoiceId&&(e=this.viewModel.Answers.findIndex(l=>l.ChoiceId===this.viewModel.Answers[u].ChoiceId),this.viewModel.Answers.splice(e,1));this.viewModel.TotalMarks=this.viewModel.Answers.length,this.showChoiceMatrixAnswers()}showChoiceMatrixAnswers(){let l=[],n=[],e=[];this.answers=[],l=this.viewModel.Answers,n=this.viewModel.Choices,e=this.viewModel.Options;for(let u=0;u<l.length;u++)this.answers.push({choiceName:n.find(n=>n.ChoiceId===l[u].ChoiceId).ChoiceText,optionName:e.find(n=>n.OptionId===l[u].OptionId).OptionText})}ngOnDestroy(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.Options=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}},OcQ3:function(l,n,e){"use strict";e.d(n,"a",(function(){return J}));var u=e("8Y7J"),t=e("MJJn"),s=e("wTG2"),i=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("/+cj"),a=e("IheW"),d=e("hFJU"),b=e("JXEQ"),p=e("tvYL"),h=e("iInd"),g=e("wy83"),m=e("pyIl"),f=e("BksD"),v=e("+Ok4"),T=e("tmov"),C=u.qb({encapsulation:2,styles:[],data:{}});function w(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGrade=e)&&t),"change"===n&&(t=!1!==s.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandSubjectNode),l(n,6,0,!0===e.enableExpandSubjectNode)}),null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2 text-danger"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No topic is mapped "]))],null,null)}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedTopics(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,1,"td",[["data-column","Video count"]],null,null,null,null,null)),(l()(),u.Mb(12,null,[" "," "])),(l()(),u.sb(13,0,null,null,1,"td",[["data-column","Question count"]],null,null,null,null,null)),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(16,null,[" "," "]))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.displayName,""))}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.displayName),l(n,12,0,n.context.$implicit.topicContentCount),l(n,14,0,n.context.$implicit.questionsCount),l(n,16,0,n.context.$implicit.baseGrade)}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedTopic()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mx-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteLessonTopics()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopics()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Video count"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question count"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(16,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(18,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(20,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,18,0,e.lessonTopicsList,e.trackId),l(n,20,0,e.lessonTopicsList.length>0)}),null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","d-flex w-100 justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h4",[["class","font-24 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["",""])),(l()(),u.sb(5,0,null,null,3,"div",[["class","d-flex align-items-start"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,2,"a",[["class","btn btn-primary text-white mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addNewGeneralTopicMapping()&&u),u}),null,null)),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new general topic "])),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,10,0,n.component.lessonTopicsList)}),(function(l,n){l(n,4,0,n.component.nodeName)}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleGeneralSubjectTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandGSubjectNode),l(n,6,0,!0===e.enableExpandGSubjectNode)}),null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Concept, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic "]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"td",[["data-column","Select"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["type","checkbox"]],[[8,"name",0],[8,"id",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkNewlyAddedTopics(e)&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(7,null,[" "," "])),(l()(),u.sb(8,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "]))],null,(function(l,n){l(n,2,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+123"),n.context.$implicit.disabled,n.context.$implicit.disabled),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,7,0,n.context.$implicit.data.name),l(n,9,0,n.context.$implicit.data.description),l(n,11,0,n.context.$implicit.data.baseGrade)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.generalSubTopicsList)}),null)}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "])),(l()(),u.sb(5,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"div",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.removeFromNewTopicList(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.data.name),l(n,4,0,n.context.$implicit.data.description),l(n,6,0,n.context.$implicit.data.baseGrade)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.selectedGeneralSubTopicsList)}),null)}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept name"])),(l()(),u.Mb(5,null,[" - ",""])),(l()(),u.sb(6,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept description"])),(l()(),u.Mb(9,null,[" - ",""])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex justify-content-end my-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"button",[["class","btn btn-info"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addTopicToList()&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add to list "])),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(17,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,e.generalSubTopicsList),l(n,17,0,e.selectedGeneralSubTopicsList)}),(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,9,0,e.nodeDescription),l(n,13,0,e.addToListAction)}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==s.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,w)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,81,"div",[["aria-hidden","true"],["aria-labelledby","addNewPrereqTopicMappingModal"],["class","modal"],["id","addNewPrereqTopicMappingModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,80,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,79,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" Add new prerequisite topic mapping - "," "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicMapping()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,66,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(58,0,null,null,50,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,42,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,20,"div",[["class","col-xxl-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(63,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,65).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGeneralSubjectGrade=e)&&t),"change"===n&&(t=!1!==s.onGeneralSubjectGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(65,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(79,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(80,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(82,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(83,0,null,null,20,"div",[["class","col-xxl-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,19,"ng-select",[["bindLabel","title"],["class","ng-select"],["placeholder","Select general subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,86).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGeneralSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(86,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(100,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(101,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(103,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(104,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(105,0,null,null,3,"div",[["class","col-xxl-2"]],null,null,null,null,null)),(l()(),u.sb(106,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadGeneralSubjectTree()&&u),u}),null,null)),(l()(),u.sb(107,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(109,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(110,0,null,null,4,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(112,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(113,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(114,0,null,null,0,"div",[["id","generalSubjectTreeView"]],null,null,null,null,null)),(l()(),u.sb(115,0,null,null,8,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(117,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(119,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(121,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(123,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(124,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(125,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicMappingModal()&&u),u}),null,null)),(l()(),u.sb(126,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(128,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveLessonTopicMapping()&&u),u}),null,null)),(l()(),u.sb(129,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,65,0,"name","Select grade",e.allGrades);var s=e.selectedGeneralSubjectGrade,i=l(n,80,0,!0);l(n,79,0,s,i),l(n,86,0,"title","Select general subject",e.generalSubjectList);var o=e.selectedGeneralSubject,r=l(n,101,0,!0);l(n,100,0,o,r),l(n,112,0,e.generalSubjectTree.length>1),l(n,117,0,e.generalSubjectTree.length>1),l(n,119,0,"root"===e.modalNodeType),l(n,121,0,"concept"===e.modalNodeType),l(n,123,0,"topic"===e.modalNodeType)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,54,0,e.nodeName),l(n,63,1,[!u.Eb(n,65).multiple,u.Eb(n,65).typeahead,u.Eb(n,65).multiple,u.Eb(n,65).addTag,u.Eb(n,65).searchable,u.Eb(n,65).clearable,u.Eb(n,65).isOpen,u.Eb(n,65).disabled,u.Eb(n,65).filtered,u.Eb(n,82).ngClassUntouched,u.Eb(n,82).ngClassTouched,u.Eb(n,82).ngClassPristine,u.Eb(n,82).ngClassDirty,u.Eb(n,82).ngClassValid,u.Eb(n,82).ngClassInvalid,u.Eb(n,82).ngClassPending]),l(n,84,1,[!u.Eb(n,86).multiple,u.Eb(n,86).typeahead,u.Eb(n,86).multiple,u.Eb(n,86).addTag,u.Eb(n,86).searchable,u.Eb(n,86).clearable,u.Eb(n,86).isOpen,u.Eb(n,86).disabled,u.Eb(n,86).filtered,u.Eb(n,103).ngClassUntouched,u.Eb(n,103).ngClassTouched,u.Eb(n,103).ngClassPristine,u.Eb(n,103).ngClassDirty,u.Eb(n,103).ngClassValid,u.Eb(n,103).ngClassInvalid,u.Eb(n,103).ngClassPending])}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,B,C)),u.Jb(512,null,c.a,c.a,[a.c]),u.Jb(512,null,d.a,d.a,[b.a,u.q]),u.rb(3,4308992,null,0,p.a,[h.k,h.a,g.a,m.a,c.a,f.c,f.f,v.a,T.a,b.a,d.a],null,null)],(function(l,n){l(n,3,0)}),null)}var J=u.ob("ng-component",p.a,G,{},{},[])},RFFW:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return t})),e.d(n,"i",(function(){return s})),e.d(n,"j",(function(){return i})),e.d(n,"k",(function(){return o})),e.d(n,"l",(function(){return r})),e.d(n,"m",(function(){return c})),e.d(n,"n",(function(){return a})),e.d(n,"o",(function(){return d})),e.d(n,"p",(function(){return b})),e.d(n,"c",(function(){return p})),e.d(n,"d",(function(){return h})),e.d(n,"e",(function(){return g})),e.d(n,"f",(function(){return m})),e.d(n,"g",(function(){return f})),e.d(n,"h",(function(){return v})),e("ey9i"),e("JH4I"),e("tvYL"),e("h8Em"),e("roRw"),e("XMAV"),e("iEt1"),e("psak"),e("gfXs"),e("zsI8"),e("fSzn"),e("BTcv"),e("gQ5b"),e("TW2f");const u={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage lesson topics"},t={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage prerequisite lesson topics"},s={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage video content mapping"},i={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage topic questions"},o={authorities:["SYSTEM_ADMIN"],pageTitle:"Create new topic question"},r={type:"MCQ_SINGLE",title:"Create"},c={type:"MCQ_MULTIPLE",mode:"Create"},a={type:"MCQ_TRUE_FALSE",title:"Create"},d={title:"Create",type:"MCQ_CHOICE_MATRIX"},b={title:"Create",type:"MCQ_MATCH_LIST"},p={title:"Create",type:"mcq-drag"},h={authorities:["SYSTEM_ADMIN"],pageTitle:"Edit topic question"},g={authorities:["SYSTEM_ADMIN"],pageTitle:"View topic question"},m={authorities:["SYSTEM_ADMIN"],pageTitle:"View topic question"},f={authorities:["SYSTEM_ADMIN"],pageTitle:"Manage study material"},v={authorities:["SYSTEM_ADMIN"],pageTitle:"OCR tool (Convert image to text)"}},TW2f:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("JXEQ"),e("9wII");class t{constructor(l,n){this.pluginService=l,this.ocrService=n}ngOnInit(){this.pluginService.sideMenuToggle(),this.ckEditorMathPix=this.pluginService.getCKEditorMathPixConfig()}getBase64ImageFromUrl(l){return u.a(this,void 0,void 0,(function*(){var n=yield fetch(l),e=yield n.blob();return new Promise((l,n)=>{var u=new FileReader;u.addEventListener("load",(function(){l(u.result)}),!1),u.onerror=()=>n(this),u.readAsDataURL(e)})}))}onImageUpload(){return u.a(this,void 0,void 0,(function*(){let l,n,e,u;if((n=document.createElement("div")).innerHTML=this.dataSource,(l=n.getElementsByTagName("img")).length>0)for(let t=0;t<l.length;t++)e=l[t].src,u=yield this.getBase64ImageFromUrl(e),this.subscribeSaveResponse(this.ocrService.processBase64IntoTex(u))}))}subscribeSaveResponse(l){l.subscribe(l=>this.onSaveResponse(l),l=>this.onSaveError(l))}onSaveResponse(l){let n=l.body.error;this.generatedFormulaText=l.body.latex_styled,n&&this.pluginService.alertMessage(n,"error")}onSaveError(l){this.pluginService.alertMessage(l,"error")}onCopyFormulaText(){let l=document.getElementById("generatedCode");l.select(),l.setSelectionRange(0,99999),document.execCommand("copy")}}},WOoW:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));class u{constructor(l){this.element=l}ngOnChanges(){MathJax.Hub.Config({showMathMenu:!1,messageStyle:"none"}),MathJax.Hub.Configured(),this.element.nativeElement.innerHTML=this.texExpression,MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.element.nativeElement.innerHTML])}}},XMAV:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var u=e("IheW"),t=(e("/+cj"),e("ey9i"),e("JXEQ"),e("s7LF")),s=(e("ustg"),e("QHgc"),e("pyIl"),e("GcsT"),e("wy83"),e("BN3N")),i=(e("aV0t"),e("Iab2"));e("hFJU");class o{constructor(l,n,e,u,t,s,i,o,r,c,a,d,b,p,h,g){this._router=l,this.activatedRoute=n,this.addlResourceService=e,this.curriculumService=u,this.subjectService=t,this.organisationService=s,this.eventManager=i,this.parseLinks=o,this.principalService=r,this.pluginService=c,this.formBuilder=a,this.userLoginInfo=d,this.commonService=b,this.changeDetectorRef=p,this.fileService=h,this.errorHandler=g,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.resourceCategory=[],this.contentType=[],this.resourceIds=[],this.ownLessonResourceIds=[],this.organisations=[],this.addlResource=[],this.ownAddlResource=[],this.orgGeneralAddlResource=[],this.selectedFile=null,this.enableExpandNode=!1,this.checkContentCE=!1,this.contentPreferenceStatus=!1,this.validateForm=!0,this.tableAction=!0,this.updateAction=!0,this.tableGenAction=!0,this.updateGenAction=!0}ngOnInit(){this.loadCurriculums(),this.createAdditionLessonResourceForm(),this.getContentCategory(),this.getContentType()}getContentCategory(){this.commonService.getContentCategoryList().subscribe(l=>{this.resourceCategory=l})}getContentType(){this.commonService.getContentTypeList().subscribe(l=>{this.contentType=l})}createAdditionLessonResourceForm(){this.lessonResourceForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),resourceCategory:new t.f(null,[t.y.required]),contentType:new t.f(null,[t.y.required]),webSource:new t.f(null)})}loadCurriculums(){this.curriculumService.getCurriculumSearch().subscribe(l=>this.assignCurriculumList(l.body),l=>this.onError(l))}assignCurriculumList(l){this.curriculumList=[];for(let n=0;n<l.length;n++)this.curriculumList.push(l[n])}onError(l){this.errorHandler.handleError(l)}onDocumentFileChanges(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}uploadDocumentFile(){if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){let l=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe(n=>{200===n.status&&(this.uploadedFileName=Object.keys(n.body)[0],this.uploadedFilePath=Object.values(n.body)[0],this.fileName=this.uploadedFileName,this.uploadedFileName&&this.uploadedFilePath&&this.fileService.uploadPDFFile(this.uploadedFilePath,l).subscribe(l=>{l instanceof u.j&&(this.showFileAction=!0,this.pluginService.alertMessage("File uploaded successfully","success"))}))})}else this.pluginService.alertMessage("Invalid file, it support only PDF","error");else this.pluginService.alertMessage("Please choose file and upload it","error")}downloadFile(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}subscribeToDownloadResponse(l){l.subscribe(l=>this.onDownloadSuccess(l),l=>this.onError(l))}onDownloadSuccess(l){if(l.body){let n=Object.values(l.body)[0];Object(i.saveAs)(n)}}checkContentType(){this.selectedContentType&&"DOCUMENT"===this.selectedContentType.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}deleteUploadedFile(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}subscribeToDeleteFiletResponse(l){l.subscribe(l=>this.onDeleteFileSuccess(l),l=>this.onError(l))}onDeleteFileSuccess(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}ngAfterViewInit(){this.showSyllabusDetails()}onCurriculumChange(){let l,n;this.selectedCurriculum&&this.generateGradeList(l=this.selectedCurriculum.gradesApplicableFrom,n=this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}onGradeChange(){let l,n,e;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(l=this.selectedCurriculum.id,n=this.selectedGrade.id,e=s.a).subscribe(l=>this.assignSubjectList(l.body),l=>this.onError(l)),this.selectedSubject=null}assignSubjectList(l){this.subjectList=[];for(let n=0;n<l.length;n++)this.subjectList.push(l[n])}generateGradeList(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}loadSubjectTree(){if(this.selectedSubject){let l=this.selectedSubject.id;l?this.subjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignSubjectTree(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}}assignSubjectTree(l){if(this.subjectTree=[],l.length>0){for(let n=0;n<l.length;n++)0===l[n].data.addlContentsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.enableExpandNode=!1}trimValue(l){return null==l?l:l.trim()}ngAfterViewChecked(){this.validateTopicContentForm(),this.changeDetectorRef.detectChanges()}validateTopicContentForm(){let l,n;l=this.trimValue(this.lessonResourceForm.value.contentTitle),n=this.trimValue(this.lessonResourceForm.value.webSource),""!==l&&null!=l||(this.validateForm=!0),this.lessonResourceForm.valid&&(this.validateForm=!1),this.lessonResourceForm.invalid&&(this.validateForm=!0),""!==n&&null!=n&&""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateForm=!0)}showSyllabusDetails(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.addlResource=[],l.orgGeneralAddlResource=[],l.ownAddlResource=[],l.getAddlResourceList(l.lessonId),l.getOrgGeneralAddlResourceByOrganisationId(l.lessonId),l.getOrganisationList(),l.getAddlResourcePreference(l.lessonId),l.updateAction=!0,l.updateGenAction=!0,l.tableAction=!0,l.tableGenAction=!0)}))}getAddlResourceList(l){this.addlResourceService.getAddlResource(l).subscribe(l=>this.assignResponseToAddlResourceList(l.body),l=>this.onError(l))}assignResponseToAddlResourceList(l){this.addlResource=l,this.sortArrayByOrderNumber(this.addlResource),this.dragTableContent()}getOrgGeneralAddlResourceByOrganisation(){this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(this.lessonId,this.selectedOrganisation.id).subscribe(l=>this.assignResponseToOrgAddlResource(l.body),l=>this.onError(l))}assignResponseToOrgAddlResource(l){this.orgGeneralAddlResource=l,this.sortArrayByOrderNumber(this.orgGeneralAddlResource)}getOrgGeneralAddlResourceByOrganisationId(l){this.organisationId=this.userLoginInfo.organisationId,this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(l,this.organisationId).subscribe(l=>this.assignResponseToOrgAddlResourceList(l.body),l=>this.onError(l))}assignResponseToOrgAddlResourceList(l){this.orgGeneralAddlResource=l,this.ownAddlResource=l,this.sortArrayByOrderNumber(this.ownAddlResource),this.ownAddlResourceDragTableContent()}getOrganisationList(){this.organisationService.getOrganisations().subscribe(l=>this.assignOrgList(l.body),l=>this.onError(l))}assignOrgList(l){this.organisations=l}sortArrayByOrderNumber(l){l.sort((l,n)=>l.orderNumber>n.orderNumber?1:-1)}getAddlResourcePreference(l){this.addlResourceService.getAddlResourcePreference(l,this.organisationId).subscribe(l=>this.onGetPreferenceSuccess(l.body),l=>this.onError(l))}onGetPreferenceSuccess(l){""===l||null===l||!1===l?(this.checkContentCE=!0,this.checkOwnContent=!1):!0===l&&(this.checkContentCE=!1,this.checkOwnContent=!0)}checkContentPreference(l){let n=l.target.checked,e=l.target.id;!0===n&&"ContentCE"===e?this.contentPreferenceStatus=!1:!0===n&&"OwnContent"===e&&(this.contentPreferenceStatus=!0)}saveContentPreference(){!1===this.contentPreferenceStatus?this.addlResource.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one general additional lesson resources and change preference","error"):!0===this.contentPreferenceStatus&&(this.ownAddlResource.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one own additional lesson resources and change preference","error"))}setContentPreference(){this.addlResourceService.setAddlResourcePreference(this.contentPreferenceStatus,this.lessonId,this.organisationId).subscribe(l=>this.onSuccess(l.body),l=>this.onError(l))}onSuccess(l){this.pluginService.alertMessage("Content preference saved successfully","success")}resetFormValues(){this.lessonResourceForm.reset(),this.selectedCategory=null,this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}addAddlessonResources(){this.openLessonResourceModal(),this.modalTitleName="Add",this.modalActionName="AddlResource",this.resetFormValues(),this.enableFormFields()}addOwnAddlResources(){this.openLessonResourceModal(),this.modalTitleName="Add",this.modalActionName="OwnAddlResource",this.resetFormValues(),this.enableFormFields()}openLessonResourceModal(){this.pluginService.showModalWindow("#additionalResourceModal")}closeLessonResourceModal(){this.pluginService.hideModalWindow("#additionalResourceModal")}viewAddlResource(l){let n=[],e={content:{}};e=(n=this.addlResource.filter(n=>n.id===l))[0],this.modalTitleName="View",this.modalActionName="AddlResource",this.patchContentFormfields(e),this.openLessonResourceModal()}editAddlResource(l){let n=[],e={content:{}};e=(n=this.addlResource.filter(n=>n.id===l))[0],this.modalTitleName="Edit",this.modalActionName="AddlResource",this.patchContentFormfields(e),this.openLessonResourceModal()}viewOrgAddlResource(l){let n=[],e={content:{}};e=(n=this.orgGeneralAddlResource.filter(n=>n.id===l))[0],this.modalTitleName="View",this.modalActionName="OrgAddlResource",this.patchContentFormfields(e),this.openLessonResourceModal()}editOwnAddlResource(l){let n=[],e={content:{}};e=(n=this.ownAddlResource.filter(n=>n.id===l))[0],this.modalTitleName="Edit",this.modalActionName="OwnAddlResource",this.patchContentFormfields(e),this.openLessonResourceModal()}viewOwnAddlResource(l){let n=[],e={content:{}};e=(n=this.ownAddlResource.filter(n=>n.id===l))[0],this.modalTitleName="View",this.modalActionName="OwnAddlResource",this.patchContentFormfields(e),this.openLessonResourceModal()}patchContentFormfields(l){this.contentId=l.content.id,this.selectedCategory=this.resourceCategory.filter(n=>n.tag===l.content.tag)[0],this.selectedContentType=this.contentType.filter(n=>n.tag===l.content.contentType)[0],this.lessonResourceForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description}),"DOCUMENT"===this.selectedContentType.tag?(this.showFileAction=!0,this.fileName=l.content.fileName,this.uploadedFileName=l.content.fileName,this.uploadedFilePath=l.content.filePath):"VIDEO"===this.selectedContentType.tag&&this.lessonResourceForm.patchValue({webSource:l.content.webUrl}),"View"===this.modalTitleName?this.disableFormFields():"Edit"!==this.modalTitleName&&"Add"!==this.modalTitleName||this.enableFormFields()}disableFormFields(){this.lessonResourceForm.get("contentTitle").disable(),this.lessonResourceForm.get("contentDescription").disable(),this.lessonResourceForm.get("resourceCategory").disable(),this.lessonResourceForm.get("contentType").disable(),this.lessonResourceForm.get("webSource").disable()}enableFormFields(){this.lessonResourceForm.get("contentTitle").enable(),this.lessonResourceForm.get("contentDescription").enable(),this.lessonResourceForm.get("resourceCategory").enable(),this.lessonResourceForm.get("contentType").enable(),this.lessonResourceForm.get("webSource").enable()}saveAddlResource(){if(this.lessonResourceForm.valid){let l=[],n={content:{}};n.lessonId=this.lessonId,n.orderNumber=this.addlResource.length+1,n.content.title=this.trimValue(this.lessonResourceForm.value.contentTitle),n.content.description=this.trimValue(this.lessonResourceForm.value.contentDescription),n.content.tag=this.selectedCategory.tag,n.content.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(n.content.contentSource="WEB_URL",n.content.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(n.content.contentSource="FILE_UPLOAD",n.content.fileName=this.uploadedFileName,n.content.filePath=this.uploadedFilePath),l.push(n),this.addlResourceService.saveAddlResource(l).subscribe(l=>this.onSaveSuccess(l.body),l=>this.onError(l.error))}}saveOwnAddlResource(){if(this.lessonResourceForm.valid){let l=[],n={content:{}};n.lessonId=this.lessonId,n.organisationId=this.userLoginInfo.organisationId,n.orderNumber=this.ownAddlResource.length+1,n.content.title=this.trimValue(this.lessonResourceForm.value.contentTitle),n.content.description=this.trimValue(this.lessonResourceForm.value.contentDescription),n.content.tag=this.selectedCategory.tag,n.content.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(n.content.contentSource="WEB_URL",n.content.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(n.content.contentSource="FILE_UPLOAD",n.content.fileName=this.uploadedFileName,n.content.filePath=this.uploadedFilePath),l.push(n),this.addlResourceService.saveOwnAddlResource(l).subscribe(l=>this.onSaveSuccess(l.body),l=>this.onError(l.error))}}onSaveSuccess(l){this.pluginService.alertMessage("Additional Lesson resource added successfully","success"),this.resetFormValues(),this.closeLessonResourceModal(),this.getAddlResourceList(this.lessonId),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.loadSubjectTree()}updateAddlResource(){let l={};(l={}).id=this.contentId,l.title=this.trimValue(this.lessonResourceForm.value.contentTitle),l.description=this.trimValue(this.lessonResourceForm.value.contentDescription),l.tag=this.selectedCategory.tag,l.contentType=this.selectedContentType.tag,"VIDEO"===this.selectedContentType.tag?(l.contentSource="WEB_URL",l.webUrl=this.getEmbedUrl(this.trimValue(this.lessonResourceForm.value.webSource))):"DOCUMENT"===this.selectedContentType.tag&&(l.contentSource="FILE_UPLOAD",l.fileName=this.uploadedFileName,l.filePath=this.uploadedFilePath),this.subscribeToUpdateResponse(this.addlResourceService.updateContentSource(l))}subscribeToUpdateResponse(l){l.subscribe(l=>this.onUpdateSuccess(l),l=>this.onError(l))}onUpdateSuccess(l){this.pluginService.alertMessage("Additional Lesson resource updated successfully","success"),this.resetFormValues(),this.closeLessonResourceModal(),this.getAddlResourceList(this.lessonId)}checkSelectedContents(l){let n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableGenAction=!1,this.resourceIds.push(n)):!1===e&&(u=this.resourceIds.findIndex(l=>l===n),this.resourceIds.splice(u,1)),this.resourceIds=this.removeDuplicateElements(this.resourceIds),this.resourceIds.length<=0&&(this.tableGenAction=!0)}checkSelectedOwnContents(l){let n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.ownLessonResourceIds.push(n)):!1===e&&(u=this.ownLessonResourceIds.findIndex(l=>l===n),this.ownLessonResourceIds.splice(u,1)),this.ownLessonResourceIds=this.removeDuplicateElements(this.ownLessonResourceIds),this.ownLessonResourceIds.length<=0&&(this.tableAction=!0)}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}resetSelectedAddlResource(){this.resourceIds=[],this.tableGenAction=!0,$(".checkAll").prop("checked",!1)}resetSelectedOwnAddlResource(){this.ownLessonResourceIds=[],this.tableAction=!0,$(".checkAllOwnContents").prop("checked",!1)}deleteAddlResource(){var l=this;swal({title:"Are you sure to delete additional lesson resources ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.resourceIds.length>0&&l.subscribeToDeleteResponse(l.addlResourceService.deleteAddlResource(l.resourceIds))}))}deleteOwnAddlResource(){var l=this;!0===this.contentPreferenceStatus?this.pluginService.alertMessage("Please change your content preference and do delete action, ","error"):swal({title:"Are you sure to delete additional lesson resources ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.ownLessonResourceIds.length>0&&l.subscribeToDeleteResponse(l.addlResourceService.deleteOwnAddlResource(l.ownLessonResourceIds))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.tableGenAction=!0,this.tableAction=!0,this.resourceIds=[],this.ownLessonResourceIds=[],this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.getAddlResourceList(this.lessonId),this.loadSubjectTree()}dragTableContent(){let l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateAddlResourceOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}ownAddlResourceDragTableContent(){let l=this;$("#ownContentDragTable #ownContentDragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateOwnAddlResourceOrder()}}),$("#ownContentDragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}updateAddlResourceOrder(){this.updateGenAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].id),u=Number(n[1].textContent);for(let t=0;t<this.addlResource.length;t++)if(this.addlResource[t].id===e){this.addlResource[t].orderNumber=u;break}this.sortArrayByOrderNumber(this.addlResource)})}updateOwnAddlResourceOrder(){this.updateAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#ownContentDragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].id),u=Number(n[1].textContent);for(let t=0;t<this.ownAddlResource.length;t++)if(this.ownAddlResource[t].id===e){this.ownAddlResource[t].orderNumber=u;break}this.sortArrayByOrderNumber(this.ownAddlResource)})}updateAddlResourceWithOrderNumber(){let l=[];for(let e=0;e<this.addlResource.length;e++)l.push({id:this.addlResource[e].id,orderNumber:this.addlResource[e].orderNumber});var n=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&!0===n.checkOrderNumChange&&n.subscribeToUpdateAddlResouceResponse(n.addlResourceService.updateAddlResource(l))}))}subscribeToUpdateAddlResouceResponse(l){l.subscribe(l=>this.onUpdateAddlSuccess(l),l=>this.onError(l))}onUpdateAddlSuccess(l){this.pluginService.alertMessage("Additional resource order updated successfully","success"),this.getAddlResourceList(this.lessonId),this.updateGenAction=!0,this.resetFormValues(),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId)}updateOwnAddlResourceWithOrderNumber(){let l=[];for(let e=0;e<this.ownAddlResource.length;e++)l.push({id:this.ownAddlResource[e].id,orderNumber:this.ownAddlResource[e].orderNumber});var n=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&!0===n.checkOrderNumChange&&n.subscribeToUpdateOwnAddlResouceResponse(n.addlResourceService.updateOwnAddlResource(l))}))}subscribeToUpdateOwnAddlResouceResponse(l){l.subscribe(l=>this.onUpdateOwnAddlSuccess(l),l=>this.onError(l))}onUpdateOwnAddlSuccess(l){this.pluginService.alertMessage("Additional resource order updated successfully","success"),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId),this.updateAction=!0,this.resetFormValues(),this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId)}toggleTreeNodes(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}closeLessonResourceModalWithOutSaving(){if("View"===this.modalTitleName)this.closeLessonResourceModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n?(l.checkContentType(),l.closeLessonResourceModal()):l.closeLessonResourceModal()}))}}resetLessonResource(){this.lessonResourceForm.reset(),this.fileName="",this.uploadedFileName="",this.uploadedFilePath="",this.selectedContentType=null,this.selectedCategory=null}getEmbedUrl(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}}},YTtD:function(l,n,e){"use strict";e.d(n,"a",(function(){return B}));var u=e("8Y7J"),t=e("IDBn"),s=e("XKba"),i=e("s7LF"),o=e("SVse"),r=e("ZTrc"),c=e("WOoW"),a=e("ICK7"),d=e("97zz"),b=e("psak"),p=e("iInd"),h=e("3ZkO"),g=e("JXEQ"),m=e("H/4C"),f=e("cUpR"),v=e("/+cj"),T=e("IheW"),C=e("hFJU"),w=e("BTcv"),y=e("ustg"),x=e("QHgc"),E=e("aV0t"),M=e("qd05"),S=u.qb({encapsulation:2,styles:[],data:{}});function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","assessmentCategory"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectQuestionCategory(l.context.$implicit.tag)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","complexityLevel"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectComplexityLevel(l.context.$implicit.value)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,12,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","col-xxl-12 d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-18 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question"])),(l()(),u.sb(5,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(8,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(10,671744,[["questionInput",4]],0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(12,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,8,0,e.editorQuestionConfig),l(n,10,0,e.viewModel.Question)}),(function(l,n){l(n,7,0,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending)}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[["class","w-100 mb-2 my-2 d-flex"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-choice d-flex align-items-center"]],null,null,null,null,null)),u.Jb(512,null,o.B,o.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,o.k,[o.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,1,"input",[["name","answer"]],[[8,"type",0],[8,"id",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsMCQAnswer(l.context.$implicit.ChoiceId)&&u),u}),null,null)),u.rb(6,540672,null,0,r.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"]},null),(l()(),u.sb(7,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(8,0,null,null,6,"div",[["class","mcq-question"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(10,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(12,671744,[["questionInput",4]],0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(14,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(15,0,null,null,1,"div",[["class","mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteChoice(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){var e=n.component,u=l(n,4,0,"radio"===e.choiceType,"checkbox"===e.choiceType);l(n,3,0,"mcq-choice d-flex align-items-center",u),l(n,6,0,e.viewModel.Answers,n.context.$implicit.ChoiceId),l(n,10,0,e.editorChoiceConfig),l(n,12,0,n.context.$implicit.ChoiceText)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.choiceType,""),n.context.$implicit.ChoiceId),l(n,7,0,u.wb(1,"",n.context.$implicit.ChoiceId,"")),l(n,9,0,u.Eb(n,14).ngClassUntouched,u.Eb(n,14).ngClassTouched,u.Eb(n,14).ngClassPristine,u.Eb(n,14).ngClassDirty,u.Eb(n,14).ngClassValid,u.Eb(n,14).ngClassInvalid,u.Eb(n,14).ngClassPending)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Choice"]))],null,null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(3,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"h5",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Choices"])),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(7,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(11,0,null,null,5,"div",[["class","my-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(16,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.viewModel),l(n,7,0,e.viewModel.Choices),l(n,10,0,"MCQ_TRUE_FALSE"!==e.viewModel.QuestionType),l(n,16,0,e.answers)}),null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.ChoiceText=e)&&u),u}),t.b,t.a)),u.rb(3,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(5,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(7,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(8,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteStem(l.context.$implicit.ChoiceId)&&u),u}),null,null))],(function(l,n){l(n,3,0,n.component.editorChoiceConfig),l(n,5,0,n.context.$implicit.ChoiceText)}),(function(l,n){l(n,2,0,u.Eb(n,7).ngClassUntouched,u.Eb(n,7).ngClassTouched,u.Eb(n,7).ngClassPristine,u.Eb(n,7).ngClassDirty,u.Eb(n,7).ngClassValid,u.Eb(n,7).ngClassInvalid,u.Eb(n,7).ngClassPending)}))}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,6,"div",[["class","mcq-stem"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(5,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(7,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(8,0,null,null,1,"div",[["class","mcq-action d-flex align-items-center justify-content-end font-22 text-danger"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){l(n,3,0,n.component.editorChoiceConfig),l(n,5,0,n.context.$implicit.OptionText)}),(function(l,n){l(n,2,0,u.Eb(n,7).ngClassUntouched,u.Eb(n,7).ngClassTouched,u.Eb(n,7).ngClassPristine,u.Eb(n,7).ngClassDirty,u.Eb(n,7).ngClassValid,u.Eb(n,7).ngClassInvalid,u.Eb(n,7).ngClassPending)}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"input",[["type","radio"]],[[8,"id",0],[8,"name",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.markAsMatrixAnswer(l.parent.context.$implicit,l.context.$implicit)&&u),u}),null,null)),u.rb(3,540672,null,0,a.a,[u.k],{answers:[0,"answers"],choiceid:[1,"choiceid"],optionid:[2,"optionid"]},null),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.component.viewModel.Answers,n.parent.context.$implicit.ChoiceId,n.context.$implicit.OptionId)}),(function(l,n){l(n,2,0,n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,4,0,u.wb(1,"",n.parent.context.$implicit.ChoiceId+n.context.$implicit.OptionId,""))}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(3,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(6,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.viewModel.Options)}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,c.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,46,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","row my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","col-xxl-12 d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h5",[["class","font-18 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Compose question"])),(l()(),u.sb(5,0,null,null,7,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,6,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(8,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(10,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(12,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(13,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Stems"])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(17,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(18,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addChoice()&&u),u}),null,null)),(l()(),u.sb(20,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add stem"])),(l()(),u.sb(22,0,null,null,4,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Options"])),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(26,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(27,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(29,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(31,0,null,null,2,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Setting up answers"])),(l()(),u.sb(34,0,null,null,6,"table",[["class","table-matrix my-2"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(38,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(40,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(41,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(43,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(46,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.editorQuestionConfig),l(n,10,0,e.viewModel.Question),l(n,17,0,e.viewModel.Choices),l(n,26,0,e.viewModel.Options),l(n,38,0,e.viewModel.Options),l(n,40,0,e.viewModel.Choices),l(n,46,0,e.answers)}),(function(l,n){l(n,7,0,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"match-list",[],null,null,null,d.c,d.b)),u.rb(2,8634368,null,0,b.a,[p.a,p.k,h.a,g.a,u.h],{questionResource:[0,"questionResource"]},null)],(function(l,n){l(n,2,0,n.component.viewModel)}),null)}function $(l){return u.Ob(0,[u.Gb(0,m.a,[f.b]),(l()(),u.sb(1,0,null,null,3,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,62,"div",[["id","stepperTab"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"ul",[["id","progressbar"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"li",[["class","active"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"li",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,29,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 1 - Edit question - "])),(l()(),u.sb(15,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(16,null,["",""])),(l()(),u.sb(17,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,12,"div",[["class","col-xxl-12 mx-3"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,5,"div",[["class","form-group mb-2 row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question category"])),(l()(),u.sb(22,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(24,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(25,0,null,null,5,"div",[["class","form-group  row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question complexity level"])),(l()(),u.sb(28,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(30,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(32,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(34,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(36,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(37,0,null,null,2,"button",[["class","next btn btn-success float-right"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadQuestionResource()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(39,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,27,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(42,0,null,null,4,"div",[["class","col-xxl-12 mb-2 alert-warning p-3"]],null,null,null,null,null)),(l()(),u.sb(43,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 2 - Edit solution content - "])),(l()(),u.sb(45,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(46,null,["",""])),(l()(),u.sb(47,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,10,"div",[["class","col-xxl-12 mb-2"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Solution content"])),(l()(),u.sb(51,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.solutionContent=e)&&u),u}),t.b,t.a)),u.rb(52,16384,null,0,i.x,[],{required:[0,"required"]},null),u.Jb(1024,null,i.m,(function(l){return[l]}),[i.x]),u.rb(54,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(56,671744,[["questionInput",4]],0,i.s,[[8,null],[6,i.m],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(58,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(59,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateQuestion()&&u),u}),null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save question "])),(l()(),u.sb(62,0,null,null,2,"button",[["class","btn btn-danger ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetQuestion()&&u),u}),null,null)),(l()(),u.sb(63,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(65,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],(function(l,n){var e=n.component;l(n,24,0,e.questionCategory),l(n,30,0,e.questionComplexityLevel),l(n,32,0,"MCQ_SINGLE"===e.viewModel.QuestionType||"MCQ_MULTIPLE"===e.viewModel.QuestionType||"MCQ_TRUE_FALSE"===e.viewModel.QuestionType),l(n,34,0,"MCQ_CHOICE_MATRIX"===e.viewModel.QuestionType),l(n,36,0,"MCQ_MATCH_LIST"===e.viewModel.QuestionType),l(n,52,0,!0),l(n,54,0,e.editorQuestionConfig),l(n,56,0,e.solutionContent)}),(function(l,n){var e=n.component;l(n,16,0,e.topicName),l(n,46,0,e.topicName),l(n,51,0,u.Eb(n,52).required?"":null,u.Eb(n,58).ngClassUntouched,u.Eb(n,58).ngClassTouched,u.Eb(n,58).ngClassPristine,u.Eb(n,58).ngClassDirty,u.Eb(n,58).ngClassValid,u.Eb(n,58).ngClassInvalid,u.Eb(n,58).ngClassPending)}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,$,S)),u.Jb(512,null,v.a,v.a,[T.c]),u.Jb(512,null,C.a,C.a,[g.a,u.q]),u.rb(3,114688,null,0,w.a,[p.a,p.k,g.a,h.a,v.a,i.e,y.a,x.a,E.a,C.a,M.a],null,null)],(function(l,n){l(n,3,0)}),null)}var B=u.ob("ng-component",w.a,K,{},{},[])},ZTrc:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));class u{constructor(l){this.elementRef=l}ngOnChanges(l){this.elementRef.nativeElement.removeAttribute("checked"),l.answers&&this.answers.indexOf(this.choiceid)>-1&&this.elementRef.nativeElement.setAttribute("checked","checked")}}},fSzn:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("/+cj"),e("JXEQ"),e("3ZkO"),e("ustg"),e("hFJU"),e("qd05");class u{constructor(l,n,e,u,t,s,i,o,r){this.activatedRoute=l,this.router=n,this.pluginService=e,this.questionBuilderService=u,this.questionService=t,this.formBuilder=s,this.userLoginService=i,this.localStorageService=o,this.errorHandler=r,this.questionResource={},this.matchList=[],this.answers=[],this.getCurrentRouteInfo()}getCurrentRouteInfo(){let l,n=[];n=(l=this.router.url).split("/"),this.currentRoute=n.pop()}ngOnInit(){this.pluginService.sideMenuToggle(),this.activatedRoute.params.subscribe(l=>{this.questionId=l.id,this.questionId=Number(this.activatedRoute.snapshot.params.id),this.questionId&&this.getTopicName(),"topic-question-view"===this.currentRoute?this.getOrgTopicQuestionDetail(this.questionId):"general-topic-question-view"===this.currentRoute&&this.getGeneralTopicQuestionDetail(this.questionId)})}getTopicName(){let l={};l=this.localStorageService.retrieveData("topicDetails"),this.topicName=this.questionId?l.title:""}getGeneralTopicQuestionDetail(l){this.questionService.getGeneralTopicQuestionByQuestionId(l).subscribe(l=>this.assignQuestionResource(l.body),l=>this.onError(l))}assignQuestionResource(l){let n={};this.loadPreviewQuestion(n=l)}getOrgTopicQuestionDetail(l){this.questionService.getOrgTopicQuestionByQuestionId(l).subscribe(l=>this.assignOrgQuestionResource(l.body),l=>this.onError(l))}assignOrgQuestionResource(l){let n={};this.loadPreviewQuestion(n=l.question)}onError(l){this.errorHandler.handleError(l)}loadPreviewQuestion(l){let n,e,u,t=[],s=[],i=[],o=[],r=[];if(this.questionResource=[],this.questionResource=this.questionBuilderService.convertStringToJson(l.contentJson),this.questionType=this.questionResource.QuestionType,this.onChangeOptionType(this.questionType),u=this.questionResource.Question,"MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){t=this.questionResource.Choices,i=this.questionResource.Answers;for(let l=0;l<t.length;l++)s.push({choiceId:e=t[l].ChoiceId,choiceText:n=t[l].ChoiceText});for(let l=0;l<i.length;l++){let n=s.find(n=>n.choiceId===i[l]).choiceText;this.answers.push(n),n=""}}else if("MCQ_CHOICE_MATRIX"===this.questionType){this.answers=[],i=this.questionResource.Answers,o=this.questionResource.Choices,r=this.questionResource.Options;for(let l=0;l<i.length;l++)this.answers.push({choiceName:o.find(n=>n.ChoiceId===i[l].ChoiceId).ChoiceText,optionName:r.find(n=>n.OptionId===i[l].OptionId).OptionText})}else if("MCQ_MATCH_LIST"===this.questionType){this.answers=[],o=[],r=[],i=this.questionResource.Answers,o=this.questionResource.Choices,r=this.questionResource.Options;for(let l=0;l<i.length;l++)this.answers.push({choiceName:o.find(n=>n.ChoiceId===i[l].ChoiceId).ChoiceText,optionName:r.find(n=>n.OptionId===i[l].OptionId).OptionText})}}onChangeOptionType(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}resetPreviewQuestions(){this.questionResource=[],this.answers=[]}editQuestionRoute(){"topic-question-view"===this.currentRoute?this.router.navigate(["/lesson-topic",this.questionId,"topic-question-edit"]):"general-topic-question-view"===this.currentRoute&&this.router.navigate(["/general-concept-and-topic",this.questionId,"general-topic-question-edit"])}onBack(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.previousUrl(),l.pluginService.sideMenuToggle())}))}previousUrl(){this.router.navigateByUrl("topic-question-view"===this.currentRoute?"/lesson-topic/topic-question":"general-topic-question-view"===this.currentRoute?"/general-concept-and-topic/general-topic-question":"../")}}},gQ5b:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));class u{}class t{constructor(l,n){this.ZoneId=l,this.OptionId=n}}class s{constructor(l,n){this.OptionId=l,this.OptionText=n}}class i{constructor(l,n,e){this.router=l,this.activatedRoute=n,this.elementRef=e,this.viewmodel=new u}ngOnInit(){this.activatedRoute.snapshot.data.question&&(this.viewmodel=this.activatedRoute.snapshot.data.question,this.resetDropState())}ngAfterViewInit(){$(this.elementRef.nativeElement).find(".drag--container")}onDropped(l){$(l.data.dropzone).is(".cloze--dropzone")&&Promise.resolve().then(()=>{$(this.elementRef.nativeElement).find(".preview-panel").find(".zone").map((l,n)=>{let e=l+1,u="";(n=$(n)).children().length>0&&(u=n.find(".option--item").data("option-id")),this.viewmodel.Answers.push(new t(e,u))})})}deleteOption(l){this.viewmodel.Options=this.viewmodel.Options.filter(n=>n.OptionId!==l)}addOption(){this.viewmodel.Options=this.viewmodel.Options||[],this.viewmodel.Options.push(new s((new Date).getUTCMilliseconds(),""))}saveQuestion(){}cancel(){this.router.navigateByUrl("assessment/choose")}resetDropState(){Promise.resolve().then(()=>{if(this.viewmodel.Answers&&this.viewmodel.Answers.length>0){let n=$(this.elementRef.nativeElement),e=n.find(".preview-panel"),u=n.find(".option--container");for(var l=0;l<this.viewmodel.Answers.length;l++){let n=e.find(`.zone:nth-child(${this.viewmodel.Answers[l].ZoneId})`),t=u.find(`[data-option-id='${this.viewmodel.Answers[l].OptionId}']`);n.append(t).addClass("draggable-dropzone--occupied")}}})}}},gfXs:function(l,n,e){"use strict";var u=e("Ncj7");e.d(n,"a",(function(){return u.a})),e.d(n,"b",(function(){return u.b})),e.d(n,"c",(function(){return u.c})),e("ICK7")},gpsc:function(l,n,e){"use strict";e.d(n,"a",(function(){return V}));var u=e("8Y7J"),t=e("MJJn"),s=e("wTG2"),i=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("vX4a"),a=e("/+cj"),d=e("IheW"),b=e("hFJU"),p=e("JXEQ"),h=e("JH4I"),g=e("iInd"),m=e("wy83"),f=e("pyIl"),v=e("BksD"),T=e("+Ok4"),C=e("tmov"),w=u.qb({encapsulation:2,styles:[],data:{}});function y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGrade=e)&&t),"change"===n&&(t=!1!==s.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function x(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandSubjectNode),l(n,6,0,!0===e.enableExpandSubjectNode)}),null)}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No topic is mapped "]))],null,null)}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,25,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedTopics(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","General topic name"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,3,"td",[["data-column","New topic name"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,13).onClick()&&t),t}),null,null)),u.rb(13,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,1,"td",[["data-column","Video count"]],null,null,null,null,null)),(l()(),u.Mb(16,null,[" "," "])),(l()(),u.sb(17,0,null,null,1,"td",[["data-column","Question count"]],null,null,null,null,null)),(l()(),u.Mb(18,null,[" "," "])),(l()(),u.sb(19,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(20,null,[" "," "])),(l()(),u.sb(21,0,null,null,4,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,2,"a",[["class","btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit lesson topic name"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,24).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,24).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,24).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,24).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,24).onClick()&&t),"click"===n&&(t=!1!==s.editLessonTopic(l.context.$implicit.id)&&t),t}),null,null)),u.rb(24,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.generalTopicName,"")),l(n,13,0,u.wb(1,"",n.context.$implicit.topicName,"")),l(n,24,0,"Edit lesson topic name")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.generalTopicName),l(n,14,0,n.context.$implicit.topicName),l(n,16,0,n.context.$implicit.topicContentCount),l(n,18,0,n.context.$implicit.questionsCount),l(n,20,0,n.context.$implicit.baseGrade)}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedTopic()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mx-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteLessonTopics()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopics()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,21,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,17,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["General topic name"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["New topic name"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Video count"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question count"])),(l()(),u.sb(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(20,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(22,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(24,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,22,0,e.lessonTopicsList,e.trackId),l(n,24,0,e.lessonTopicsList.length>0)}),null)}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[["class","d-flex w-100 justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"h4",[["class","font-24 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["",""])),(l()(),u.sb(5,0,null,null,3,"div",[["class","d-flex align-items-start"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,2,"a",[["class","btn btn-primary text-white mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addNewGeneralTopicMapping()&&u),u}),null,null)),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-cog mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new general topic "])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(10,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,10,0,n.component.lessonTopicsList)}),(function(l,n){l(n,4,0,n.component.nodeName)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleGeneralSubjectTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandGSubjectNode),l(n,6,0,!0===e.enableExpandGSubjectNode)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Concept, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic "]))],null,null)}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,4,"td",[["data-column","Select"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,0,"input",[["type","checkbox"]],[[8,"name",0],[8,"id",0],[8,"checked",0],[8,"disabled",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkNewlyAddedTopics(e)&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(7,null,[" "," "])),(l()(),u.sb(8,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "]))],null,(function(l,n){l(n,2,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+123"),n.context.$implicit.disabled,n.context.$implicit.disabled),l(n,5,0,u.wb(1,"",n.context.$implicit.id,"+123")),l(n,7,0,n.context.$implicit.data.name),l(n,9,0,n.context.$implicit.data.description),l(n,11,0,n.context.$implicit.data.baseGrade)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.generalSubTopicsList)}),null)}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Topic name"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,1,"td",[["data-column","Topic description"]],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "])),(l()(),u.sb(5,0,null,null,1,"td",[["data-column","Primary applicable grade"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Action"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"div",[["class","btn btn-outline-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.removeFromNewTopicList(l.context.$implicit.id)&&u),u}),null,null)),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.data.name),l(n,4,0,n.context.$implicit.data.description),l(n,6,0,n.context.$implicit.data.baseGrade)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Primary applicable grade"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Action"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(14,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.selectedGeneralSubTopicsList)}),null)}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,17,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","my-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept name"])),(l()(),u.Mb(5,null,[" - ",""])),(l()(),u.sb(6,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Concept description"])),(l()(),u.Mb(9,null,[" - ",""])),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex justify-content-end my-2"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"button",[["class","btn btn-info"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addTopicToList()&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add to list "])),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(17,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,11,0,e.generalSubTopicsList),l(n,17,0,e.selectedGeneralSubTopicsList)}),(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,9,0,e.nodeDescription),l(n,13,0,e.addToListAction)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","p-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==s.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,y)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,x)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,81,"div",[["aria-hidden","true"],["aria-labelledby","addNewTopicMappingModal"],["class","modal"],["id","addNewTopicMappingModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,80,"div",[["class","modal-dialog modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(51,0,null,null,79,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" Add new general topic mapping - "," "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicMapping()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,66,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(58,0,null,null,50,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,42,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(63,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,65).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGeneralSubjectGrade=e)&&t),"change"===n&&(t=!1!==s.onGeneralSubjectGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(65,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(79,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(80,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(82,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(83,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,19,"ng-select",[["bindLabel","title"],["class","ng-select"],["placeholder","Select general subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,86).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGeneralSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(86,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(100,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(101,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(103,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(104,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(105,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(106,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadGeneralSubjectTree()&&u),u}),null,null)),(l()(),u.sb(107,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(109,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(110,0,null,null,4,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(112,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(113,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(114,0,null,null,0,"div",[["id","generalSubjectTreeView"]],null,null,null,null,null)),(l()(),u.sb(115,0,null,null,8,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(117,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(119,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(121,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(123,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(124,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(125,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicMappingModal()&&u),u}),null,null)),(l()(),u.sb(126,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "])),(l()(),u.sb(128,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveLessonTopicMapping()&&u),u}),null,null)),(l()(),u.sb(129,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "])),(l()(),u.sb(131,0,null,null,42,"div",[["class","modal slideInRight"],["id","editLessonTopicModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(132,0,null,null,41,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(133,0,null,null,40,"div",[["class","modal-content"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,134).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,134).onReset()&&t),t}),null,null)),u.rb(134,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,i.c,null,[i.i]),u.rb(136,16384,null,0,i.q,[[4,i.c]],null,null),(l()(),u.sb(137,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(138,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Edit lesson topic "])),(l()(),u.sb(140,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeWithOutSavingTopicName()&&u),u}),null,null)),(l()(),u.sb(141,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(142,0,null,null,24,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(143,0,null,null,8,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(144,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["General topic name"])),(l()(),u.sb(146,0,null,null,5,"input",[["class","form-control"],["formControlName","generalTopicName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,147)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,147).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,147)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,147)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(147,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(149,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(151,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(152,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(153,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["New topic name"])),(l()(),u.sb(155,0,null,null,9,"input",[["class","form-control"],["formControlName","newTopicName"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter new topic name (minlength: 3 and maxlength: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,156)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,156).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,156)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,156)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,164).onKeyPress(e)&&t),t}),null,null)),u.rb(156,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(157,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(158,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(161,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(163,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(164,16384,null,0,c.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(165,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special character (-) "])),(l()(),u.sb(167,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.sb(168,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetEditLessonTopicModal()&&u),u}),null,null)),(l()(),u.sb(169,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "])),(l()(),u.sb(171,0,null,null,2,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateLessonTopicName()&&u),u}),null,null)),(l()(),u.sb(172,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,65,0,"name","Select grade",e.allGrades);var s=e.selectedGeneralSubjectGrade,i=l(n,80,0,!0);l(n,79,0,s,i),l(n,86,0,"title","Select general subject",e.generalSubjectList);var o=e.selectedGeneralSubject,r=l(n,101,0,!0);l(n,100,0,o,r),l(n,112,0,e.generalSubjectTree.length>1),l(n,117,0,e.generalSubjectTree.length>1),l(n,119,0,"root"===e.modalNodeType),l(n,121,0,"concept"===e.modalNodeType),l(n,123,0,"topic"===e.modalNodeType),l(n,134,0,e.lessonTopicForm),l(n,149,0,"generalTopicName"),l(n,157,0,"3"),l(n,158,0,"75"),l(n,161,0,"newTopicName"),l(n,164,0,"alphabetsNumbersWithMinus")}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,54,0,e.nodeName),l(n,63,1,[!u.Eb(n,65).multiple,u.Eb(n,65).typeahead,u.Eb(n,65).multiple,u.Eb(n,65).addTag,u.Eb(n,65).searchable,u.Eb(n,65).clearable,u.Eb(n,65).isOpen,u.Eb(n,65).disabled,u.Eb(n,65).filtered,u.Eb(n,82).ngClassUntouched,u.Eb(n,82).ngClassTouched,u.Eb(n,82).ngClassPristine,u.Eb(n,82).ngClassDirty,u.Eb(n,82).ngClassValid,u.Eb(n,82).ngClassInvalid,u.Eb(n,82).ngClassPending]),l(n,84,1,[!u.Eb(n,86).multiple,u.Eb(n,86).typeahead,u.Eb(n,86).multiple,u.Eb(n,86).addTag,u.Eb(n,86).searchable,u.Eb(n,86).clearable,u.Eb(n,86).isOpen,u.Eb(n,86).disabled,u.Eb(n,86).filtered,u.Eb(n,103).ngClassUntouched,u.Eb(n,103).ngClassTouched,u.Eb(n,103).ngClassPristine,u.Eb(n,103).ngClassDirty,u.Eb(n,103).ngClassValid,u.Eb(n,103).ngClassInvalid,u.Eb(n,103).ngClassPending]),l(n,133,0,u.Eb(n,136).ngClassUntouched,u.Eb(n,136).ngClassTouched,u.Eb(n,136).ngClassPristine,u.Eb(n,136).ngClassDirty,u.Eb(n,136).ngClassValid,u.Eb(n,136).ngClassInvalid,u.Eb(n,136).ngClassPending),l(n,146,0,u.Eb(n,151).ngClassUntouched,u.Eb(n,151).ngClassTouched,u.Eb(n,151).ngClassPristine,u.Eb(n,151).ngClassDirty,u.Eb(n,151).ngClassValid,u.Eb(n,151).ngClassInvalid,u.Eb(n,151).ngClassPending),l(n,155,0,u.Eb(n,157).minlength?u.Eb(n,157).minlength:null,u.Eb(n,158).maxlength?u.Eb(n,158).maxlength:null,u.Eb(n,163).ngClassUntouched,u.Eb(n,163).ngClassTouched,u.Eb(n,163).ngClassPristine,u.Eb(n,163).ngClassDirty,u.Eb(n,163).ngClassValid,u.Eb(n,163).ngClassInvalid,u.Eb(n,163).ngClassPending)}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,G,w)),u.Jb(512,null,a.a,a.a,[d.c]),u.Jb(512,null,b.a,b.a,[p.a,u.q]),u.rb(3,4308992,null,0,h.a,[g.k,g.a,m.a,f.a,a.a,v.c,v.f,T.a,p.a,C.a,i.e,b.a],null,null)],(function(l,n){l(n,3,0)}),null)}var V=u.ob("ng-component",h.a,J,{},{},[])},h8Em:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var u=e("IheW"),t=(e("/+cj"),e("ey9i"),e("JXEQ"),e("s7LF")),s=(e("ustg"),e("QHgc"),e("pyIl"),e("GcsT"),e("wy83"),e("BN3N")),i=(e("aV0t"),e("Iab2"));e("hFJU"),e("1kWI");class o{constructor(l,n,e,u,t,s,i,o,r,c,a,d,b,p,h,g,m){this._router=l,this.activatedRoute=n,this.subjectService=e,this.curriculumService=u,this.organisationService=t,this.topicContentService=s,this.genearalTopicContentService=i,this.eventManager=o,this.parseLinks=r,this.principalService=c,this.formBuilder=a,this.pluginService=d,this.userLoginService=b,this.commonService=p,this.changeDetectRef=h,this.fileService=g,this.errorHandler=m,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.lessonList=[],this.organisations=[],this.contentDetails={},this.generalTopicContents=[],this.ownTopicContents=[],this.orgGeneralTopicContents=[],this.contentIds=[],this.originDetails=[],this.hostedDetails=[],this.contentType=[],this.contentSource=[],this.selectedFile=null,this.checkContentCE=!1,this.contentPreferenceStatus=!1,this.enableExpandNode=!1,this.validateForm=!0,this.tableAction=!0,this.updateAction=!0,this.checkUrl1=!0}ngOnInit(){this.loadCurriculums(),this.createTopicContentForm(),this.getContentType(),this.getContentSource()}createTopicContentForm(){this.topicContentForm=this.formBuilder.group({contentTitle:new t.f("",[t.y.required,t.y.minLength(3),t.y.maxLength(75)]),contentDescription:new t.f("",[t.y.minLength(3),t.y.maxLength(250)]),webUrl1:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher1:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl2:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher2:new t.f("",[t.y.minLength(3),t.y.maxLength(50)]),webUrl3:new t.f("",[t.y.minLength(3),t.y.maxLength(2048)]),publisher3:new t.f("",[t.y.minLength(3),t.y.maxLength(50)])})}get contentFormControl(){return this.topicContentForm.controls}loadCurriculums(){this.curriculumService.getCurriculumSearch().subscribe(l=>this.assignCurriculumList(l.body),l=>this.onError(l))}assignCurriculumList(l){this.curriculumList=[];for(let n=0;n<l.length;n++)this.curriculumList.push(l[n])}onError(l){this.errorHandler.handleError(l)}getContentType(){this.commonService.getContentTypeList().subscribe(l=>{this.contentType=l})}getContentSource(){this.commonService.getContentSourceList().subscribe(l=>{this.contentSource=l})}ngAfterViewInit(){this.nodeOnSelection()}onCurriculumChange(){let l,n;this.selectedCurriculum&&this.generateGradeList(l=this.selectedCurriculum.gradesApplicableFrom,n=this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null,this.selectedLesson=null}onGradeChange(){let l,n,e;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(l=this.selectedCurriculum.id,n=this.selectedGrade.id,e=s.a).subscribe(l=>this.assignSubjectList(l.body),l=>this.onError(l)),this.selectedSubject=null,this.selectedLesson=null}assignSubjectList(l){$("#subject").val("").trigger("change"),this.subjectList=[],this.subjectTree=[],this.pluginService.jsTree("#viewTree",this.subjectTree,!1);for(let n=0;n<l.length;n++)this.subjectList.push(l[n])}onSubjectChange(){this.selectedSubject&&this.loadSubjectTree(this.selectedSubject.id),this.selectedLesson=null}onActiveWebUrlSelection(l){!0===l.target.checked&&(this.activeUrl=l.target.id,"webUrl1"===this.activeUrl?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):"webUrl2"===this.activeUrl?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):"webUrl3"===this.activeUrl&&(this.checkUrl3=!0,this.checkUrl1=!1,this.checkUrl2=!1))}onVideoFileChanges(l){let n;this.selectedFile=l[0],n=this.selectedFile.type.split("/"),this.fileType=n[0],this.fileName=this.selectedFile.name,"video"===this.fileType&&this.selectedFile.size>209715200&&this.pluginService.alertMessage("Please upload file size lesser than 200 MB","error")}uploadVideoFile(){"No file chosen"!==this.fileName?"video"===this.fileType?this.fileService.getpresignedurls(this.fileName).subscribe(l=>{if(200===l.status&&(this.uploadedFileName=Object.keys(l.body)[0],this.uploadedFilePath=Object.values(l.body)[0],this.fileName=this.uploadedFileName,this.uploadedFileName&&this.uploadedFilePath)){let l,n,e;n=(l=(e=this.selectedFile.base64).split(";"))[1].split(",")[1],this.fileService.uploadVideoFile(this.uploadedFilePath,n).subscribe(l=>{l instanceof u.j&&(this.showFileAction=!0,this.pluginService.alertMessage("File uploaded successfully","success"))})}}):this.pluginService.alertMessage("Invalid file, it support only Video formats","error"):this.pluginService.alertMessage("Please choose file and upload it","error")}onDocumentFileChanges(l){this.selectedFile=l.target.files,this.fileName=this.selectedFile[0].name,"application/pdf"===this.selectedFile[0].type&&this.selectedFile[0].size>104857600&&this.pluginService.alertMessage("Please upload file size lesser than 100 MB","error")}uploadDocumentFile(){if("No file chosen"!==this.fileName)if("application/pdf"===this.selectedFile[0].type){let l=this.selectedFile.item(0);this.fileService.getpresignedurls(this.fileName).subscribe(n=>{200===n.status&&(this.uploadedFileName=Object.keys(n.body)[0],this.uploadedFilePath=Object.values(n.body)[0],this.fileName=this.uploadedFileName,this.uploadedFileName&&this.uploadedFilePath&&this.fileService.uploadPDFFile(this.uploadedFilePath,l).subscribe(l=>{l instanceof u.j&&(this.showFileAction=!0,this.pluginService.alertMessage("File uploaded successfully","success"))}))})}else this.pluginService.alertMessage("Invalid file, it support only PDF","error");else this.pluginService.alertMessage("Please choose file and upload it","error")}downloadFile(){this.uploadedFileName&&this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName))}subscribeToDownloadResponse(l){l.subscribe(l=>this.onDownloadSuccess(l),l=>this.onError(l))}onDownloadSuccess(l){if(l.body){let n=Object.values(l.body)[0];Object(i.saveAs)(n)}}checkContentType(){this.closeTopicContentModal(),this.selectedContentSource&&"FILE_UPLOAD"===this.selectedContentSource.tag&&this.uploadedFilePath&&this.deleteUploadedFile()}deleteUploadedFile(){this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName))}subscribeToDeleteFiletResponse(l){l.subscribe(l=>this.onDeleteFileSuccess(l),l=>this.onError(l))}onDeleteFileSuccess(l){this.fileName="No file chosen",this.uploadedFileName="",this.uploadedFilePath="",this.pluginService.alertMessage("File deleted successfully","success")}generateGradeList(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}loadSubjectTree(l){this.subjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignSubjectTree(l.body),l=>this.onError(l))}assignSubjectTree(l){this.lessonList=[],$("#lesson").val("").trigger("change"),this.subjectTree=l,this.lessonList=this.subjectTree.filter(l=>"lesson"===l.type),this.pluginService.jsTree("#viewTree",this.subjectTree,!1)}getLessonTopicList(){if(this.selectedLesson){let l=this.selectedLesson.data.id;l?this.topicContentService.getLessonTopicListByLessonId(l).subscribe(l=>this.assignLessonTopicsList(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}}assignLessonTopicsList(l){let n=[],e=[];if(l.lessonTopics.length>0){n=l.lessonTopics;for(let l=0;l<n.length;l++)e.push(0===n[l].topicContentCount?{text:n[l].topicName,generalTopicId:n[l].generalTopicId,id:n[l].id,icon:"fa fa-times text-danger"}:{text:n[l].topicName,generalTopicId:n[l].generalTopicId,id:n[l].id})}else this.pluginService.alertMessage("No topics mapped to a lesson","error");this.enableExpandNode=!1,this.pluginService.jsTree("#topicsList",e,!1),this.showContentMapping=!1,this.showTopicHeading=!0}trimValue(l){return null==l?l:l.trim()}ngAfterViewChecked(){this.validateTopicContentForm(),this.changeDetectRef.detectChanges()}validateTopicContentForm(){let l,n,e,u;l=this.trimValue(this.topicContentForm.value.contentTitle),n=this.trimValue(this.topicContentForm.value.webUrl1),e=this.trimValue(this.topicContentForm.value.webUrl2),u=this.trimValue(this.topicContentForm.value.webUrl3),""!==l&&null!=l||(this.validateForm=!0),""!==this.uploadedFilePath&&null!=this.uploadedFilePath||(this.validateForm=!0),this.topicContentForm.valid&&(this.validateForm=!1),this.topicContentForm.invalid&&(this.validateForm=!0),!0===this.checkUrl1&&(""!==n&&null!=n||(this.validateForm=!0)),!0===this.checkUrl2&&(""!==e&&null!=e||(this.validateForm=!0)),!0===this.checkUrl3&&(""!==u&&null!=u||(this.validateForm=!0))}nodeOnSelection(){var l=this;$("#topicsList").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.generalTopicId=e.node.original.generalTopicId,l.topicName=e.node.original.text,l.generalTopicContents=[],l.orgGeneralTopicContents=[],l.ownTopicContents=[],l.getTopicContentList(l.generalTopicId),l.getOrgGeneralTopicContentByOrganisationId(l.generalTopicId),l.getOrganisationList(),l.getContentPreference(l.generalTopicId),l.showContentMapping=!0,l.selectedOrganisation=null,l.updateAction=!0,l.tableAction=!0}))}getGeneralTopicContentList(l){this.genearalTopicContentService.getTopicContentList(l).subscribe(l=>this.assignResponseToGeneralTopicList(l.body),l=>this.onError(l))}assignResponseToGeneralTopicList(l){this.generalTopicContents=[],this.generalTopicContents=l.generalTopicContents,this.topicDescription=l.description,this.sortArrayByOrderNumber(this.generalTopicContents),(this.ownTopicContents.length>0||this.generalTopicContents.length>0)&&this.dragTableContent()}getTopicContentList(l){this.topicContentService.getTopicContentDetails(l).subscribe(l=>this.assignResponseToTopicList(l.body),l=>this.onError(l))}assignResponseToTopicList(l){this.ownTopicContents=[],this.topicDescription=l.description,this.ownTopicContents=l.orgGeneralTopicContents,this.sortArrayByOrderNumber(this.ownTopicContents),(this.ownTopicContents.length>0||this.generalTopicContents.length>0)&&this.dragTableContent()}getOrgGeneralTopicContentByOrganisationId(l){this.organisationId=this.userLoginService.organisationId,this.topicContentService.getOrgGeneralTopicContentsByOrgId(l,this.organisationId).subscribe(l=>this.assignResponseToOrgTopicList(l.body),l=>this.onError(l))}assignResponseToOrgTopicList(l){this.orgGeneralTopicContents=[],this.orgGeneralTopicContents=l,this.sortArrayByOrderNumber(this.orgGeneralTopicContents)}getOrgTopicContentByOrgId(){let l=this.selectedOrganisation.id;l&&this.topicContentService.getOrgGeneralTopicContentsByOrgId(this.generalTopicId,l).subscribe(l=>this.assignResponseToOrgTopicContentListByOrgId(l.body),l=>this.onError(l))}assignResponseToOrgTopicContentListByOrgId(l){this.orgGeneralTopicContents=[],this.orgGeneralTopicContents=l}checkContentPreference(l){let n=l.target.checked,e=l.target.id;!0===n&&"ContentCE"===e?this.contentPreferenceStatus=!1:!0===n&&"OwnContent"===e&&(this.contentPreferenceStatus=!0)}saveContentPreference(){!1===this.contentPreferenceStatus||!0===this.contentPreferenceStatus&&(this.ownTopicContents.length>0?this.setContentPreference():this.pluginService.alertMessage("Please add atleast one own topic content and change preference","error"))}setContentPreference(){this.topicContentService.setContentPreference(this.contentPreferenceStatus,this.generalTopicId,this.organisationId).subscribe(l=>this.onSuccess(l.body),l=>this.onError(l))}onSuccess(l){this.pluginService.alertMessage("Content preference saved successfully","success")}getContentPreference(l){this.topicContentService.getContentPreference(this.userLoginService.organisationId,l).subscribe(l=>this.onGetPreferenceSuccess(l.body),l=>this.onError(l))}onGetPreferenceSuccess(l){""===l||null===l||!1===l?(this.checkContentCE=!0,this.checkOwnContent=!1):!0===l&&(this.checkContentCE=!1,this.checkOwnContent=!0)}openSubjectTreeModal(){this.pluginService.showModalWindow("#viewSubjectTreeModal")}closeSubjectTreeModal(){this.pluginService.hideModalWindow("#viewSubjectTreeModal")}getOrganisationList(){this.organisationService.getOrganisations().subscribe(l=>this.assignOrgList(l.body),l=>this.onError(l))}assignOrgList(l){this.organisations=l}addOwnTopicContent(){this.modalTitleName="Add",this.openTopicContentModal(),this.resetFormValues(),this.validateForm=!1,this.disableDropdown=!1,this.selectedContentSource=null,this.selectedContentType=null}viewCETopicContent(l){let n=[],e={};e=(n=this.generalTopicContents.filter(n=>n.id===l))[0],this.modalTitleName="View",this.getContentDetails(e),this.openTopicContentModal()}patchCEContentFormfields(l){this.contentId=l.id,this.topicContentForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description,webUrl1:l.content.url1,publisher1:l.publisher1,webUrl2:l.content.url2,publisher2:l.content.publisher2,webUrl3:l.content.url3,publisher3:l.content.publisher3}),this.selectedContentType=this.contentType.filter(n=>n.tag===l.content.contentType)[0],this.selectedContentSource=this.contentSource.filter(n=>n.tag===l.content.contentSource)[0],l.content.webUrl==l.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):l.content.webUrl==l.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):l.content.webUrl==l.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}viewOrgTopicContent(l){let n=[],e={};e=(n=this.orgGeneralTopicContents.filter(n=>n.id===l))[0],this.modalTitleName="ViewOrg",this.getOwnContentDetails(e),this.openTopicContentModal()}editOwnTopicContent(l){let n=[],e={};e=(n=this.ownTopicContents.filter(n=>n.id===l))[0],this.modalTitleName="Edit",this.patchContentFormfields(e),this.openTopicContentModal()}viewOwnTopicContent(l){let n=[],e={};e={}.content,e=(n=this.ownTopicContents.filter(n=>n.id===l))[0],this.modalTitleName="ViewOrg",this.getOwnContentDetails(e),this.openTopicContentModal()}getContentDetails(l){this.contentDetails=l,this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}getOwnContentDetails(l){this.contentDetails=l,this.contentDetails.content.webUrl==this.contentDetails.content.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):this.contentDetails.content.webUrl==this.contentDetails.content.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}patchContentFormfields(l){this.contentId=l.content.id,this.topicContentForm.patchValue({contentTitle:l.content.title,contentDescription:l.content.description,webUrl1:l.content.url1,publisher1:l.content.publisher1,webUrl2:l.content.url2,publisher2:l.content.publisher2,webUrl3:l.content.url3,publisher3:l.content.publisher3}),l.webUrl==l.url1?(this.checkUrl1=!0,this.checkUrl2=!1,this.checkUrl3=!1):l.webUrl==l.url2?(this.checkUrl2=!0,this.checkUrl3=!1,this.checkUrl1=!1):l.webUrl==l.url3?(this.checkUrl3=!0,this.checkUrl2=!1,this.checkUrl1=!1):(this.checkUrl1=!1,this.checkUrl2=!1,this.checkUrl3=!1)}saveTopicContent(){if(this.topicContentForm.valid){let l=[],n={}.content;(n={}).title=this.trimValue(this.topicContentForm.value.contentTitle),n.description=this.trimValue(this.topicContentForm.value.contentDescription),n.url1=this.trimValue(this.topicContentForm.value.webUrl1),n.url2=this.trimValue(this.topicContentForm.value.webUrl2),n.url3=this.trimValue(this.topicContentForm.value.webUrl3),n.publisher1=this.trimValue(this.topicContentForm.value.publisher1),n.publisher2=this.trimValue(this.topicContentForm.value.publisher2),n.publisher3=this.trimValue(this.topicContentForm.value.publisher3),n.contentType="VIDEO",n.contentSource="WEB_URL",!0===this.checkUrl1?(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1):!0===this.checkUrl2?(n.webUrl=this.getEmbedUrl(n.url2),n.publisher=n.publisher2):!0===this.checkUrl3?(n.webUrl=this.getEmbedUrl(n.url3),n.publisher=n.publisher3):(n.webUrl=this.getEmbedUrl(n.url1),n.publisher=n.publisher1),l.push({organisationId:this.userLoginService.organisationId,generalTopicId:this.generalTopicId,content:n,orderNumber:this.ownTopicContents.length+1}),this.saveTopicContents(l)}this.topicContentForm.invalid&&(this.validateForm=!0)}saveTopicContents(l){this.subscribeToSaveResponse(this.topicContentService.saveOwnTopicContent(l))}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Topic content created successfully","success"),this.resetFormValues(),this.closeTopicContentModal(),this.getTopicContentList(this.generalTopicId)}updateTopicContents(){if(this.topicContentForm.valid){let l={};(l={}).id=this.contentId,l.title=this.trimValue(this.topicContentForm.value.contentTitle),l.description=this.trimValue(this.topicContentForm.value.contentDescription),l.url1=this.trimValue(this.topicContentForm.value.webUrl1),l.url2=this.trimValue(this.topicContentForm.value.webUrl2),l.url3=this.trimValue(this.topicContentForm.value.webUrl3),l.publisher1=this.trimValue(this.topicContentForm.value.publisher1),l.publisher2=this.trimValue(this.topicContentForm.value.publisher2),l.publisher3=this.trimValue(this.topicContentForm.value.publisher3),l.contentType="VIDEO",l.contentSource="WEB_URL",!0===this.checkUrl1?(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1):!0===this.checkUrl2?(l.webUrl=this.getEmbedUrl(l.url2),l.publisher=l.publisher2):!0===this.checkUrl3?(l.webUrl=this.getEmbedUrl(l.url3),l.publisher=l.publisher3):(l.webUrl=this.getEmbedUrl(l.url1),l.publisher=l.publisher1),this.subscribeToUpdateResponse(this.topicContentService.updateContentSource(l))}this.topicContentForm.invalid&&(this.validateForm=!0)}subscribeToUpdateResponse(l){l.subscribe(l=>this.onUpdateSuccess(l),l=>this.onError(l))}onUpdateSuccess(l){this.pluginService.alertMessage("Topic content updated successfully","success"),this.resetFormValues(),this.closeTopicContentModal(),this.getTopicContentList(this.generalTopicId)}openTopicContentModal(){this.pluginService.showModalWindow("#topicContentModal")}closeTopicContentModal(){this.pluginService.hideModalWindow("#topicContentModal")}resetFormValues(){this.topicContentForm.reset(),this.uploadedFileName="",this.uploadedFilePath="",this.fileName="No file chosen"}dragTableContent(){let l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateTopicContentOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}updateTopicContentOrder(){this.updateAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].title),u=Number(n[1].textContent);for(let t=0;t<this.ownTopicContents.length;t++)if(this.ownTopicContents[t].id===e){this.ownTopicContents[t].orderNumber=u;break}this.sortArrayByOrderNumber(this.ownTopicContents)})}updateOwnTopicContentsWithOrderNumber(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&!0===l.checkOrderNumChange&&l.subscribeToUpdateTopicContentResponse(l.topicContentService.updateOwnTopicContents(l.ownTopicContents))}))}subscribeToUpdateTopicContentResponse(l){l.subscribe(l=>this.onUpdateTopicContentSuccess(l),l=>this.onError(l))}onUpdateTopicContentSuccess(l){this.pluginService.alertMessage("Topic content order updated successfully","success"),this.getTopicContentList(this.generalTopicId),this.updateAction=!0,this.resetFormValues()}resetSelectedOwnTopicContent(){this.contentIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}checkSelectedOwnContents(l){let n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.contentIds.push(n)):!1===e&&(u=this.contentIds.findIndex(l=>l===n),this.contentIds.splice(u,1)),this.contentIds=this.removeDuplicateElements(this.contentIds),this.contentIds.length<=0&&(this.tableAction=!0)}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}sortArrayByOrderNumber(l){l.sort((l,n)=>l.orderNumber>n.orderNumber?1:-1)}deleteOwnTopicContents(){if(!0===this.contentPreferenceStatus)this.pluginService.alertMessage("Please change your content preference and do delete action, ","error");else{var l=this;swal({title:"Are you sure to delete content ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.contentIds.length>0&&l.subscribeToDeleteResponse(l.topicContentService.deleteOwnTopicContents(l.contentIds))}))}}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Topic content deleted successfully","success"),this.tableAction=!0,this.contentIds=[],this.getTopicContentList(this.generalTopicId)}toggleTreeNodes(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#viewTree"):this.pluginService.closeJsTreeAllNodes("#viewTree")}resetTopicContent(){this.resetFormValues()}closeTopicContentModalWithOutSaving(){if("View"===this.modalTitleName||"ViewOrg"===this.modalTitleName)this.closeTopicContentModal();else if("Add"===this.modalTitleName||"Edit"===this.modalTitleName){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicContentModal()}))}}getEmbedUrl(l){var n=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return n?"https://www.youtube.com/embed/"+n[1]:l}}},iEt1:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var u=e("mrSG");e("/+cj"),e("JXEQ"),e("3ZkO"),e("QHgc"),e("aV0t"),e("hFJU"),e("qd05");class t{constructor(l,n,e,u,t,s,i,o,r,c,a){this.activatedRoute=l,this.router=n,this.pluginService=e,this.questionBuilderService=u,this.questionService=t,this.formBuilder=s,this.localStorageService=i,this.commonService=o,this.fileService=r,this.changedetector=c,this.errorHandler=a,this.questionResource={},this.questionCategory=[],this.questionComplexityLevel=[],this.answers=[],this.contentSource=[],this.editorSolutionConfig=this.pluginService.getCKEditorQuestionConfig(),this.showSaveQuestion=!1,this.showAddQuestion=!1,this.validateQuestionType=!0}ngOnInit(){this.pluginService.sideMenuToggle(),this.pluginService.newStepperJs(),this.generalTopicId=Number(this.activatedRoute.snapshot.params.id),this.generalTopicId&&this.getTopicName(),this.getContentSource(),this.getQuestionCategory(),this.getQuestionComplexityLevel()}getTopicName(){let l={};l=this.localStorageService.retrieveData("topicDetails"),this.topicName=l.id===this.generalTopicId?l.title:""}getContentSource(){this.commonService.getContentSourceList().subscribe(l=>{this.contentSource=l})}getQuestionCategory(){this.commonService.getQuestionCategoryList().subscribe(l=>{this.questionCategory=l})}getQuestionComplexityLevel(){this.commonService.getQuestionComplexityLevelList().subscribe(l=>{this.questionComplexityLevel=l})}ngAfterViewChecked(){this.validateQuestionTypeSelectedOrNot(),this.changedetector.detectChanges()}validateQuestionTypeSelectedOrNot(){let l,n;n=(l=this.router.url).split("/").pop(),this.validateQuestionType="topic-question-create"===n}loadPreviewQuestion(){let l,n,e,u=[],t=[],s=[],i=[],o=[];if(this.questionResource=[],this.questionResource.Choices=[],this.questionResource.Options=[],this.questionResource.Answers=[],this.questionResource=[],this.questionResource=this.questionBuilderService.getQuestionResource,this.questionType=this.questionResource.QuestionType,s=this.questionResource.Answers,this.onChangeOptionType(this.questionType),""===(n=this.questionResource.Question)||"undefined"===n);else if(n.length>2&&s.length>0){if("MCQ_SINGLE"===this.questionType||"MCQ_MULTIPLE"===this.questionType||"MCQ_TRUE_FALSE"===this.questionType){if(this.answers=[],(u=this.questionResource.Choices).length>0){t=[];for(let n=0;n<u.length;n++)t.push({choiceId:e=u[n].ChoiceId,choiceText:l=u[n].ChoiceText});for(let l=0;l<s.length;l++){let n=t.find(n=>n.choiceId===s[l]).choiceText;this.answers.push(n),n=""}}}else if("MCQ_CHOICE_MATRIX"===this.questionType){if(this.answers=[],i=[],o=[],o=this.questionResource.Options,(i=this.questionResource.Choices).length>0&&o.length>0&&s.length>0){this.answers=[];for(let l=0;l<s.length;l++)this.answers.push({choiceName:i.find(n=>n.ChoiceId===s[l].ChoiceId).ChoiceText,optionName:o.find(n=>n.OptionId===s[l].OptionId).OptionText})}}else if("MCQ_MATCH_LIST"===this.questionType&&(i=[],o=[],o=this.questionResource.Options,(i=this.questionResource.Choices).length>0&&o.length>0&&s.length>0)){this.answers=[];for(let l=0;l<s.length;l++)this.answers.push({choiceName:i.find(n=>n.ChoiceId===s[l].ChoiceId).ChoiceText,optionName:o.find(n=>n.OptionId===s[l].OptionId).OptionText})}this.showSaveQuestion=!0,this.updateQuestionResource()}}onContentSource(l){this.selectedContentSource=l}onSelectQuestionCategory(l){this.category=l}onSelectComplexityLevel(l){this.complexityLevel=l}onChangeOptionType(l){this.type="MCQ_SINGLE"===l||"MCQ_TRUE_FALSE"===l?"radio":"MCQ_MULTIPLE"===l?"checkbox":""}resetPreviewQuestions(){this.questionResource=[],this.answers=[]}updateQuestionResource(){return u.a(this,void 0,void 0,(function*(){let l,n,e=[],u=[],t={};if((t=this.questionBuilderService.getQuestionResource).Question&&(this.updatedHTMLDATA=t.Question,yield this.updateImageSrc(t.Question),t.Question=this.updatedHTMLDATA),t.Choices.length>0){for(let n=0;n<t.Choices.length;n++)this.updatedHTMLDATA=t.Choices[n].ChoiceText,yield this.updateImageSrc(t.Choices[n].ChoiceText),e.push({ChoiceText:l=this.updatedHTMLDATA,ChoiceId:t.Choices[n].ChoiceId});t.Choices=e}if(t.Options.length>0){for(let l=0;l<t.Options.length;l++)this.updatedHTMLDATA=t.Options[l].OptionText,yield this.updateImageSrc(t.Options[l].OptionText),u.push({OptionText:n=this.updatedHTMLDATA,OptionId:t.Options[l].OptionId});t.Options=u}yield this.questionBuilderService.generateQuestionResource(t)}))}getBase64ImageFromUrl(l){return u.a(this,void 0,void 0,(function*(){var n=yield fetch(l),e=yield n.blob();return new Promise((l,n)=>{var u=new FileReader;u.addEventListener("load",(function(){l(u.result)}),!1),u.onerror=()=>n(this),u.readAsDataURL(e)})}))}updateImageSrc(l){return u.a(this,void 0,void 0,(function*(){let n,e,u,t,s,i,o;if((e=document.createElement("div")).innerHTML=l,(n=e.getElementsByTagName("img")).length>0)for(let l=0;l<n.length;l++)""===n[l].alt&&(s=l,n[l].setAttribute("id",u="image"+[l]),t=n[l].src,o=yield this.getBase64ImageFromUrl(t),i=yield this.getAWSFilePath(o,s,e));else i=e.innerHTML;return i}))}getAWSFilePath(l,n,e){return u.a(this,void 0,void 0,(function*(){let u,t,s,i,o,r,c,a,d;c=e.getElementsByTagName("img"),o=(i=(t=(u=l.split(","))[0].split(":")[1]).split("/")[1]).split(";")[0],s=u[1];let b=(new Date).getUTCMilliseconds()+"quesImage."+o;if(s){let l=yield this.fileService.getImagePresignedurls(b);(new Map).set(Object.keys(l)[0],Object.values(l)[0]).set(Object.keys(l)[1],Object.values(l)[1]).forEach((l,u)=>{if("objectURL"!==u)r=l;else if("objectURL"===u){let u,t=l;u=t.split("/"),d=u[u.length-1],c[n].setAttribute("src",t),c[n].setAttribute("alt",d),this.getImagePathUploadedHTML(a=e.innerHTML)}}),yield this.fileService.uploadImagefileAWSS3(r,s)}}))}getImagePathUploadedHTML(l){return u.a(this,void 0,void 0,(function*(){this.updatedHTMLDATA=l}))}saveQuestion(){return u.a(this,void 0,void 0,(function*(){let l,n,e,u,t={question:{}},s=[];s=this.localStorageService.retrieveData("userLoginInfo"),yield this.updateImageSrc(this.solutionContent),e=""!==this.solutionContent?this.questionBuilderService.convertJsonToString(JSON.stringify(u=this.updatedHTMLDATA)):"",t.question.category=this.category?this.category:this.questionCategory[0].tag,t.question.complexityLevel=this.complexityLevel?this.complexityLevel:1,this.organisationId=s[0].organisationId,t.question.marks=(n=this.questionBuilderService.getQuestionResource).TotalMarks*t.question.complexityLevel,l=this.questionBuilderService.convertJsonToString(JSON.stringify(n)),t.question.contentJson=l,t.generalTopicId=this.generalTopicId,t.question.generalTopicId=this.generalTopicId,t.organisationId=this.organisationId,t.question.solutionJson=e,this.subscribeToSaveResponse(this.questionService.saveOwnTopicQuestion(t))}))}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Own topic question created successfully","success"),this.showAddQuestion=!0,this.showSaveQuestion=!1}onError(l){this.errorHandler.handleError(l)}onBack(){var l=this;swal({title:"Are you sure to go previous page ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){n&&(l.router.navigateByUrl("/lesson-topic/topic-question"),l.pluginService.sideMenuToggle())}))}addQuestion(){window.location.reload(),this.questionType="",this.showSaveQuestion=!0}}},jDI4:function(l,n,e){"use strict";e.d(n,"a",(function(){return _}));var u=e("8Y7J"),t=e("SVse"),s=e("WOoW"),i=e("H/4C"),o=e("cUpR"),r=e("3df2"),c=e("uH8f"),a=e("iInd"),d=e("QHgc"),b=e("IDBn"),p=e("s7LF"),h=e("XKba"),g=e("/+cj"),m=e("IheW"),f=e("hFJU"),v=e("JXEQ"),T=e("iEt1"),C=e("3ZkO"),w=e("qd05"),y=e("aV0t"),x=u.qb({encapsulation:2,styles:[],data:{}});function E(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","assessmentCategory"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectQuestionCategory(l.context.$implicit.tag)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function M(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[["class","radio col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["name","complexityLevel"],["type","radio"]],[[8,"id",0],[8,"checked",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onSelectComplexityLevel(l.context.$implicit.value)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.Mb(3,null,["",""]))],null,(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.name,""),n.context.$implicit.checked),l(n,2,0,u.wb(1,"",n.context.$implicit.name,"")),l(n,3,0,n.context.$implicit.name)}))}function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","col-lg-6 col-md-12 d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[],null,null,null,null,null)),u.Jb(512,null,t.B,t.C,[u.r,u.s,u.k,u.D]),u.rb(3,278528,null,0,t.k,[t.B],{ngClass:[0,"ngClass"]},null),u.Hb(4,{radio:0,checkbox:1}),(l()(),u.sb(5,0,null,null,0,"input",[["disabled",""],["name","answer"],["readonly",""]],[[8,"type",0],[8,"id",0]],null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(8,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(9,1)],(function(l,n){var e=n.component,t=l(n,4,0,"radio"===e.type,"checkbox"===e.type);l(n,3,0,t);var s=u.Nb(n,8,0,l(n,9,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,8,0,s)}),(function(l,n){l(n,5,0,u.wb(1,"",n.component.type,""),n.context.$implicit.ChoiceId),l(n,6,0,u.wb(1,"",n.context.$implicit.ChoiceId,""))}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(4,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit));l(n,2,0,e)}),(function(l,n){l(n,4,0,n.context.index===n.component.answers.length-1?" ":",")}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.sb(7,0,null,null,2,"div",[["class","row mb-3 p-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(9,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(10,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(15,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,9,0,e.questionResource.Choices),l(n,15,0,e.answers)}),null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1)],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.OptionText));l(n,2,0,e)}),null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["disabled",""],["readonly",""],["type","radio"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,u.wb(1,"",n.parent.context.$implicit.ChoiceId,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.OptionId+n.parent.context.$implicit.ChoiceId,""))}))}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"tr",[["style","background: none !important;"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(3,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(4,1),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(6,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,3,0,l(n,4,0,u.Eb(n.parent.parent,0),n.context.$implicit.ChoiceText));l(n,3,0,t),l(n,6,0,e.questionResource.Options)}),null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,19,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.sb(7,0,null,null,6,"table",[["class","border-collapse my-2 font-18 p-3"],["style","pointer-events: none"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,3,"tr",[["class","bg-lightgray"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,0,"td",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(11,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(13,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(14,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(19,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,11,0,e.questionResource.Options),l(n,13,0,e.questionResource.Choices),l(n,19,0,e.answers)}),null)}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","choice-container"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,4,"div",[["class","choice--group"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,3,"div",[["class","choice--label"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,2,"p",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.sb(8,0,null,null,0,"div",[["class","line-circle"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,3,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,2,"div",[["class","option--item"]],null,null,null,null,null)),u.rb(12,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(13,1)],(function(l,n){var e=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,6,0,e);var t=u.Nb(n,12,0,l(n,13,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,12,0,t)}),null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,8,"span",[["class","text-dark"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(2,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(3,1),(l()(),u.Mb(-1,null,[" - "])),(l()(),u.sb(5,0,null,null,2,"span",[],null,null,null,null,null)),u.rb(6,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(7,1),(l()(),u.Mb(8,null,[" ",""]))],(function(l,n){var e=u.Nb(n,2,0,l(n,3,0,u.Eb(n.parent.parent,0),n.context.$implicit.choiceName));l(n,2,0,e);var t=u.Nb(n,6,0,l(n,7,0,u.Eb(n.parent.parent,0),n.context.$implicit.optionName));l(n,6,0,t)}),(function(l,n){l(n,8,0,n.context.index===n.component.answers.length-1?" ":",")}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,4,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,3,"div",[["class","border-info p-3 alert-info font-18"],["style","line-height: 24px;"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"span",[["class","text-dark"]],null,null,null,null,null)),u.rb(5,540672,null,0,s.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(6,1),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(8,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(9,0,null,null,5,"div",[["class","mb-3 font-18"]],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,4,"div",[["class","border-success p-3 alert-success"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Answer\xa0:\xa0"])),(l()(),u.ib(16777216,null,null,1,null,N)),u.rb(14,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component,t=u.Nb(n,5,0,l(n,6,0,u.Eb(n.parent,0),e.questionResource.Question));l(n,5,0,t),l(n,8,0,e.answers),l(n,14,0,e.answers)}),null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success float-right ml-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestion()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save question "]))],null,(function(l,n){l(n,1,0,n.component.showAddQuestion)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-info float-right"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addQuestion()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add one more question "]))],null,null)}function D(l){return u.Ob(0,[u.Gb(0,i.a,[o.b]),(l()(),u.sb(1,0,null,null,3,"div",[["class","w-100 my-3 justify-content-between d-flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-chevron-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Back "])),(l()(),u.sb(5,0,null,null,98,"div",[["id","stepperTab"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,7,"ul",[["id","progressbar"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"li",[["class","active"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,0,"span",[["class","bar"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"li",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,13,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 1 - Select question type - "])),(l()(),u.sb(19,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(20,null,["",""])),(l()(),u.sb(21,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,2,"div",[["class","col-xxl-12"]],null,null,null,null,null)),(l()(),u.sb(23,0,null,null,1,"pick-question-type",[],null,null,null,r.b,r.a)),u.rb(24,114688,null,0,c.a,[a.k,a.a,d.a],null,null),(l()(),u.sb(25,0,null,null,2,"button",[["class","next btn btn-success float-right"]],[[8,"disabled",0]],null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,29,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(29,0,null,null,5,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,4,"div",[["class","col-xxl-12 mb-2 alert-warning p-3"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 2 - Build question - "])),(l()(),u.sb(33,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(34,null,["",""])),(l()(),u.sb(35,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(36,0,null,null,12,"div",[["class","col-xxl-12 mx-3"]],null,null,null,null,null)),(l()(),u.sb(37,0,null,null,5,"div",[["class","form-group mb-2 row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(38,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question category"])),(l()(),u.sb(40,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,E)),u.rb(42,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(43,0,null,null,5,"div",[["class","form-group  row d-flex justify-content-between flex-wrap mb-2"]],null,null,null,null,null)),(l()(),u.sb(44,0,null,null,1,"label",[["class","font-16 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select question complexity level"])),(l()(),u.sb(46,0,null,null,2,"div",[["class","d-flex w-100 row"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,M)),u.rb(48,278528,null,0,t.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(49,0,null,null,2,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(50,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),u.rb(51,212992,null,0,a.p,[a.b,u.O,u.j,[8,null],u.h],null,null),(l()(),u.sb(52,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(54,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "])),(l()(),u.sb(58,0,null,null,24,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(59,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 3 - Add solution content (Optional) - "])),(l()(),u.sb(63,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(64,null,["",""])),(l()(),u.sb(65,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(66,0,null,null,10,"div",[["class","col-xxl-12 mb-2"]],null,null,null,null,null)),(l()(),u.sb(67,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Solution content"])),(l()(),u.sb(69,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.solutionContent=e)&&u),u}),b.b,b.a)),u.rb(70,16384,null,0,p.x,[],{required:[0,"required"]},null),u.Jb(1024,null,p.m,(function(l){return[l]}),[p.x]),u.rb(72,4374528,null,0,h.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,p.n,(function(l){return[l]}),[h.a]),u.rb(74,671744,[["questionInput",4]],0,p.s,[[8,null],[6,p.m],[8,null],[6,p.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,p.o,null,[p.s]),u.rb(76,16384,null,0,p.p,[[4,p.o]],null,null),(l()(),u.sb(77,0,null,null,2,"button",[["class","btn btn-success ml-2 float-right next"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadPreviewQuestion()&&u),u}),null,null)),(l()(),u.Mb(-1,null,[" Next"])),(l()(),u.sb(79,0,null,null,0,"i",[["class","fa fa-arrow-right ml-2"]],null,null,null,null,null)),(l()(),u.sb(80,0,null,null,2,"div",[["class","previous btn btn-danger float-right"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "])),(l()(),u.sb(83,0,null,null,20,"fieldset",[],null,null,null,null,null)),(l()(),u.sb(84,0,null,null,5,"div",[["class","row pb-4"]],null,null,null,null,null)),(l()(),u.sb(85,0,null,null,4,"div",[["class","col-xxl-12 p-3 alert-warning"]],null,null,null,null,null)),(l()(),u.sb(86,0,null,null,3,"p",[["class","font-20 text-warning"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Step 4 - Summary - "])),(l()(),u.sb(88,0,null,null,1,"span",[["class","text-primary"]],null,null,null,null,null)),(l()(),u.Mb(89,null,["",""])),(l()(),u.sb(90,0,null,null,6,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(92,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(94,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(96,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(98,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(100,16384,null,0,t.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(101,0,null,null,2,"div",[["class","previous btn btn-danger float-right mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetPreviewQuestions()&&u),u}),null,null)),(l()(),u.sb(102,0,null,null,0,"i",[["class","fa fa-arrow-left mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Previous "]))],(function(l,n){var e=n.component;l(n,24,0),l(n,42,0,e.questionCategory),l(n,48,0,e.questionComplexityLevel),l(n,51,0),l(n,70,0,!0),l(n,72,0,e.editorSolutionConfig),l(n,74,0,e.solutionContent),l(n,92,0,"MCQ_SINGLE"===e.questionType||"MCQ_MULTIPLE"===e.questionType||"MCQ_TRUE_FALSE"===e.questionType),l(n,94,0,"MCQ_CHOICE_MATRIX"===e.questionType),l(n,96,0,"MCQ_MATCH_LIST"===e.questionType),l(n,98,0,e.showSaveQuestion),l(n,100,0,e.showAddQuestion)}),(function(l,n){var e=n.component;l(n,20,0,e.topicName),l(n,25,0,e.validateQuestionType),l(n,34,0,e.topicName),l(n,64,0,e.topicName),l(n,69,0,u.Eb(n,70).required?"":null,u.Eb(n,76).ngClassUntouched,u.Eb(n,76).ngClassTouched,u.Eb(n,76).ngClassPristine,u.Eb(n,76).ngClassDirty,u.Eb(n,76).ngClassValid,u.Eb(n,76).ngClassInvalid,u.Eb(n,76).ngClassPending),l(n,89,0,e.topicName)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,D,x)),u.Jb(512,null,g.a,g.a,[m.c]),u.Jb(512,null,f.a,f.a,[v.a,u.q]),u.rb(3,8503296,null,0,T.a,[a.a,a.k,v.a,C.a,g.a,p.e,w.a,d.a,y.a,u.h,f.a],null,null)],(function(l,n){l(n,3,0)}),null)}var _=u.ob("ng-component",T.a,P,{},{},[])},lJJ1:function(l,n,e){"use strict";e.d(n,"a",(function(){return p}));var u=e("8Y7J"),t=e("IDBn"),s=e("XKba"),i=e("s7LF"),o=e("TW2f"),r=e("JXEQ"),c=e("9wII"),a=u.qb({encapsulation:2,styles:[],data:{}});function d(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,12,"div",[["class","col-xxl-6"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,5,"div",[["class","d-flex justify-content-between align-item-center mb-2"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"div",[["class","font-20 d-flex align-item-center pt-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Paste image here"])),(l()(),u.sb(5,0,null,null,2,"button",[["class","btn btn-primary my-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onImageUpload()&&u),u}),null,null)),(l()(),u.sb(6,0,null,null,0,"i",[["class","fa fa-text-width mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Get text "])),(l()(),u.sb(8,0,null,null,5,"ckeditor",[["class","w-100"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.dataSource=e)&&u),u}),t.b,t.a)),u.rb(9,4374528,null,0,s.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(11,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(13,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(14,0,null,null,13,"div",[["class","col-xxl-6"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,5,"div",[["class","d-flex justify-content-between align-item-center mb-2"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,1,"div",[["class","font-20 d-flex align-item-center pt-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Generated text / formula"])),(l()(),u.sb(18,0,null,null,2,"button",[["class","btn btn-primary mb-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onCopyFormulaText()&&u),u}),null,null)),(l()(),u.sb(19,0,null,null,0,"i",[["class","fa fa-copy mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Copy text "])),(l()(),u.sb(21,0,null,null,6,"textarea",[["class","form-control mt-3"],["id","generatedCode"],["style","height: 470px !important;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,s=l.component;return"input"===n&&(t=!1!==u.Eb(l,22)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,22)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(s.generatedFormulaText=e)&&t),t}),null,null)),u.rb(22,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(24,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(26,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.Mb(-1,null,["        "]))],(function(l,n){var e=n.component;l(n,9,0,e.ckEditorMathPix),l(n,11,0,e.dataSource),l(n,24,0,e.generatedFormulaText)}),(function(l,n){l(n,8,0,u.Eb(n,13).ngClassUntouched,u.Eb(n,13).ngClassTouched,u.Eb(n,13).ngClassPristine,u.Eb(n,13).ngClassDirty,u.Eb(n,13).ngClassValid,u.Eb(n,13).ngClassInvalid,u.Eb(n,13).ngClassPending),l(n,21,0,u.Eb(n,26).ngClassUntouched,u.Eb(n,26).ngClassTouched,u.Eb(n,26).ngClassPristine,u.Eb(n,26).ngClassDirty,u.Eb(n,26).ngClassValid,u.Eb(n,26).ngClassInvalid,u.Eb(n,26).ngClassPending)}))}function b(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ocr",[],null,null,null,d,a)),u.rb(1,114688,null,0,o.a,[r.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var p=u.ob("ocr",o.a,b,{},{},[])},m3gc:function(l,n,e){"use strict";e.d(n,"a",(function(){return ol}));var u=e("8Y7J"),t=e("MJJn"),s=e("wTG2"),i=e("s7LF"),o=e("mnSs"),r=e("SVse"),c=e("vs5s"),a=e("+Ok4"),d=e("vX4a"),b=e("/+cj"),p=e("IheW"),h=e("hFJU"),g=e("JXEQ"),m=e("h8Em"),f=e("iInd"),v=e("pyIl"),T=e("wy83"),C=e("GcsT"),w=e("tWOK"),y=e("BksD"),x=e("ustg"),E=e("QHgc"),M=e("aV0t"),S=u.qb({encapsulation:2,styles:[],data:{}});function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGrade=e)&&t),"change"===n&&(t=!1!==s.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedSubject=e)&&t),"change"===n&&(t=!1!==s.onSubjectChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","text"],["class","ng-select"],["placeholder","Select lesson"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedLesson=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"text","Select lesson",e.lessonList);var u=e.selectedLesson,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[["class","row d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"h5",[["class","font-20 mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson topics"])),(l()(),u.sb(4,0,null,null,10,"div",[["class","col-xxl-9 d-flex justify-content-between flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,5,"div",[["class","badge-lightBlue col-xxl-4 p-2 rounded mb-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Topic, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times text-danger ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No content is mapped "])),(l()(),u.sb(11,0,null,null,3,"div",[["class","col-xxl-4 d-flex justify-content-end mb-2 p-0"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(13,0,null,null,0,"i",[["class","fa fa-eye mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "]))],null,null)}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Topic description"])),(l()(),u.sb(4,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.topicDescription)}))}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show active"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,5).onClick()&&t),t}),null,null)),u.rb(5,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,2,"td",[["data-column","Active Web URL"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,1,"a",[["class","btn btn-link text-ellipsis"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,4,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,13).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,13).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,13).onClick()&&t),"click"===n&&(t=!1!==s.viewOrgTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(13,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(14,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null))],(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,13,0,"View content")}),(function(l,n){l(n,2,0,n.context.$implicit.orderNumber),l(n,6,0,n.context.$implicit.content.title),l(n,8,0,u.wb(1,"",n.context.$implicit.content.webUrl,"")),l(n,9,0,n.context.$implicit.content.webUrl)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,13,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active Web URL"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(14,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var e=n.component;l(n,14,0,e.orgGeneralTopicContents,e.trackId)}),null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,30,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3 active show"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","col-12 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,"w-100"],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgTopicContentByOrgId()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,j)),u.rb(30,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralTopicContents)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"title",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedOwnContents(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,2,"td",[["data-column","Active Web URL"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,1,"a",[["class","btn btn-link text-ellipsis"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),u.Mb(13,null,[" "," "])),(l()(),u.sb(14,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,17).onClick()&&t),"click"===n&&(t=!1!==s.viewOwnTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(17,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(18,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,2,"a",[["class","btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit content"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,20).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,20).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,20).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,20).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,20).onClick()&&t),"click"===n&&(t=!1!==s.editOwnTopicContent(l.context.$implicit.id)&&t),t}),null,null)),u.rb(20,737280,null,0,o.b,[[2,o.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(21,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,17,0,"View content"),l(n,20,0,"Edit content")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"+1")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"+1")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.content.title),l(n,12,0,u.wb(1,"",n.context.$implicit.content.webUrl,"")),l(n,13,0,n.context.$implicit.content.webUrl)}))}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedOwnTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnTopicContents()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateOwnTopicContentsWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,15,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active Web URL"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(14,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,q)),u.rb(16,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,U)),u.rb(18,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,16,0,e.ownTopicContents,e.trackId),l(n,18,0,e.ownTopicContents.length>0)}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,38,"div",[["class","py-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,37,"div",[["class","d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(4,null,["Content preference for ",""])),(l()(),u.sb(5,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,0,"input",[["id","ContentCE"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,1,"label",[["for","ContentCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(10,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"input",[["id","OwnContent"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(12,0,null,null,1,"label",[["for","OwnContent"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own content"])),(l()(),u.sb(14,0,null,null,4,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveContentPreference()&&u),u}),null,null)),(l()(),u.sb(17,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(19,0,null,null,19,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,6,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,R)),u.rb(22,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(23,2),(l()(),u.sb(24,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(25,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own content "])),(l()(),u.sb(27,0,null,null,11,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,N)),u.rb(29,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(30,2),(l()(),u.sb(31,0,null,null,7,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOwnTopicContent()&&u),u}),null,null)),(l()(),u.sb(35,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new content "])),(l()(),u.ib(16777216,null,null,1,null,F)),u.rb(38,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,23,0,"SYSTEM_ADMIN","MASTER_VIDEO_ADMIN");l(n,22,0,u);var t=l(n,30,0,"SYSTEM_ADMIN","MASTER_VIDEO_ADMIN");l(n,29,0,t),l(n,38,0,e.ownTopicContents)}),(function(l,n){var e=n.component;l(n,4,0,e.topicName),l(n,7,0,e.checkContentCE),l(n,11,0,e.checkOwnContent)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,125,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(4,0,null,null,9,"input",[["class","form-control"],["formControlName","contentTitle"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter content name (min length: 3 and max length: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,5)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,5)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,13).onKeyPress(e)&&t),t}),null,null)),u.rb(5,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(6,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(7,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(10,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(12,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(13,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(14,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and One special character (-) "])),(l()(),u.sb(16,0,null,null,12,"div",[["class"," form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description "])),(l()(),u.sb(19,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["(Optional)"])),(l()(),u.sb(21,0,null,null,5,"textarea",[["class","form-control description-form"],["formControlName","contentDescription"],["placeholder","Enter description (min length: 3 and max length: 250)"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,22)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,22).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,22)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,22)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(22,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(24,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(26,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(27,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(29,0,null,null,30,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,13,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(33,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl1"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,34)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,34)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(34,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(35,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(36,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(39,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(41,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(43,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(44,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(45,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(47,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher1"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,48)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,48).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,48)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,48)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,53).onKeyPress(e)&&t),t}),null,null)),u.rb(48,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(50,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(52,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(53,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(54,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(56,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,0,"input",[["id","webUrl1"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(58,0,null,null,1,"label",[["for","webUrl1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"])),(l()(),u.sb(60,0,null,null,32,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(64,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" (Optional) "])),(l()(),u.sb(66,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl2"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,67)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,67).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,67)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,67)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(67,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(68,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(69,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(72,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(74,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(75,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(77,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(78,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(80,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher2"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,81)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,81).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,81)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,81)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,86).onKeyPress(e)&&t),t}),null,null)),u.rb(81,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(83,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(85,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(86,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(87,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(89,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(90,0,null,null,0,"input",[["id","webUrl2"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(91,0,null,null,1,"label",[["for","webUrl2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"])),(l()(),u.sb(93,0,null,null,32,"div",[["class","border p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(94,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(95,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(97,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" (Optional) "])),(l()(),u.sb(99,0,null,null,8,"input",[["class","form-control"],["formControlName","webUrl3"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url (minlength: 3 and maxlength: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,100)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,100).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,100)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,100)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(100,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(101,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(102,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(105,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(107,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(108,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "])),(l()(),u.sb(110,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(111,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher "])),(l()(),u.sb(113,0,null,null,6,"input",[["class","form-control"],["formControlName","publisher3"],["inputRestriction","alphabetsWithSpace"],["placeholder","Enter publisher (minlength: 3 and maxlength: 50)"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,114)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,114).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,114)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,114)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,119).onKeyPress(e)&&t),t}),null,null)),u.rb(114,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(116,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(118,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(119,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.sb(120,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets "])),(l()(),u.sb(122,0,null,null,3,"div",[["class","form-group mb-2 radio d-flex"]],null,null,null,null,null)),(l()(),u.sb(123,0,null,null,0,"input",[["id","webUrl3"],["name","activeUrl"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onActiveWebUrlSelection(e)&&u),u}),null,null)),(l()(),u.sb(124,0,null,null,1,"label",[["for","webUrl3"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["is Active"]))],(function(l,n){var e=n.component;l(n,6,0,"3"),l(n,7,0,"75"),l(n,10,0,"contentTitle"),l(n,13,0,"alphabetsNumbersWithMinus"),l(n,24,0,"contentDescription"),l(n,35,0,"3"),l(n,36,0,"2048"),l(n,39,0,"webUrl1"),l(n,43,0,"View"!==e.modalTitleName),l(n,50,0,"publisher1"),l(n,53,0,"alphabetsWithSpace"),l(n,68,0,"3"),l(n,69,0,"2048"),l(n,72,0,"webUrl2"),l(n,83,0,"publisher2"),l(n,86,0,"alphabetsWithSpace"),l(n,101,0,"3"),l(n,102,0,"2048"),l(n,105,0,"webUrl3"),l(n,116,0,"publisher3"),l(n,119,0,"alphabetsWithSpace")}),(function(l,n){var e=n.component;l(n,4,0,u.Eb(n,6).minlength?u.Eb(n,6).minlength:null,u.Eb(n,7).maxlength?u.Eb(n,7).maxlength:null,u.Eb(n,12).ngClassUntouched,u.Eb(n,12).ngClassTouched,u.Eb(n,12).ngClassPristine,u.Eb(n,12).ngClassDirty,u.Eb(n,12).ngClassValid,u.Eb(n,12).ngClassInvalid,u.Eb(n,12).ngClassPending),l(n,21,0,u.Eb(n,26).ngClassUntouched,u.Eb(n,26).ngClassTouched,u.Eb(n,26).ngClassPristine,u.Eb(n,26).ngClassDirty,u.Eb(n,26).ngClassValid,u.Eb(n,26).ngClassInvalid,u.Eb(n,26).ngClassPending),l(n,33,0,u.Eb(n,35).minlength?u.Eb(n,35).minlength:null,u.Eb(n,36).maxlength?u.Eb(n,36).maxlength:null,u.Eb(n,41).ngClassUntouched,u.Eb(n,41).ngClassTouched,u.Eb(n,41).ngClassPristine,u.Eb(n,41).ngClassDirty,u.Eb(n,41).ngClassValid,u.Eb(n,41).ngClassInvalid,u.Eb(n,41).ngClassPending),l(n,47,0,u.Eb(n,52).ngClassUntouched,u.Eb(n,52).ngClassTouched,u.Eb(n,52).ngClassPristine,u.Eb(n,52).ngClassDirty,u.Eb(n,52).ngClassValid,u.Eb(n,52).ngClassInvalid,u.Eb(n,52).ngClassPending),l(n,57,0,e.checkUrl1,e.disableUrl),l(n,66,0,u.Eb(n,68).minlength?u.Eb(n,68).minlength:null,u.Eb(n,69).maxlength?u.Eb(n,69).maxlength:null,u.Eb(n,74).ngClassUntouched,u.Eb(n,74).ngClassTouched,u.Eb(n,74).ngClassPristine,u.Eb(n,74).ngClassDirty,u.Eb(n,74).ngClassValid,u.Eb(n,74).ngClassInvalid,u.Eb(n,74).ngClassPending),l(n,80,0,u.Eb(n,85).ngClassUntouched,u.Eb(n,85).ngClassTouched,u.Eb(n,85).ngClassPristine,u.Eb(n,85).ngClassDirty,u.Eb(n,85).ngClassValid,u.Eb(n,85).ngClassInvalid,u.Eb(n,85).ngClassPending),l(n,90,0,e.checkUrl2,e.disableUrl),l(n,99,0,u.Eb(n,101).minlength?u.Eb(n,101).minlength:null,u.Eb(n,102).maxlength?u.Eb(n,102).maxlength:null,u.Eb(n,107).ngClassUntouched,u.Eb(n,107).ngClassTouched,u.Eb(n,107).ngClassPristine,u.Eb(n,107).ngClassDirty,u.Eb(n,107).ngClassValid,u.Eb(n,107).ngClassInvalid,u.Eb(n,107).ngClassPending),l(n,113,0,u.Eb(n,118).ngClassUntouched,u.Eb(n,118).ngClassTouched,u.Eb(n,118).ngClassPristine,u.Eb(n,118).ngClassDirty,u.Eb(n,118).ngClassValid,u.Eb(n,118).ngClassInvalid,u.Eb(n,118).ngClassPending),l(n,123,0,e.checkUrl3,e.disableUrl)}))}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.contentDetails.content.description)}))}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 1"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 1"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 1"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url1"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url1"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.publisher1),l(n,19,0,e.checkUrl1,!0)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 2"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 2"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 2"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url2"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url2"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url2),l(n,12,0,e.contentDetails.content.publisher2),l(n,19,0,e.checkUrl2,!0)}))}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 3"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 3"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 3"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url3"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url3"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url3),l(n,12,0,e.contentDetails.content.publisher3),l(n,19,0,e.checkUrl3,!0)}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(8,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(10,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(12,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,G)),u.rb(14,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.contentDetails.content.description),l(n,10,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.url2),l(n,14,0,e.contentDetails.content.url3)}),(function(l,n){l(n,6,0,n.component.contentDetails.content.title)}))}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.contentDetails.content.description)}))}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 1"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 1"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 1"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url1"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url1"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.publisher1),l(n,19,0,e.checkUrl1,!0)}))}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 2"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 2"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 2"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url2"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url2"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url2),l(n,12,0,e.contentDetails.content.publisher2),l(n,19,0,e.checkUrl2,!0)}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL 3"])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Publisher 3"])),(l()(),u.sb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(12,null,["",""])),(l()(),u.sb(13,0,null,null,7,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Active 3"])),(l()(),u.sb(17,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"div",[["class","radio"]],null,null,null,null,null)),(l()(),u.sb(19,0,null,null,0,"input",[["id","url3"],["name","checkActiveURL"],["type","radio"]],[[8,"checked",0],[8,"disabled",0]],null,null,null,null)),(l()(),u.sb(20,0,null,null,0,"label",[["for","url3"]],null,null,null,null,null))],null,(function(l,n){var e=n.component;l(n,6,0,e.contentDetails.content.url3),l(n,12,0,e.contentDetails.content.publisher3),l(n,19,0,e.checkUrl3,!0)}))}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","d-flex justify-content-between w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(8,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(10,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(12,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(14,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.contentDetails.content.description),l(n,10,0,e.contentDetails.content.url1),l(n,12,0,e.contentDetails.content.url2),l(n,14,0,e.contentDetails.content.url3)}),(function(l,n){l(n,6,0,n.component.contentDetails.content.title)}))}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "]))],null,null)}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveTopicContent()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.validateForm)}))}function ll(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateTopicContents()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.validateForm)}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicContentModal()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],null,null)}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(4,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(6,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,35,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,27,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==s.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(26,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(28,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(30,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(31,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(33,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getLessonTopicList()&&u),u}),null,null)),(l()(),u.sb(34,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(37,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,1,"div",[["class","col-xxl-3"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,0,"div",[["id","topicsList"]],null,null,null,null,null)),(l()(),u.sb(41,0,null,null,4,"div",[["class","col-xxl-9"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(43,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(45,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(46,0,null,null,26,"div",[["class","modal slideInRight"],["id","topicContentModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(47,0,null,null,25,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,48).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,48).onReset()&&t),t}),null,null)),u.rb(48,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,i.c,null,[i.i]),u.rb(50,16384,null,0,i.q,[[4,i.c]],null,null),(l()(),u.sb(51,0,null,null,21,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(52,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(53,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(54,null,[" "," content "])),(l()(),u.sb(55,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeTopicContentModalWithOutSaving()&&u),u}),null,null)),(l()(),u.sb(56,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(57,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,_)),u.rb(59,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(61,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(63,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(64,0,null,null,8,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(66,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(68,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(70,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(72,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(73,0,null,null,15,"div",[["class","modal slideInRight"],["id","viewSubjectTreeModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(74,0,null,null,14,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],null,null,null,null,null)),(l()(),u.sb(75,0,null,null,13,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(76,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" View subject tree "])),(l()(),u.sb(79,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(80,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(81,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(83,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(84,0,null,null,0,"div",[["id","viewTree"]],null,null,null,null,null)),(l()(),u.sb(85,0,null,null,3,"div",[["class","modal-footer d-flex justify-content-end align-items-start"]],null,null,null,null,null)),(l()(),u.sb(86,0,null,null,2,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeSubjectTreeModal()&&u),u}),null,null)),(l()(),u.sb(87,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,30,0,e.selectedSubject),l(n,37,0,e.showTopicHeading),l(n,43,0,e.topicDescription),l(n,45,0,e.showContentMapping),l(n,48,0,e.topicContentForm),l(n,59,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,61,0,"View"===e.modalTitleName),l(n,63,0,"ViewOrg"===e.modalTitleName),l(n,66,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,68,0,"Add"===e.modalTitleName),l(n,70,0,"Edit"===e.modalTitleName),l(n,72,0,"View"===e.modalTitleName||"ViewOrg"===e.modalTitleName),l(n,83,0,e.subjectTree.length>1)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,47,0,u.Eb(n,50).ngClassUntouched,u.Eb(n,50).ngClassTouched,u.Eb(n,50).ngClassPristine,u.Eb(n,50).ngClassDirty,u.Eb(n,50).ngClassValid,u.Eb(n,50).ngClassInvalid,u.Eb(n,50).ngClassPending),l(n,54,0,e.modalTitleName)}))}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,sl,S)),u.Jb(512,null,b.a,b.a,[p.c]),u.Jb(512,null,h.a,h.a,[g.a,u.q]),u.rb(3,12697600,null,0,m.a,[f.k,f.a,v.a,T.a,C.a,b.a,w.a,y.c,y.f,a.a,i.e,g.a,x.a,E.a,u.h,M.a,h.a],null,null)],(function(l,n){l(n,3,0)}),null)}var ol=u.ob("ng-component",m.a,il,{},{},[])},mfxa:function(l,n,e){"use strict";e.d(n,"a",(function(){return Cl}));var u=e("8Y7J"),t=e("MJJn"),s=e("wTG2"),i=e("s7LF"),o=e("SVse"),r=e("mnSs"),c=e("vs5s"),a=e("+Ok4"),d=e("vX4a"),b=e("/+cj"),p=e("IheW"),h=e("hFJU"),g=e("JXEQ"),m=e("XMAV"),f=e("iInd"),v=e("wy83"),T=e("pyIl"),C=e("GcsT"),w=e("BksD"),y=e("ustg"),x=e("QHgc"),E=e("aV0t"),M=u.qb({encapsulation:2,styles:[],data:{}});function S(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["placeholder","Select grade"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedGrade=e)&&t),"change"===n&&(t=!1!==s.onGradeChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,13,{optionTemplate:0}),u.Kb(603979776,14,{optgroupTemplate:0}),u.Kb(603979776,15,{labelTemplate:0}),u.Kb(603979776,16,{multiLabelTemplate:0}),u.Kb(603979776,17,{headerTemplate:0}),u.Kb(603979776,18,{footerTemplate:0}),u.Kb(603979776,19,{notFoundTemplate:0}),u.Kb(603979776,20,{typeToSearchTemplate:0}),u.Kb(603979776,21,{loadingTextTemplate:0}),u.Kb(603979776,22,{tagTemplate:0}),u.Kb(603979776,23,{loadingSpinnerTemplate:0}),u.Kb(603979776,24,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"name","Select grade",e.gradeList);var u=e.selectedGrade,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function O(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[["class","col-lg-3 mb-3"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,19,"ng-select",[["bindLabel","subject"],["class","ng-select"],["placeholder","Select subject"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,3).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedSubject=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(3,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,25,{optionTemplate:0}),u.Kb(603979776,26,{optgroupTemplate:0}),u.Kb(603979776,27,{labelTemplate:0}),u.Kb(603979776,28,{multiLabelTemplate:0}),u.Kb(603979776,29,{headerTemplate:0}),u.Kb(603979776,30,{footerTemplate:0}),u.Kb(603979776,31,{notFoundTemplate:0}),u.Kb(603979776,32,{typeToSearchTemplate:0}),u.Kb(603979776,33,{loadingTextTemplate:0}),u.Kb(603979776,34,{tagTemplate:0}),u.Kb(603979776,35,{loadingSpinnerTemplate:0}),u.Kb(603979776,36,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(17,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(18,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(20,16384,null,0,i.p,[[4,i.o]],null,null)],(function(l,n){var e=n.component;l(n,3,0,"subject","Select subject",e.subjectList);var u=e.selectedSubject,t=l(n,18,0,!0);l(n,17,0,u,t)}),(function(l,n){l(n,1,1,[!u.Eb(n,3).multiple,u.Eb(n,3).typeahead,u.Eb(n,3).multiple,u.Eb(n,3).addTag,u.Eb(n,3).searchable,u.Eb(n,3).clearable,u.Eb(n,3).isOpen,u.Eb(n,3).disabled,u.Eb(n,3).filtered,u.Eb(n,20).ngClassUntouched,u.Eb(n,20).ngClassTouched,u.Eb(n,20).ngClassPristine,u.Eb(n,20).ngClassDirty,u.Eb(n,20).ngClassValid,u.Eb(n,20).ngClassInvalid,u.Eb(n,20).ngClassPending])}))}function I(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Expand all "]))],null,null)}function L(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Collapse all "]))],null,null)}function k(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,6,"div",[["class","d-flex justify-content-start mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","btn btn-primary mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.toggleTreeNodes()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-clone mr-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,I)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,L)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,!1===e.enableExpandNode),l(n,6,0,!0===e.enableExpandNode)}),null)}function A(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","d-flex justify-content-start badge-lightBlue rounded p-2 mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" NOTE : "])),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-book ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Subject,"])),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-sitemap ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Unit, "])),(l()(),u.sb(7,0,null,null,0,"i",[["class","fa fa-file ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - Lesson, "])),(l()(),u.sb(9,0,null,null,0,"i",[["class","fa fa-times text-danger ml-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" - No resource is mapped "]))],null,null)}function R(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Subject description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function Q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit name"])),(l()(),u.sb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(5,null,["",""])),(l()(),u.sb(6,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Unit description"])),(l()(),u.sb(9,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Mb(10,null,["",""]))],null,(function(l,n){var e=n.component;l(n,5,0,e.nodeName),l(n,10,0,e.nodeDescription)}))}function j(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"a",[["aria-controls","profile"],["aria-selected","true"],["class","nav-link show"],["data-toggle","tab"],["href","#profile"],["id","profile-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Recommended by organizations"]))],null,null)}function N(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addAddlessonResources()&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new study material "]))],null,null)}function q(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Select"]))],null,null)}function U(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"td",[["data-column","Select"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"input",[["class","checkAll"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedContents(e)&&u),u}),null,null)),(l()(),u.sb(3,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,u.wb(1,"",n.parent.context.$implicit.id,"")),l(n,2,0,u.wb(1,"",n.parent.context.$implicit.id,""),u.wb(1,"",n.parent.context.$implicit.id,"2")),l(n,3,0,u.wb(1,"",n.parent.context.$implicit.id,"2"))}))}function F(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class","btn btn-outline-success mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,1).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,1).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,1).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,1).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,1).onClick()&&t),"click"===n&&(t=!1!==s.editAddlResource(l.parent.context.$implicit.id)&&t),t}),null,null)),u.rb(1,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,1,0,"Edit study material")}),null)}function D(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,U)),u.rb(2,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(3,2),(l()(),u.sb(4,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(5,null,[" "," "])),(l()(),u.sb(6,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,8).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,8).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,8).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,8).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,8).onClick()&&t),t}),null,null)),u.rb(8,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(9,null,[" "," "])),(l()(),u.sb(10,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(11,null,[" "," "])),(l()(),u.sb(12,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(13,null,[" "," "])),(l()(),u.sb(14,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(15,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,17).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,17).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,17).onClick()&&t),"click"===n&&(t=!1!==s.viewAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(17,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(18,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,F)),u.rb(20,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(21,2)],(function(l,n){var e=l(n,3,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,2,0,e),l(n,8,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,17,0,"View study material");var t=l(n,21,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,20,0,t)}),(function(l,n){l(n,5,0,n.context.$implicit.orderNumber),l(n,9,0,n.context.$implicit.content.title),l(n,11,0,n.context.$implicit.content.tag),l(n,13,0,n.context.$implicit.content.contentType)}))}function P(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteAddlResource()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateAddlResourceWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableGenAction),l(n,4,0,e.tableGenAction),l(n,7,0,e.updateGenAction)}))}function _(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,P)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.addlResource.length>0)}),null)}function $(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,18,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","dragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,14,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,q)),u.rb(5,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(6,2),(l()(),u.sb(7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(17,0,null,null,2,"tbody",[["id","dragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,D)),u.rb(19,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,2,null,_)),u.rb(21,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(22,2)],(function(l,n){var e=n.component,u=l(n,6,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,5,0,u),l(n,19,0,e.addlResource,e.trackId);var t=l(n,22,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,21,0,t)}),null)}function K(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[" "," "])),(l()(),u.sb(3,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,5).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,5).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,5).onClick()&&t),t}),null,null)),u.rb(5,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(8,null,[" "," "])),(l()(),u.sb(9,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,4,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,14).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,14).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,14).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,14).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,14).onClick()&&t),"click"===n&&(t=!1!==s.viewOrgAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(14,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(15,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null))],(function(l,n){l(n,5,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,14,0,"View study material")}),(function(l,n){l(n,2,0,n.context.$implicit.orderNumber),l(n,6,0,n.context.$implicit.content.title),l(n,8,0,n.context.$implicit.content.tag),l(n,10,0,n.context.$implicit.content.contentType)}))}function B(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,15,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(14,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,K)),u.rb(16,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var e=n.component;l(n,16,0,e.orgGeneralAddlResource,e.trackId)}),null)}function G(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,30,"div",[["aria-labelledby","profile-tab"],["class","tab-pane fade py-3"],["id","profile"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,27,"div",[["class","col-12 filterbg py-2 px-4 rounded my-4"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","row col-xxl-4 mb-3"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","name"],["class","w-100 ng-select"],["placeholder","Select organisation"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedOrganisation=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,"w-100"],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,37,{optionTemplate:0}),u.Kb(603979776,38,{optgroupTemplate:0}),u.Kb(603979776,39,{labelTemplate:0}),u.Kb(603979776,40,{multiLabelTemplate:0}),u.Kb(603979776,41,{headerTemplate:0}),u.Kb(603979776,42,{footerTemplate:0}),u.Kb(603979776,43,{notFoundTemplate:0}),u.Kb(603979776,44,{typeToSearchTemplate:0}),u.Kb(603979776,45,{loadingTextTemplate:0}),u.Kb(603979776,46,{tagTemplate:0}),u.Kb(603979776,47,{loadingSpinnerTemplate:0}),u.Kb(603979776,48,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.sb(25,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getOrgGeneralAddlResourceByOrganisation()&&u),u}),null,null)),(l()(),u.sb(27,0,null,null,0,"i",[["class","fa fa-filter mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.ib(16777216,null,null,1,null,B)),u.rb(30,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"name","Select organisation",e.organisations);var u=e.selectedOrganisation,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,30,0,e.orgGeneralAddlResource)}),(function(l,n){l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending])}))}function J(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,22,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"td",[["data-column","Select"]],[[8,"id",0]],null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,0,"input",[["class","checkAllOwnContents"],["type","checkbox"]],[[8,"title",0],[8,"id",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkSelectedOwnContents(e)&&u),u}),null,null)),(l()(),u.sb(4,0,null,null,0,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(l()(),u.sb(5,0,null,null,1,"td",[["class","index"],["data-column","Order number"]],null,null,null,null,null)),(l()(),u.Mb(6,null,[" "," "])),(l()(),u.sb(7,0,null,null,3,"td",[["data-column","Title"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,2,"div",[["class","w-auto text-clip"]],null,[[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"],[null,"click"]],(function(l,n,e){var t=!0;return"focusin"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,9).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,9).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,9).onClick()&&t),t}),null,null)),u.rb(9,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.Mb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,1,"td",[["data-column","Resource category"]],null,null,null,null,null)),(l()(),u.Mb(12,null,[" "," "])),(l()(),u.sb(13,0,null,null,1,"td",[["data-column","Content type"]],null,null,null,null,null)),(l()(),u.Mb(14,null,[" "," "])),(l()(),u.sb(15,0,null,null,7,"td",[["data-column","Actions"]],null,null,null,null,null)),(l()(),u.sb(16,0,null,null,6,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,2,"a",[["class","btn btn-outline-info mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","View study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,18).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,18).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,18).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,18).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,18).onClick()&&t),"click"===n&&(t=!1!==s.viewOwnAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(18,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(19,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),u.sb(20,0,null,null,2,"a",[["class","btn btn-outline-success  mr-1 mb-1 btn-icon d-flex justify-content-center align-items-center"],["tooltip","Edit study material"]],null,[[null,"click"],[null,"focusin"],[null,"mouseenter"],[null,"focusout"],[null,"mouseleave"]],(function(l,n,e){var t=!0,s=l.component;return"focusin"===n&&(t=!1!==u.Eb(l,21).onMouseEnter()&&t),"mouseenter"===n&&(t=!1!==u.Eb(l,21).onMouseEnter()&&t),"focusout"===n&&(t=!1!==u.Eb(l,21).onMouseLeave()&&t),"mouseleave"===n&&(t=!1!==u.Eb(l,21).onMouseLeave()&&t),"click"===n&&(t=!1!==u.Eb(l,21).onClick()&&t),"click"===n&&(t=!1!==s.editOwnAddlResource(l.context.$implicit.id)&&t),t}),null,null)),u.rb(21,737280,null,0,r.b,[[2,r.d],u.k,u.j,u.g,u.q],{tooltipValue:[0,"tooltipValue"]},null),(l()(),u.sb(22,0,null,null,0,"i",[["class","fa fa-edit"]],null,null,null,null,null))],(function(l,n){l(n,9,0,u.wb(1,"",n.context.$implicit.content.title,"")),l(n,18,0,"View study material"),l(n,21,0,"Edit study material")}),(function(l,n){l(n,1,0,u.wb(1,"",n.context.$implicit.id,"")),l(n,3,0,u.wb(1,"",n.context.$implicit.id,""),u.wb(1,"",n.context.$implicit.id,"1")),l(n,4,0,u.wb(1,"",n.context.$implicit.id,"1")),l(n,6,0,n.context.$implicit.orderNumber),l(n,10,0,n.context.$implicit.content.title),l(n,12,0,n.context.$implicit.content.tag),l(n,14,0,n.context.$implicit.content.contentType)}))}function V(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,9,"div",[["class","mt-3 d-flex w-100 justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetSelectedOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Reset "])),(l()(),u.sb(4,0,null,null,2,"button",[["class","btn btn-danger mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(5,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete "])),(l()(),u.sb(7,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateOwnAddlResourceWithOrderNumber()&&u),u}),null,null)),(l()(),u.sb(8,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Update order "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.tableAction),l(n,4,0,e.tableAction),l(n,7,0,e.updateAction)}))}function H(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,17,"table",[["class","table table-hover table-striped table-bordered nowrap w-100"],["id","ownContentDragTable"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Select"])),(l()(),u.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Order number"])),(l()(),u.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title"])),(l()(),u.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category"])),(l()(),u.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type"])),(l()(),u.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Actions"])),(l()(),u.sb(16,0,null,null,2,"tbody",[["id","ownContentDragBody"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,J)),u.rb(18,278528,null,0,o.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),u.ib(16777216,null,null,1,null,V)),u.rb(20,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,18,0,e.ownAddlResource,e.trackId),l(n,20,0,e.ownAddlResource.length>0)}),null)}function W(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,53,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,5,"div",[["class","w-100"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Lesson objective"])),(l()(),u.sb(5,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(l()(),u.Mb(6,null,["",""])),(l()(),u.sb(7,0,null,null,46,"div",[["class","d-flex w-100 justify-content-between mb-2 flex-wrap"]],null,null,null,null,null)),(l()(),u.sb(8,0,null,null,16,"div",[["class","filterbg p-3 mb-2 w-100"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"p",[["class","font-20 mb-3"]],null,null,null,null,null)),(l()(),u.Mb(10,null,["Study material preference for ",""])),(l()(),u.sb(11,0,null,null,8,"div",[["class","row m-0 mb-2"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,0,"input",[["id","ContentCE"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(14,0,null,null,1,"label",[["for","ContentCE"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default"])),(l()(),u.sb(16,0,null,null,3,"div",[["class","col-md-6 radio px-0"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,0,"input",[["id","OwnContent"],["name","content"],["type","radio"]],[[8,"checked",0]],[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.checkContentPreference(e)&&u),u}),null,null)),(l()(),u.sb(18,0,null,null,1,"label",[["for","OwnContent"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Use our own study material"])),(l()(),u.sb(20,0,null,null,4,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(22,0,null,null,2,"div",[["class","btn btn-success"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveContentPreference()&&u),u}),null,null)),(l()(),u.sb(23,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Save "])),(l()(),u.sb(25,0,null,null,28,"div",[["class","tab w-100"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,9,"ul",[["class","nav nav-tabs"],["role","tablist"]],null,null,null,null,null)),(l()(),u.sb(27,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(28,0,null,null,1,"a",[["aria-controls","home"],["aria-selected","false"],["class","nav-link show active"],["data-toggle","tab"],["href","#home"],["id","home-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Default "])),(l()(),u.ib(16777216,null,null,2,null,j)),u.rb(31,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(32,2),(l()(),u.sb(33,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),u.sb(34,0,null,null,1,"a",[["aria-controls","portfolio"],["aria-selected","false"],["class","nav-link show"],["data-toggle","tab"],["href","#portfolio"],["id","portfolio-tab"],["role","tab"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Own study material "])),(l()(),u.sb(36,0,null,null,17,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),u.sb(37,0,null,null,5,"div",[["aria-labelledby","home-tab"],["class","tab-pane fade py-3 active show"],["id","home"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,2,null,N)),u.rb(39,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(40,2),(l()(),u.ib(16777216,null,null,1,null,$)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,2,null,G)),u.rb(44,16384,null,0,c.a,[a.a,u.L,u.O],{iusHasAnyAuthority:[0,"iusHasAnyAuthority"]},null),u.Fb(45,2),(l()(),u.sb(46,0,null,null,7,"div",[["aria-labelledby","portfolio-tab"],["class","tab-pane fade py-3"],["id","portfolio"],["role","tabpanel"]],null,null,null,null,null)),(l()(),u.sb(47,0,null,null,4,"div",[["class","row mb-2"]],null,null,null,null,null)),(l()(),u.sb(48,0,null,null,3,"div",[["class","col-md-12 d-flex justify-content-end"]],null,null,null,null,null)),(l()(),u.sb(49,0,null,null,2,"div",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOwnAddlResources()&&u),u}),null,null)),(l()(),u.sb(50,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add new resources "])),(l()(),u.ib(16777216,null,null,1,null,H)),u.rb(53,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,u=l(n,32,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,31,0,u);var t=l(n,40,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,39,0,t),l(n,42,0,e.addlResource);var s=l(n,45,0,"SYSTEM_ADMIN","MASTER_STUDYMATERIAL_ADMIN");l(n,44,0,s),l(n,53,0,e.ownAddlResource)}),(function(l,n){var e=n.component;l(n,6,0,e.nodeDescription),l(n,10,0,e.nodeName),l(n,13,0,e.checkContentCE),l(n,17,0,e.checkOwnContent)}))}function Y(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and One special character (-) "]))],null,null)}function X(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["(Optional)"]))],null,null)}function z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function Z(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Allowed characters - Alphabets, Numbers and Special characters "]))],null,null)}function ll(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,13,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Web URL "])),(l()(),u.sb(3,0,null,null,8,"input",[["class","form-control"],["formControlName","webSource"],["maxlength","2048"],["minlength","3"],["placeholder","Enter web url(min length: 3 and max length: 2048)"],["type","url"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,4)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,4)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(4,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(5,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(6,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(9,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(11,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,Z)),u.rb(13,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,5,0,"3"),l(n,6,0,"2048"),l(n,9,0,"webSource"),l(n,13,0,"View"!==e.modalTitleName)}),(function(l,n){l(n,3,0,u.Eb(n,5).minlength?u.Eb(n,5).minlength:null,u.Eb(n,6).maxlength?u.Eb(n,6).maxlength:null,u.Eb(n,11).ngClassUntouched,u.Eb(n,11).ngClassTouched,u.Eb(n,11).ngClassPristine,u.Eb(n,11).ngClassDirty,u.Eb(n,11).ngClassValid,u.Eb(n,11).ngClassInvalid,u.Eb(n,11).ngClassPending)}))}function nl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","custom-file"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,0,"input",[["id","documentFile"],["type","file"]],null,[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.onDocumentFileChanges(e)&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,2,"label",[["class","custom-file-label"],["for","documentFile"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),u.Mb(4,null,[" "," "]))],null,(function(l,n){l(n,4,0,n.component.fileName)}))}function el(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[["class"," d-flex w-100"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","text-muted font-15 my-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Only PDF will allow Max file size - 100 MB "]))],null,null)}function ul(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"button",[["class","btn btn-warning mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.uploadDocumentFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-upload mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Upload file "]))],null,null)}function tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,ul)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.uploadedFileName&&!e.uploadedFilePath)}),null)}function sl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class","btn btn-info mr-2"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.downloadFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-download mr-2"]],null,null,null,null,null)),(l()(),u.Mb(2,null,[""," "]))],null,(function(l,n){l(n,2,0,n.component.uploadedFileName)}))}function il(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"a",[["class"," btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteUploadedFile()&&u),u}),null,null)),(l()(),u.sb(1,0,null,null,0,"i",[["class","fa fa-trash mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Delete file "]))],null,null)}function ol(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,il)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.uploadedFileName)}),null)}function rl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,sl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ol)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.uploadedFileName),l(n,4,0,"View"!==e.modalTitleName)}),null)}function cl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["File "])),(l()(),u.ib(16777216,null,null,1,null,nl)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,el)),u.rb(6,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(7,0,null,null,4,"div",[["class","d-flex w-100 my-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,tl)),u.rb(9,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,rl)),u.rb(11,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"View"!==e.modalTitleName),l(n,6,0,"View"!==e.modalTitleName),l(n,9,0,"View"!==e.modalTitleName),l(n,11,0,e.showFileAction)}),null)}function al(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,ll)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,cl)),u.rb(4,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"VIDEO"===e.selectedContentType.tag),l(n,4,0,"DOCUMENT"===e.selectedContentType.tag)}),null)}function dl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resetLessonResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Reset "]))],null,null)}function bl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.updateAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function pl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function hl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,pl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"Add"===n.component.modalTitleName)}),null)}function gl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveOwnAddlResource()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save "]))],null,(function(l,n){l(n,1,0,n.component.lessonResourceForm.invalid)}))}function ml(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,gl)),u.rb(2,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"Add"===n.component.modalTitleName)}),null)}function fl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,2,"div",[["class","btn btn-danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeLessonResourceModal()&&u),u}),null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Close "]))],null,null)}function vl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,33,"div",[["class","col-12 filterbg my-4 rounded"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"div",[["class","filtericon font-20"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,25,"div",[["class","row d-flex justify-content-start align-items-center"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,20,"div",[["class","col-lg-3 mb-3"],["id","curriculumDropdown"]],null,null,null,null,null)),(l()(),u.sb(5,0,null,null,19,"ng-select",[["bindLabel","acronym"],["class","ng-select"],["placeholder","Select curriculum"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,7).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCurriculum=e)&&t),"change"===n&&(t=!1!==s.onCurriculumChange()&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(7,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},{changeEvent:"change"}),u.Kb(603979776,1,{optionTemplate:0}),u.Kb(603979776,2,{optgroupTemplate:0}),u.Kb(603979776,3,{labelTemplate:0}),u.Kb(603979776,4,{multiLabelTemplate:0}),u.Kb(603979776,5,{headerTemplate:0}),u.Kb(603979776,6,{footerTemplate:0}),u.Kb(603979776,7,{notFoundTemplate:0}),u.Kb(603979776,8,{typeToSearchTemplate:0}),u.Kb(603979776,9,{loadingTextTemplate:0}),u.Kb(603979776,10,{tagTemplate:0}),u.Kb(603979776,11,{loadingSpinnerTemplate:0}),u.Kb(603979776,12,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(21,671744,null,0,i.s,[[8,null],[8,null],[8,null],[6,i.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),u.Hb(22,{standalone:0}),u.Jb(2048,null,i.o,null,[i.s]),u.rb(24,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,S)),u.rb(26,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.rb(28,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(29,0,null,null,4,"div",[["class","d-flex justify-content-end pb-3 row"]],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,3,"div",[["class","col-lg-2"]],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,2,"button",[["class","btn btn-success float-right waves-effect waves-light"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.loadSubjectTree()&&u),u}),null,null)),(l()(),u.sb(32,0,null,null,0,"i",[["class","fa fa-filter mr-1"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Apply "])),(l()(),u.sb(34,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.sb(35,0,null,null,4,"div",[["class","col-xxl-4 mb-3 py-3"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,k)),u.rb(37,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(38,0,null,null,1,"div",[["class","tree-scroll"]],null,null,null,null,null)),(l()(),u.sb(39,0,null,null,0,"div",[["id","treeView"]],null,null,null,null,null)),(l()(),u.sb(40,0,null,null,8,"div",[["class","col-xxl-8 mb-2 py-2"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.rb(42,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,R)),u.rb(44,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Q)),u.rb(46,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,W)),u.rb(48,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(49,0,null,null,101,"div",[["class","modal slideInRight"],["id","additionalResourceModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),u.sb(50,0,null,null,100,"div",[["class","modal-dialog modal-full-height modal-right modal-notify"],["role","document"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Eb(l,51).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Eb(l,51).onReset()&&t),t}),null,null)),u.rb(51,540672,null,0,i.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Jb(2048,null,i.c,null,[i.i]),u.rb(53,16384,null,0,i.q,[[4,i.c]],null,null),(l()(),u.sb(54,0,null,null,96,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),u.sb(55,0,null,null,4,"div",[["class","modal-header bg-warning d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.sb(56,0,null,null,1,"h5",[["class","modal-title text-white"]],null,null,null,null,null)),(l()(),u.Mb(57,null,[" "," study material "])),(l()(),u.sb(58,0,null,null,1,"div",[["class","close btn btn-xl"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.closeLessonResourceModalWithOutSaving()&&u),u}),null,null)),(l()(),u.sb(59,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),u.sb(60,0,null,null,79,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),u.sb(61,0,null,null,14,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(62,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Title "])),(l()(),u.sb(64,0,null,null,9,"input",[["class","form-control"],["formControlName","contentTitle"],["inputRestriction","alphabetsNumbersWithMinus"],["maxlength","75"],["minlength","3"],["placeholder","Enter content name (min length: 3 and max length: 75)"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,65)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,65).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,65)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,65)._compositionEnd(e.target.value)&&t),"keypress"===n&&(t=!1!==u.Eb(l,73).onKeyPress(e)&&t),t}),null,null)),u.rb(65,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(66,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(67,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(70,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(72,16384,null,0,i.p,[[4,i.o]],null,null),u.rb(73,16384,null,0,d.a,[u.k],{inputRestriction:[0,"inputRestriction"]},null),(l()(),u.ib(16777216,null,null,1,null,Y)),u.rb(75,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(76,0,null,null,15,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(77,0,null,null,3,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Description "])),(l()(),u.ib(16777216,null,null,1,null,X)),u.rb(80,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(81,0,null,null,8,"textarea",[["class","form-control description-form"],["formControlName","contentDescription"],["maxlength","250"],["minlength","3"],["placeholder","Enter description (min length: 3 and max length: 250)"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Eb(l,82)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Eb(l,82).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Eb(l,82)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Eb(l,82)._compositionEnd(e.target.value)&&t),t}),null,null)),u.rb(82,16384,null,0,i.d,[u.D,u.k,[2,i.a]],null,null),u.rb(83,540672,null,0,i.l,[],{minlength:[0,"minlength"]},null),u.rb(84,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u.Jb(1024,null,i.m,(function(l,n){return[l,n]}),[i.l,i.k]),u.Jb(1024,null,i.n,(function(l){return[l]}),[i.d]),u.rb(87,671744,null,0,i.h,[[3,i.c],[6,i.m],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"]},null),u.Jb(2048,null,i.o,null,[i.h]),u.rb(89,16384,null,0,i.p,[[4,i.o]],null,null),(l()(),u.ib(16777216,null,null,1,null,z)),u.rb(91,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(92,0,null,null,22,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(93,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Resource category "])),(l()(),u.sb(95,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["formControlName","resourceCategory"],["placeholder","Select resource category"],["role","listbox"]],[[8,"ngModelOptions",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,97).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedCategory=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(97,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],items:[2,"items"]},null),u.Kb(603979776,49,{optionTemplate:0}),u.Kb(603979776,50,{optgroupTemplate:0}),u.Kb(603979776,51,{labelTemplate:0}),u.Kb(603979776,52,{multiLabelTemplate:0}),u.Kb(603979776,53,{headerTemplate:0}),u.Kb(603979776,54,{footerTemplate:0}),u.Kb(603979776,55,{notFoundTemplate:0}),u.Kb(603979776,56,{typeToSearchTemplate:0}),u.Kb(603979776,57,{loadingTextTemplate:0}),u.Kb(603979776,58,{tagTemplate:0}),u.Kb(603979776,59,{loadingSpinnerTemplate:0}),u.Kb(603979776,60,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(111,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.h]),u.rb(113,16384,null,0,i.p,[[4,i.o]],null,null),u.Hb(114,{standalone:0}),(l()(),u.sb(115,0,null,null,22,"div",[["class","form-group mb-2"]],null,null,null,null,null)),(l()(),u.sb(116,0,null,null,1,"label",[["class","col-form-label"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Content type "])),(l()(),u.sb(118,0,null,null,19,"ng-select",[["bindLabel","name"],["class","ng-select"],["formControlName","contentType"],["placeholder","Select content type"],["role","listbox"]],[[8,"ngModelOptions",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],(function(l,n,e){var t=!0,s=l.component;return"keydown"===n&&(t=!1!==u.Eb(l,120).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(s.selectedContentType=e)&&t),t}),t.b,t.a)),u.Jb(4608,null,s.f,s.f,[]),u.rb(120,4964352,null,12,s.a,[[8,null],[8,null],s.b,s.d,u.k,u.h,s.j],{bindLabel:[0,"bindLabel"],placeholder:[1,"placeholder"],searchable:[2,"searchable"],items:[3,"items"]},null),u.Kb(603979776,61,{optionTemplate:0}),u.Kb(603979776,62,{optgroupTemplate:0}),u.Kb(603979776,63,{labelTemplate:0}),u.Kb(603979776,64,{multiLabelTemplate:0}),u.Kb(603979776,65,{headerTemplate:0}),u.Kb(603979776,66,{footerTemplate:0}),u.Kb(603979776,67,{notFoundTemplate:0}),u.Kb(603979776,68,{typeToSearchTemplate:0}),u.Kb(603979776,69,{loadingTextTemplate:0}),u.Kb(603979776,70,{tagTemplate:0}),u.Kb(603979776,71,{loadingSpinnerTemplate:0}),u.Kb(603979776,72,{ngOptions:1}),u.Jb(1024,null,i.n,(function(l){return[l]}),[s.a]),u.rb(134,671744,null,0,i.h,[[3,i.c],[8,null],[8,null],[6,i.n],[2,i.B]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,i.o,null,[i.h]),u.rb(136,16384,null,0,i.p,[[4,i.o]],null,null),u.Hb(137,{standalone:0}),(l()(),u.ib(16777216,null,null,1,null,al)),u.rb(139,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(140,0,null,null,10,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,dl)),u.rb(142,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,bl)),u.rb(144,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,hl)),u.rb(146,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,ml)),u.rb(148,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,fl)),u.rb(150,16384,null,0,o.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,"acronym","Select curriculum",e.curriculumList);var u=e.selectedCurriculum,t=l(n,22,0,!0);l(n,21,0,u,t),l(n,26,0,e.selectedCurriculum),l(n,28,0,e.selectedGrade),l(n,37,0,e.subjectTree.length>1),l(n,42,0,e.subjectTree.length>1),l(n,44,0,"root"===e.nodeType),l(n,46,0,"unit"===e.nodeType),l(n,48,0,"lesson"===e.nodeType),l(n,51,0,e.lessonResourceForm),l(n,66,0,"3"),l(n,67,0,"75"),l(n,70,0,"contentTitle"),l(n,73,0,"alphabetsNumbersWithMinus"),l(n,75,0,"View"!==e.modalTitleName),l(n,80,0,"View"!==e.modalTitleName),l(n,83,0,"3"),l(n,84,0,"250"),l(n,87,0,"contentDescription"),l(n,91,0,"View"!==e.modalTitleName),l(n,97,0,"name","Select resource category",e.resourceCategory),l(n,111,0,"resourceCategory",e.disableDropdown,e.selectedCategory),l(n,120,0,"name","Select content type",!1,e.contentType),l(n,134,0,"contentType",e.disableDropdown,e.selectedContentType),l(n,139,0,e.selectedContentType),l(n,142,0,"Add"===e.modalTitleName||"Edit"===e.modalTitleName),l(n,144,0,"Edit"===e.modalTitleName),l(n,146,0,"AddlResource"===e.modalActionName),l(n,148,0,"OwnAddlResource"===e.modalActionName),l(n,150,0,"View"===e.modalTitleName)}),(function(l,n){var e=n.component;l(n,5,1,[!u.Eb(n,7).multiple,u.Eb(n,7).typeahead,u.Eb(n,7).multiple,u.Eb(n,7).addTag,u.Eb(n,7).searchable,u.Eb(n,7).clearable,u.Eb(n,7).isOpen,u.Eb(n,7).disabled,u.Eb(n,7).filtered,u.Eb(n,24).ngClassUntouched,u.Eb(n,24).ngClassTouched,u.Eb(n,24).ngClassPristine,u.Eb(n,24).ngClassDirty,u.Eb(n,24).ngClassValid,u.Eb(n,24).ngClassInvalid,u.Eb(n,24).ngClassPending]),l(n,50,0,u.Eb(n,53).ngClassUntouched,u.Eb(n,53).ngClassTouched,u.Eb(n,53).ngClassPristine,u.Eb(n,53).ngClassDirty,u.Eb(n,53).ngClassValid,u.Eb(n,53).ngClassInvalid,u.Eb(n,53).ngClassPending),l(n,57,0,e.modalTitleName),l(n,64,0,u.Eb(n,66).minlength?u.Eb(n,66).minlength:null,u.Eb(n,67).maxlength?u.Eb(n,67).maxlength:null,u.Eb(n,72).ngClassUntouched,u.Eb(n,72).ngClassTouched,u.Eb(n,72).ngClassPristine,u.Eb(n,72).ngClassDirty,u.Eb(n,72).ngClassValid,u.Eb(n,72).ngClassInvalid,u.Eb(n,72).ngClassPending),l(n,81,0,u.Eb(n,83).minlength?u.Eb(n,83).minlength:null,u.Eb(n,84).maxlength?u.Eb(n,84).maxlength:null,u.Eb(n,89).ngClassUntouched,u.Eb(n,89).ngClassTouched,u.Eb(n,89).ngClassPristine,u.Eb(n,89).ngClassDirty,u.Eb(n,89).ngClassValid,u.Eb(n,89).ngClassInvalid,u.Eb(n,89).ngClassPending);var t=l(n,114,0,!0);l(n,95,1,[t,!u.Eb(n,97).multiple,u.Eb(n,97).typeahead,u.Eb(n,97).multiple,u.Eb(n,97).addTag,u.Eb(n,97).searchable,u.Eb(n,97).clearable,u.Eb(n,97).isOpen,u.Eb(n,97).disabled,u.Eb(n,97).filtered,u.Eb(n,113).ngClassUntouched,u.Eb(n,113).ngClassTouched,u.Eb(n,113).ngClassPristine,u.Eb(n,113).ngClassDirty,u.Eb(n,113).ngClassValid,u.Eb(n,113).ngClassInvalid,u.Eb(n,113).ngClassPending]);var s=l(n,137,0,!0);l(n,118,1,[s,!u.Eb(n,120).multiple,u.Eb(n,120).typeahead,u.Eb(n,120).multiple,u.Eb(n,120).addTag,u.Eb(n,120).searchable,u.Eb(n,120).clearable,u.Eb(n,120).isOpen,u.Eb(n,120).disabled,u.Eb(n,120).filtered,u.Eb(n,136).ngClassUntouched,u.Eb(n,136).ngClassTouched,u.Eb(n,136).ngClassPristine,u.Eb(n,136).ngClassDirty,u.Eb(n,136).ngClassValid,u.Eb(n,136).ngClassInvalid,u.Eb(n,136).ngClassPending])}))}function Tl(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,3,"ng-component",[],null,null,null,vl,M)),u.Jb(512,null,b.a,b.a,[p.c]),u.Jb(512,null,h.a,h.a,[g.a,u.q]),u.rb(3,12697600,null,0,m.a,[f.k,f.a,b.a,v.a,T.a,C.a,w.c,w.f,a.a,g.a,i.e,y.a,x.a,u.h,E.a,h.a],null,null)],(function(l,n){l(n,3,0)}),null)}var Cl=u.ob("ng-component",m.a,Tl,{},{},[])},psak:function(l,n,e){"use strict";e.d(n,"a",(function(){return o})),e("3ZkO");var u=e("Mc5n");e("JXEQ");class t{constructor(){this.Choices=[],this.Options=[],this.Answers=[]}}class s{constructor(l,n){this.ChoiceId=l,this.ChoiceText=n}}class i{constructor(l,n){this.OptionId=l,this.OptionText=n}}class o{constructor(l,n,e,u,s){this.route=l,this.router=n,this.questionService=e,this.pluginService=u,this.changedetector=s,this.answers=[],this.questionResource={},this.checkDrag=!1,this.editorQuestionConfig=this.pluginService.getCKEditorQuestionConfig(),this.editorChoiceConfig=this.pluginService.getCKEditorChoiceConfig(),this.viewModel=new t,this.route.data.subscribe(l=>{"MCQ_MATCH_LIST"===l.type&&(this.viewModel.QuestionType=l.type)})}ngOnInit(){this.route.snapshot.data.question&&(this.viewModel=this.route.snapshot.data.question),this.getCurrentRouteInfo()}getCurrentRouteInfo(){let l,n;"topic-question-edit"!==(n=(l=this.router.url.split("/")).pop())&&"general-topic-question-edit"!==n||(this.viewModel=this.questionResource,this.showMatchListAnswers(),this.checkDrag=!0)}updatedDropList(l){if(l.previousContainer===l.container){Object(u.i)(l.container.data,l.previousIndex,l.currentIndex),this.viewModel.Answers=[];for(let l=0;l<this.viewModel.Choices.length;l++)for(let n=0;n<this.viewModel.Options.length;n++)l===n&&(this.viewModel.Answers.push({ChoiceId:this.viewModel.Choices[l].ChoiceId,OptionId:this.viewModel.Options[n].OptionId}),this.showMatchListAnswers());this.viewModel.TotalMarks=this.viewModel.Answers.length}}showMatchListAnswers(){let l=[],n=[],e=[];this.answers=[],n=[],e=[],l=this.viewModel.Answers,n=this.viewModel.Choices,e=this.viewModel.Options;for(let u=0;u<l.length;u++)this.answers.push({choiceName:n.find(n=>n.ChoiceId===l[u].ChoiceId).ChoiceText,optionName:e.find(n=>n.OptionId===l[u].OptionId).OptionText});this.checkDrag=!1}addChoice(){this.viewModel.Choices.length>0?this.viewModel.Choices=[...this.viewModel.Choices,new s((new Date).getUTCMilliseconds(),"")]:0===this.viewModel.Choices.length?(this.viewModel.Choices=[],this.viewModel.Choices=[...this.viewModel.Choices,new s((new Date).getUTCMilliseconds(),"")]):this.viewModel.Choices=[]}addOption(){this.viewModel.Options=this.viewModel.Options.length>0?[...this.viewModel.Options,new i((new Date).getUTCMilliseconds(),"")]:0===this.viewModel.Options.length?[...this.viewModel.Options,new i((new Date).getUTCMilliseconds(),"")]:[]}deleteChoice(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, choice is already related to answer","error");else{let n=this.viewModel.Choices.findIndex(n=>n.ChoiceId===l);this.viewModel.Choices.splice(n,1)}}deleteOption(l){if(this.viewModel.Answers.length>0)this.pluginService.alertMessage("You can't delete it, option is already related to answer","error");else{let n=this.viewModel.Options.findIndex(n=>n.OptionId===l);this.viewModel.Options.splice(n,1)}}ngAfterViewChecked(){this.viewModel&&(this.questionService.generateQuestionResource(this.viewModel),this.showMatchListAnswers()),this.changedetector.detectChanges()}ngOnDestroy(){this.viewModel.Question="",this.viewModel.Choices=[],this.viewModel.Options=[],this.viewModel.QuestionType="",this.viewModel.Answers=[]}}},pyIl:function(l,n,e){"use strict";e.d(n,"a",(function(){return c}));var u=e("IheW"),t=e("AytR"),s=e("BN3N"),i=e("EBJu"),o=e("8Y7J");let r=new u.h;r=r.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");let c=(()=>{class l{constructor(l){this.http=l,this.subjectResourceUrl=t.a.API_URL+i.j,this.subjectResourceUrlSearch=t.a.API_URL+i.k,this.subjectResourceUrlWithTree=t.a.API_URL+i.l}getSubjectBySubjectId(l){return this.http.get(`${this.subjectResourceUrl}/${l}`,{observe:"response"})}updateSubjectStatus(l){return this.http.put(this.subjectResourceUrl,l,{observe:"response"})}delete(l){return this.http.delete(`${this.subjectResourceUrl}/${l}`,{observe:"response"})}saveSubject(l){return this.http.post(this.subjectResourceUrlWithTree,l,{headers:r,observe:"response"})}getSubjectByCurriculumIdAndGradeId(l,n,e){let u;return this.http.post(this.subjectResourceUrlSearch,u=e===s.a?{curriculumId:l,grade:n,status:e}:{curriculumId:l,grade:n},{observe:"response"})}getSubjectTreeBySubjectId(l){return this.http.get(`${this.subjectResourceUrlWithTree}/${l}`,{observe:"response"})}}return l.ngInjectableDef=o.Sb({factory:function(){return new l(o.Tb(u.c))},token:l,providedIn:"root"}),l})()},roRw:function(l,n,e){"use strict";e.d(n,"a",(function(){return s})),e("/+cj"),e("ey9i"),e("JXEQ"),e("ustg"),e("3ZkO"),e("pyIl"),e("GcsT"),e("wy83");var u=e("BN3N"),t=e("Mc5n");e("hFJU"),e("1kWI");class s{constructor(l,n,e,u,t,s,i,o,r,c,a,d,b,p){this._router=l,this.activatedRoute=n,this.curriculumService=e,this.organisationService=u,this.subjectService=t,this.topicQuestionService=s,this.generalTopicQuestionService=i,this.eventManager=o,this.parseLinks=r,this.principalService=c,this.pluginService=a,this.userLoginService=d,this.errorHandler=b,this.questionBuilderService=p,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.subjectTree=[],this.lessonList=[],this.organisations=[],this.generalTopicQuestions=[],this.ownTopicQuestions=[],this.orgGeneralTopicQuestions=[],this.topicQuestions=[],this.ownTopicQuestionResources=[],this.orgTopicQuestionResources=[],this.generalTopicQuestionResources=[],this.selectedAnswer=[],this.enableExpandNode=!1,this.tableAction=!0}ngOnInit(){this.checkQuestionCE=!1,this.enableExpandNode=!1,this.questionPreferenceStatus=!1,this.loadCurriculums()}loadCurriculums(){this.curriculumService.getCurriculumSearch().subscribe(l=>this.assignCurriculumList(l.body),l=>this.onError(l))}assignCurriculumList(l){this.curriculumList=[];for(let n=0;n<l.length;n++)this.curriculumList.push(l[n])}onError(l){this.errorHandler.handleError(l)}ngAfterViewInit(){this.nodeOnSelected()}onCurriculumChange(){let l,n;this.selectedCurriculum&&this.generateGradeList(l=this.selectedCurriculum.gradesApplicableFrom,n=this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null,this.selectedLesson=null}onGradeChange(){let l,n,e;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(l=this.selectedCurriculum.id,n=this.selectedGrade.id,e=u.a).subscribe(l=>this.assignSubjectList(l.body),l=>this.onError(l)),this.selectedSubject=null,this.selectedLesson=null}onSubjectChange(){this.selectedSubject&&this.loadSubjectTree(this.selectedSubject.id),this.selectedLesson=null}assignSubjectList(l){this.subjectList=[],this.subjectTree=[],this.pluginService.jsTree("#viewSubjectTree",this.subjectTree,!1);for(let n=0;n<l.length;n++)this.subjectList.push(l[n])}generateGradeList(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}loadSubjectTree(l){this.subjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignSubjectTree(l.body),l=>this.onError(l))}assignSubjectTree(l){this.lessonList=[],$("#lesson").val("").trigger("change"),this.subjectTree=l,this.lessonList=this.subjectTree.filter(l=>"lesson"===l.type),this.pluginService.jsTree("#viewSubjectTree",this.subjectTree,!1)}getLessonTopicList(){if(this.selectedLesson){let l=this.selectedLesson.data.id;l?this.topicQuestionService.getLessonTopicListByLessonId(l).subscribe(l=>this.assignLessonTopicsList(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}}assignLessonTopicsList(l){let n=[],e=[];if(l.lessonTopics.length>0){n=l.lessonTopics;for(let l=0;l<n.length;l++)e.push(0===n[l].questionsCount?{text:n[l].topicName,generalTopicId:n[l].generalTopicId,id:n[l].id,icon:"fa fa-times text-danger"}:{text:n[l].topicName,generalTopicId:n[l].generalTopicId,id:n[l].id})}else this.pluginService.alertMessage("No topics mapped to a lesson","error");this.pluginService.jsTree("#topicsList",e,!1),this.showQuestionMapping=!1,this.showTopicHeading=!0,this.enableExpandNode=!1}nodeOnSelected(){var l=this;$("#topicsList").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.generalTopicId=e.node.original.generalTopicId,l.topicName=e.node.original.text,l.generalTopicQuestions=[],l.orgGeneralTopicQuestions=[],l.ownTopicQuestions=[],l.getGeneralTopicQuestionList(l.generalTopicId),l.getTopicQuestionList(l.generalTopicId),l.getOrgGeneralTopicQuestionByOrganisationId(l.generalTopicId),l.getOrganisationList(),l.getQuestionPreference(l.generalTopicId),l.showQuestionMapping=!0,l.tableAction=!0}))}getGeneralTopicQuestionList(l){this.generalTopicQuestionService.getTopicQuestionList(l).subscribe(l=>this.assignResponseToGeneralTopicQuestionList(l.body),l=>this.onError(l))}assignResponseToGeneralTopicQuestionList(l){let n,e,u,t=[];this.generalTopicQuestions=[],this.generalTopicQuestionResources=[],this.topicDescription=l.description,this.generalTopicQuestionResources=l.questions;for(let s=0;s<this.generalTopicQuestionResources.length;s++){(t=[]).push(this.questionBuilderService.convertStringToJson(this.generalTopicQuestionResources[s].contentJson));for(let l=0;l<t.length;l++)n=t[l].Question,e=1===this.generalTopicQuestionResources[s].complexityLevel?"Low":2===this.generalTopicQuestionResources[s].complexityLevel?"Medium":3===this.generalTopicQuestionResources[s].complexityLevel?"High":"",u="MCQ_SINGLE"===t[l].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[l].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[l].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[l].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[l].QuestionType?"MCQ match list":"",this.generalTopicQuestions.push({id:this.generalTopicQuestionResources[s].id,questionId:this.generalTopicQuestionResources[s].id,questionCategory:this.titleCapitalize(this.generalTopicQuestionResources[s].category),complexityLevel:e,questionText:n,questionType:u,generalTopicId:this.generalTopicQuestionResources[s].generalTopicId})}}getTopicQuestionList(l){this.topicQuestionService.getTopicQuestionDetails(l).subscribe(l=>this.assignResponseToTopicQuestionList(l.body),l=>this.onError(l))}assignResponseToTopicQuestionList(l){let n,e,u,t=[];this.ownTopicQuestions=[],this.ownTopicQuestionResources=[],this.topicDescription=l.description,this.ownTopicQuestionResources=l.orgGeneralTopicQuestions;for(let s=0;s<this.ownTopicQuestionResources.length;s++){(t=[]).push(this.questionBuilderService.convertStringToJson(this.ownTopicQuestionResources[s].question.contentJson));for(let l=0;l<t.length;l++)n=t[l].Question,e=1===this.ownTopicQuestionResources[s].question.complexityLevel?"Low":2===this.ownTopicQuestionResources[s].question.complexityLevel?"Medium":3===this.ownTopicQuestionResources[s].question.complexityLevel?"High":"",u="MCQ_SINGLE"===t[l].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[l].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[l].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[l].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[l].QuestionType?"MCQ match list":"",this.ownTopicQuestions.push({id:this.ownTopicQuestionResources[s].id,questionId:this.ownTopicQuestionResources[s].id,questionCategory:this.titleCapitalize(this.ownTopicQuestionResources[s].question.category),complexityLevel:e,questionText:n,questionType:u,generalTopicId:this.ownTopicQuestionResources[s].generalTopicId})}}getOrgGeneralTopicQuestionByOrganisationId(l){this.organisationId=this.userLoginService.organisationId,this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(l,this.organisationId).subscribe(l=>this.assignResponseToOrgTopicQuestionList(l.body),l=>this.onError(l))}getOrgTopicQuestiontByOrgId(){let l=this.selectedOrganisation.id;l&&this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(this.generalTopicId,l).subscribe(l=>this.assignResponseToOrgTopicQuestionList(l.body),l=>this.onError(l))}assignResponseToOrgTopicQuestionList(l){let n,e,u,t=[];this.orgTopicQuestionResources=[],this.orgTopicQuestionResources=l;for(let s=0;s<this.orgTopicQuestionResources.length;s++){(t=[]).push(this.questionBuilderService.convertStringToJson(this.orgTopicQuestionResources[s].question.contentJson));for(let l=0;l<t.length;l++)e=1===this.orgTopicQuestionResources[s].question.complexityLevel?"Low":2===this.orgTopicQuestionResources[s].question.complexityLevel?"Medium":3===this.orgTopicQuestionResources[s].question.complexityLevel?"High":"",u="MCQ_SINGLE"===t[l].QuestionType?"MCQ single answer":"MCQ_MULTIPLE"===t[l].QuestionType?"MCQ multiple answers":"MCQ_CHOICE_MATRIX"===t[l].QuestionType?"Choice matrix":"MCQ_TRUE_FALSE"===t[l].QuestionType?"MCQ true or false":"MCQ_MATCH_LIST"===t[l].QuestionType?"MCQ match list":"",this.orgGeneralTopicQuestions.push({id:this.orgTopicQuestionResources[s].question.id,questionId:this.orgTopicQuestionResources[s].question.id,questionText:n=t[l].Question,questionCategory:this.titleCapitalize(this.orgTopicQuestionResources[s].question.category),complexityLevel:e,questionType:u,generalTopicId:this.orgTopicQuestionResources[s].generalTopicId})}}titleCapitalize(l){return l?l[0].toUpperCase()+l.substr(1).toLowerCase():l}getOrganisationList(){this.organisationService.getOrganisations().subscribe(l=>this.assignOrgList(l.body),l=>this.onError(l))}assignOrgList(l){this.organisations=l}openSubjectTreeModal(){this.pluginService.showModalWindow("#viewSubjectTreeModal")}closeSubjectTreeModal(){this.pluginService.hideModalWindow("#viewSubjectTreeModal")}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}deleteOwnTopicQuestions(l){var n=this;!0===this.questionPreferenceStatus?this.pluginService.alertMessage("Please change your question preference and do delete action, ","error"):swal({title:"Are you sure to delete questions ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(e){!0===e&&n.subscribeToDeleteResponse(n.topicQuestionService.deleteOwnTopicQuestion(l))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Topic question deleted successfully","success"),this.ownTopicQuestions=[],this.getTopicQuestionList(this.generalTopicId),this.tableAction=!0}checkQuestionPreference(l){let n=l.target.checked,e=l.target.id;!0===n&&"QuestionCE"===e?this.questionPreferenceStatus=!1:!0===n&&"OwnQuestion"===e&&(this.questionPreferenceStatus=!0)}getQuestionPreference(l){this.topicQuestionService.getQuestionPreference(this.userLoginService.organisationId,l).subscribe(l=>this.onGetPreferenceSuccess(l.body),l=>this.onError(l))}onGetPreferenceSuccess(l){""===l||null===l||!1===l?(this.checkQuestionCE=!0,this.checkOwnQuestion=!1):!0===l&&(this.checkQuestionCE=!1,this.checkOwnQuestion=!0)}saveQuestionPreference(){!1===this.questionPreferenceStatus?this.generalTopicQuestions.length>=10?this.setQuestionPreference():this.pluginService.alertMessage("Please add atleast ten general topic question and change preference","error"):!0===this.questionPreferenceStatus&&(this.ownTopicQuestions.length>=10?this.setQuestionPreference():this.pluginService.alertMessage("Please add atleast ten own topic question and change preference","error"))}setQuestionPreference(){this.topicQuestionService.setQuestionPreference(this.questionPreferenceStatus,this.generalTopicId,this.organisationId).subscribe(l=>this.onSuccess(l.body),l=>this.onError(l))}onSuccess(l){this.pluginService.alertMessage("Question preference saved successfully","success")}toggleTreeNodes(){this.enableExpandNode=!this.enableExpandNode,this.enableExpandNode?this.pluginService.openJsTreeAllNodes("#viewSubjectTree"):this.pluginService.closeJsTreeAllNodes("#viewSubjectTree")}loadUpdatedTopicQuestion(){this.getTopicQuestionList(this.generalTopicId),this.getOrgGeneralTopicQuestionByOrganisationId(this.generalTopicId)}openGeneralTopicSimulateQuestionModal(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateGeneralTopicQuestionList(this.generalTopicQuestionResources)}openOrgTopicSimulateQuestionModal(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateOwnTopicQuestionList(this.orgTopicQuestionResources)}openOwnTopicSimulateQuestionModal(){this.pluginService.showModalWindow("#simulateTopicQuestionModal"),this.simulateOwnTopicQuestionList(this.ownTopicQuestionResources)}closeSimulateQuestionModal(){this.pluginService.hideModalWindow("#simulateTopicQuestionModal")}openGeneralTopicPreviewQuestionModal(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewGeneralTopicQuestionList(this.generalTopicQuestionResources)}openOrgTopicPreviewQuestionModal(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewOwnTopicQuestionList(this.orgTopicQuestionResources)}openOwnTopicPreviewQuestionModal(){this.pluginService.showModalWindow("#previewTopicQuestionModal"),this.previewOwnTopicQuestionList(this.ownTopicQuestionResources)}closePreviewQuestionModal(){this.pluginService.hideModalWindow("#previewTopicQuestionModal")}previewGeneralTopicQuestionList(l){let n,e=[],u=[],t=[];this.topicQuestions=[];for(let s=0;s<l.length;s++){if("MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[s].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType){u=[],t=[],e=n.Options,t=n.Choices;for(let l=0;l<n.Answers.length;l++)u.push({choiceName:t.find(e=>e.ChoiceId===n.Answers[l].ChoiceId).ChoiceText,optionName:e.find(e=>e.OptionId===n.Answers[l].OptionId).OptionText})}else if("MCQ_SINGLE"===n.QuestionType||"MCQ_MULTIPLE"===n.QuestionType||"MCQ_TRUE_FALSE"===n.QuestionType){e=[],u=[];for(let l=0;l<n.Answers.length;l++){let e=n.Choices.find(e=>e.ChoiceId===n.Answers[l]).ChoiceText;u.push(e),e=""}}this.topicQuestions.push({id:l[s].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[s].generalTopicId,questionId:l[s].id,choices:n.Choices,options:e,answers:u})}}simulateGeneralTopicQuestionList(l){let n,e=[],u=[];this.topicQuestions=[];for(let t=0;t<l.length;t++)"MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[t].contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType?(e=this.shuffleArray(n.Options),u=n.Choices):(e=[],u=this.shuffleArray(n.Choices)),this.topicQuestions.push({id:l[t].id,questionId:l[t].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[t].generalTopicId,choices:u,options:e,answers:n.Answers,checkAnswer:""})}previewOwnTopicQuestionList(l){let n,e=[],u=[],t=[];this.topicQuestions=[];for(let s=0;s<l.length;s++){if("MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[s].question.contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType){u=[],t=[],e=n.Options,t=n.Choices;for(let l=0;l<n.Answers.length;l++)u.push({choiceName:t.find(e=>e.ChoiceId===n.Answers[l].ChoiceId).ChoiceText,optionName:e.find(e=>e.OptionId===n.Answers[l].OptionId).OptionText})}else if("MCQ_SINGLE"===n.QuestionType||"MCQ_MULTIPLE"===n.QuestionType||"MCQ_TRUE_FALSE"===n.QuestionType){e=[],u=[];for(let l=0;l<n.Answers.length;l++){let e=n.Choices.find(e=>e.ChoiceId===n.Answers[l]).ChoiceText;u.push(e),e=""}}this.topicQuestions.push({id:l[s].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[s].generalTopicId,questionId:l[s].question.id,choices:n.Choices,options:e,answers:u})}}simulateOwnTopicQuestionList(l){let n,e=[],u=[];this.topicQuestions=[];for(let t=0;t<l.length;t++)"MCQ_MATCH_LIST"===(n=this.questionBuilderService.convertStringToJson(l[t].question.contentJson)).QuestionType||"MCQ_CHOICE_MATRIX"===n.QuestionType?(e=this.shuffleArray(n.Options),u=n.Choices):(e=[],u=this.shuffleArray(n.Choices)),this.topicQuestions.push({id:l[t].id,question:n.Question,questionType:n.QuestionType,generalTopicId:l[t].generalTopicId,questionId:l[t].question.id,choices:u,options:e,answers:n.Answers,checkAnswer:""})}shuffleArray(l){return l.sort(()=>Math.random()-.5),l}onSelectMCQSingleAnswer(l,n){let e;e=this.topicQuestions.findIndex(n=>n.id===l);for(let u=0;u<this.topicQuestions[e].answers.length;u++)this.topicQuestions[e].checkAnswer=this.topicQuestions[e].answers[u]===n?"Correct":"Wrong"}onSelectMCQMultipleAnswer(l,n,e){let u,t,s;t=e.target.checked,u=this.topicQuestions.findIndex(n=>n.id===l),!0===t?this.selectedAnswer.push(n):(s=this.selectedAnswer.findIndex(l=>l===n),this.selectedAnswer.splice(s,1)),this.checkMultipleAnswer(u)}checkMultipleAnswer(l){let n=this.topicQuestions[l].answers.sort(),e=this.selectedAnswer.sort(),u=[];for(let t=0;t<n.length;t++)for(let s=0;s<e.length;s++)n[t]===e[s]?(u.push(e[s]),this.topicQuestions[l].checkAnswer="Partial"):this.topicQuestions[l].checkAnswer="Wrong";u.length>0&&(this.topicQuestions[l].checkAnswer=u.length===n.length&&JSON.stringify(u.sort())===JSON.stringify(e)?"Correct":"Partial")}onSelectChoiceMatrixAnswer(l,n,e){let u,t;if(u=this.topicQuestions.findIndex(n=>n.id===l),0===this.selectedAnswer.length&&(this.selectedAnswer=[]),this.selectedAnswer.push({ChoiceId:n,OptionId:e}),this.selectedAnswer.length>1)for(let s=0;s<this.selectedAnswer.length;s++)for(let l=s+1;l<this.selectedAnswer.length;l++)this.selectedAnswer[s].ChoiceId===this.selectedAnswer[l].ChoiceId&&(t=this.selectedAnswer.findIndex(l=>l.ChoiceId===this.selectedAnswer[s].ChoiceId),this.selectedAnswer.splice(t,1));this.checkMatrixAndMatchListAnswers(u)}checkAnswerStatus(l){let n=this.topicQuestions.findIndex(n=>n.id===l);"Correct"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("Good keep going...Correct answer","success"):"Partial"===this.topicQuestions[n].checkAnswer?this.pluginService.alertMessage("This is partially correct","warning"):this.pluginService.alertMessage("Wrong"===this.topicQuestions[n].checkAnswer?"Oops..! this is wrong":"Please select a answer and check it","error")}updatedDropList(l,n){let e=this.topicQuestions.findIndex(n=>n.id===l);if(n.previousContainer===n.container){Object(t.i)(n.container.data,n.previousIndex,n.currentIndex),this.selectedAnswer=[];for(let l=0;l<this.topicQuestions[e].choices.length;l++)for(let n=0;n<this.topicQuestions[e].options.length;n++)l===n&&this.selectedAnswer.push({ChoiceId:this.topicQuestions[e].choices[l].ChoiceId,OptionId:this.topicQuestions[e].options[n].OptionId});this.checkMatrixAndMatchListAnswers(e)}}checkMatrixAndMatchListAnswers(l){let n,e,u=[];for(let t=0;t<this.topicQuestions[l].answers.length;t++)for(let n=0;n<this.selectedAnswer.length;n++)this.topicQuestions[l].answers[t].ChoiceId===this.selectedAnswer[n].ChoiceId?this.topicQuestions[l].answers[t].OptionId===this.selectedAnswer[n].OptionId&&u.push({ChoiceId:this.selectedAnswer[n].ChoiceId,OptionId:this.selectedAnswer[n].OptionId}):this.topicQuestions[l].checkAnswer="Wrong";if(u.length>0){const t=u.sort(n=(l,n)=>l.ChoiceId-n.ChoiceId),s=this.selectedAnswer.sort(e=(l,n)=>l.ChoiceId-n.ChoiceId);this.topicQuestions[l].checkAnswer=u.length===this.topicQuestions[l].answers.length&&JSON.stringify(t)===JSON.stringify(s)?"Correct":"Partial"}}previousQuestion(){this.selectedAnswer=[]}nextQuestion(){this.selectedAnswer=[]}}},sP4s:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));class u{}},tWOK:function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var u=e("IheW"),t=e("AytR"),s=e("EBJu"),i=e("8Y7J");let o=new u.h;o=o.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");let r=(()=>{class l{constructor(l){this.http=l,this.contentResourceUrl=t.a.API_URL+s.e,this.questionResourceUrl=t.a.API_URL+s.T,this.topicContentResourceUrl=t.a.API_URL+s.s,this.generalTopicContentResourceUrl=t.a.API_URL+s.t,this.generalTopicQuestionResourceUrl=t.a.API_URL+s.u}getTopicContentList(l){return this.http.get(`${this.generalTopicContentResourceUrl}/${l}`,{observe:"response"})}getTopicQuestionList(l){return this.http.get(`${this.generalTopicQuestionResourceUrl}/${l}`,{observe:"response"})}getContentByContentId(l){return this.http.get(`${this.contentResourceUrl}/${l}`,{observe:"response"})}updateContent(l){return this.http.put(this.contentResourceUrl,l,{headers:o,observe:"response"})}saveTopicContent(l){return this.http.post(this.topicContentResourceUrl,l,{headers:o,observe:"response"})}updateTopicContents(l){return this.http.put(this.topicContentResourceUrl,l,{headers:o,observe:"response"})}deleteTopicContents(l){return this.http.delete(`${this.topicContentResourceUrl}/batch/${l}`,{observe:"response"})}saveTopicQuestion(l){return this.http.post(this.questionResourceUrl,l,{headers:o,observe:"response"})}deleteTopicQuestion(l){return this.http.delete(`${this.questionResourceUrl}/${l}`,{observe:"response"})}}return l.ngInjectableDef=i.Sb({factory:function(){return new l(i.Tb(u.c))},token:l,providedIn:"root"}),l})()},tmov:function(l,n,e){"use strict";e.d(n,"a",(function(){return a}));var u=e("IheW"),t=e("AytR"),s=e("M0ag"),i=e("BN3N"),o=e("EBJu"),r=e("8Y7J");let c=new u.h;c=c.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","*");let a=(()=>{class l{constructor(l){this.http=l,this.generalSubjectResourceUrl=t.a.API_URL+o.p,this.generalSubjectSearchResourceUrl=t.a.API_URL+o.q,this.generalSubjectResourceUrlWithTree=t.a.API_URL+o.r}getSubjectBySubjectId(l){return this.http.get(`${this.generalSubjectResourceUrl}/${l}`,{observe:"response"})}getSubjectSearchList(){return this.http.post(this.generalSubjectSearchResourceUrl,{status:i.a},{observe:"response"})}getSubjectListByGrade(l,n){return this.http.post(this.generalSubjectSearchResourceUrl,{grade:l,status:n},{observe:"response"})}getSubjectTreeBySubjectId(l){return this.http.get(`${this.generalSubjectResourceUrlWithTree}/${l}`,{observe:"response"})}updateGeneralSubjectStatus(l){return this.http.put(this.generalSubjectResourceUrl,l,{observe:"response"})}getAllSubjects(l){const n=Object(s.c)(l);return this.http.get(this.generalSubjectResourceUrl,{params:n,observe:"response"})}delete(l){return this.http.delete(`${this.generalSubjectResourceUrl}/${l}`,{observe:"response"})}saveGeneralSubject(l){return this.http.post(this.generalSubjectResourceUrlWithTree,l,{headers:c,observe:"response"})}}return l.ngInjectableDef=r.Sb({factory:function(){return new l(r.Tb(u.c))},token:l,providedIn:"root"}),l})()},tvYL:function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e("/+cj"),e("ey9i"),e("JXEQ"),e("wy83"),e("pyIl");var u=e("BN3N");e("tmov"),e("hFJU");class t{constructor(l,n,e,u,t,s,i,o,r,c,a){this._router=l,this.activatedRoute=n,this.curriculumService=e,this.subjectService=u,this.lessonTopicService=t,this.eventManager=s,this.parseLinks=i,this.principalService=o,this.generalSubjectService=r,this.pluginService=c,this.errorHandler=a,this.curriculumList=[],this.gradeList=[],this.subjectList=[],this.generalSubjectList=[],this.subjectTree=[],this.generalSubjectTree=[],this.lessonTopicsList=[],this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.topicIds=[],this.lessonTopicIds=[],this.allGrades=[],this.enableExpandSubjectNode=!1,this.enableExpandGSubjectNode=!1,this.addToListAction=!0,this.tableAction=!0,this.updateAction=!0,this.allGrades=[{id:1,name:1},{id:2,name:2},{id:3,name:3},{id:4,name:4},{id:5,name:5},{id:6,name:6},{id:7,name:7},{id:8,name:8},{id:9,name:9},{id:10,name:10},{id:11,name:11},{id:12,name:12}],this.selectedGeneralSubjectGrade=null}ngOnInit(){this.loadCurriculums()}loadCurriculums(){this.curriculumService.getCurriculumSearch().subscribe(l=>this.assignCurriculumList(l.body),l=>this.onError(l))}assignCurriculumList(l){this.curriculumList=[];for(let n=0;n<l.length;n++)this.curriculumList.push(l[n])}onError(l){this.errorHandler.handleError(l)}ngAfterViewInit(){this.showSyllabusDetails(),this.showGeneralSubjectTreeDetails()}onCurriculumChange(){let l,n;this.selectedCurriculum&&this.generateGradeList(l=this.selectedCurriculum.gradesApplicableFrom,n=this.selectedCurriculum.gradesApplicableTo),this.selectedGrade=null,this.selectedSubject=null}onGradeChange(){let l,n,e;this.selectedGrade&&this.subjectService.getSubjectByCurriculumIdAndGradeId(l=this.selectedCurriculum.id,n=this.selectedGrade.id,e=u.a).subscribe(l=>this.assignSubjectList(l.body),l=>this.onError(l)),this.selectedSubject=null}assignSubjectList(l){this.subjectList=[];for(let n=0;n<l.length;n++)this.subjectList.push(l[n])}generateGradeList(l,n){this.gradeList=[];for(var e=l;e<=n;e++)this.gradeList.push({id:e,name:e});return this.gradeList}onGeneralSubjectGradeChange(){if(this.selectedGeneralSubjectGrade){let l=this.selectedGeneralSubjectGrade.name,n=u.a;this.selectedGeneralSubject=null,this.generalSubjectService.getSubjectListByGrade(l,n).subscribe(l=>this.assignGeneralSubjectList(l.body),l=>this.onError(l))}this.selectedGeneralSubjectGrade=null,this.generalSubjectList=[]}assignGeneralSubjectList(l){this.generalSubjectList=[],this.generalSubjectList=l}loadSubjectTree(){if(this.selectedSubject){let l=this.selectedSubject.id;this.subjectTree=[],this.pluginService.jsTree("#treeView",this.subjectTree,!1),l?this.subjectService.getSubjectTreeBySubjectId(l).subscribe(l=>this.assignSubjectTree(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}}assignSubjectTree(l){if(this.subjectTree=[],l.length>0){for(let n=0;n<l.length;n++)0===l[n].data.preReqTopicsCount&&(l[n].icon="fa fa-times text-danger"),this.subjectTree.push(l[n]);this.pluginService.jsTree("#treeView",this.subjectTree,!1)}this.enableExpandSubjectNode=!1}showSyllabusDetails(){var l=this;$("#treeView").on("changed.jstree",(function(n,e){var u,t;for(u=0,t=e.selected.length;u<t;u++)l.nodeType=e.node.type,"root"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"unit"===l.nodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"lesson"===l.nodeType&&(l.lessonId=e.node.data.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.objective,l.getLessonTopicList(l.lessonId))}))}getLessonTopicList(l){this.lessonTopicService.getLessonPreReqTopicListByLessonId(l).subscribe(l=>this.assignLessonTopicsList(l.body),l=>this.onError(l))}assignLessonTopicsList(l){this.lessonTopicsList=[],l.lessonPreReqTopics.length>0&&(this.lessonTopicsList=l.lessonPreReqTopics,this.sortArrayByOrderNumber(this.lessonTopicsList),this.dragUpdateLessonTopicList(),this.tableAction=!0,this.updateAction=!0,this.topicIds=[])}sortArrayByOrderNumber(l){l.sort((l,n)=>l.orderNumber>n.orderNumber?1:-1)}toggleTreeNodes(){this.enableExpandSubjectNode=!this.enableExpandSubjectNode,this.enableExpandSubjectNode?this.pluginService.openJsTreeAllNodes("#treeView"):this.pluginService.closeJsTreeAllNodes("#treeView")}checkSelectedTopics(l){let n,e,u;e=l.target.checked,n=Number(l.target.title),!0===e?(this.tableAction=!1,this.lessonTopicIds.push(n)):!1===e&&(u=this.lessonTopicIds.findIndex(l=>l===n),this.lessonTopicIds.splice(u,1)),this.lessonTopicIds=this.removeDuplicateElements(this.lessonTopicIds),this.lessonTopicIds.length<=0&&(this.tableAction=!0)}removeDuplicateElements(l){for(var n=[],e=0;e<l.length;e++)-1==n.indexOf(l[e])&&n.push(l[e]);return n}deleteLessonTopics(){var l=this;swal({title:"Are you sure to delete lesson topic mapping ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.lessonTopicIds.length>0&&l.subscribeToDeleteResponse(l.lessonTopicService.deletePrerequisiteLessonTopicMapping(l.lessonTopicIds))}))}subscribeToDeleteResponse(l){l.subscribe(l=>this.onDeleteSuccess(l),l=>this.onError(l))}onDeleteSuccess(l){this.pluginService.alertMessage("Lesson topic deleted successfully","success"),this.tableAction=!0,this.lessonTopicIds=[],this.getLessonTopicList(this.lessonId),this.loadSubjectTree()}resetSelectedTopic(){this.lessonTopicIds=[],this.tableAction=!0,$(".checkAll").prop("checked",!1)}subscribeToUpdateResponse(l){l.subscribe(l=>this.onUpdateSuccess(l),l=>this.onError(l))}onUpdateSuccess(l){this.pluginService.alertMessage("Prerequisite lesson topic mapping updated successfully","success"),this.getLessonTopicList(this.lessonId)}dragUpdateLessonTopicList(){let l=this;$("#dragTable #dragBody").sortable({helper:function(l,n){var e=n.children(),u=n.clone();return u.children().each((function(l){$(this).width(e.eq(l).width())})),u},stop:function(n,e){$("td.index",e.item.parent()).each((function(l){$(this).html(l+1)})),l.updateLessonTopicOrder()}}),$("#dragBody").sortable({distance:1,opacity:0,delay:10,cursor:"move",update:function(){}})}updateLessonTopicOrder(){this.updateAction=!1,this.checkOrderNumChange=!0;var l=document.querySelector("#dragTable").querySelectorAll("tbody tr");Array.from(l).forEach(l=>{let n=l.querySelectorAll("td");var e=Number(n[0].title),u=Number(n[1].textContent);for(let t=0;t<this.lessonTopicsList.length;t++)if(this.lessonTopicsList[t].id===e){this.lessonTopicsList[t].orderNumber=u,this.lessonTopicsList[t].id=e;break}this.sortArrayByOrderNumber(this.lessonTopicsList)})}updateLessonTopics(){var l=this;swal({title:"Are you sure to update order ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.checkOrderNumChange&&l.subscribeToUpdateResponse(l.lessonTopicService.updatePrerequisiteLessonTopicMapping(l.lessonTopicsList))}))}addNewGeneralTopicMapping(){this.generalSubTopicsList=[],this.selectedGeneralSubTopicsList=[],this.generalSubjectTree=[],this.selectedGeneralSubject=null,this.selectedGeneralSubjectGrade=null,this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.openTopicMappingModal()}loadGeneralSubjectTree(){this.generalSubjectTree=[],this.modalNodeType="",this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.selectedGeneralSubject?this.generalSubjectService.getSubjectTreeBySubjectId(this.selectedGeneralSubject.id).subscribe(l=>this.assignGeneralSubjectTree(l.body),l=>this.onError(l)):this.pluginService.alertMessage("Please select a filter and then apply","error")}assignGeneralSubjectTree(l){this.generalSubjectTree=l,this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.enableExpandGSubjectNode=!1}showGeneralSubjectTreeDetails(){var l=this;$("#generalSubjectTreeView").on("changed.jstree",(function(n,e){var u,t,s;for(u=0,t=e.selected.length;u<t;u++)l.modalNodeType=e.node.type,"root"===l.modalNodeType?(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description):"concept"===l.modalNodeType?(s=e.node.id,l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description,l.topicIds=[],l.getTopicsList(s)):"topic"===l.modalNodeType&&(l.nodeName=e.node.data.name,l.nodeDescription=e.node.data.description)}))}getTopicsList(l){let n;n=this.generalSubjectTree.filter(n=>n.parent===l),this.generalSubTopicsList=n.filter(l=>"topic"===l.type),this.disablePreSelectedTopics(),this.addToListAction=!0}disablePreSelectedTopics(){if(this.lessonTopicsList.length>0)for(let l=0;l<this.lessonTopicsList.length;l++)for(let n=0;n<this.generalSubTopicsList.length;n++)this.lessonTopicsList[l].topicId===this.generalSubTopicsList[n].data.id&&(this.generalSubTopicsList[n].disabled=!0)}checkNewlyAddedTopics(l){let n,e,u;n=l.target.name,!0===(e=l.target.checked)?(this.topicIds.push(n),this.addToListAction=!1):!1===e&&(u=this.topicIds.findIndex(l=>l===n),this.topicIds.splice(u,1)),this.topicIds=this.removeDuplicateElements(this.topicIds)}addTopicToList(){for(let l=0;l<this.topicIds.length;l++)this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(n=>n.id===this.topicIds[l]));this.selectedGeneralSubTopicsList=this.removeDuplicateElements(this.selectedGeneralSubTopicsList),this.addToListAction=!0}removeFromNewTopicList(l){var n;this.selectedGeneralSubTopicsList.length>0?(n=this.selectedGeneralSubTopicsList.findIndex(n=>n.id===l),this.selectedGeneralSubTopicsList.splice(n,1)):this.selectedGeneralSubTopicsList=[]}toggleGeneralSubjectTreeNodes(){this.enableExpandGSubjectNode=!this.enableExpandGSubjectNode,this.enableExpandGSubjectNode?this.pluginService.openJsTreeAllNodes("#generalSubjectTreeView"):this.pluginService.closeJsTreeAllNodes("#generalSubjectTreeView")}saveLessonTopicMapping(){let l=[];for(let n=0;n<this.selectedGeneralSubTopicsList.length;n++)l.push({topicId:this.selectedGeneralSubTopicsList[n].data.id,displayName:this.selectedGeneralSubTopicsList[n].data.name,lessonId:this.lessonId,orderNumber:this.lessonTopicsList.length+n+1});l.length>0?this.subscribeToSaveResponse(this.lessonTopicService.savePrerequisiteLessonTopicMapping(l)):this.pluginService.alertMessage("No prerequisite lesson topics added","error")}subscribeToSaveResponse(l){l.subscribe(l=>this.onSaveSuccess(l),l=>this.onError(l))}onSaveSuccess(l){this.pluginService.alertMessage("Lesson topic mapped successfully","success"),this.closeTopicMappingModal(),this.getLessonTopicList(this.lessonId),this.pluginService.jsTree("#generalSubjectTreeView",this.generalSubjectTree,!1),this.loadSubjectTree()}openTopicMappingModal(){this.pluginService.showModalWindow("#addNewPrereqTopicMappingModal")}closeTopicMappingModal(){this.pluginService.hideModalWindow("#addNewPrereqTopicMappingModal")}closeWithOutSavingTopicMapping(){var l=this;swal({title:"Are you sure to close without saving ?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",confirmButtonColor:"#32b432",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},(function(n){!0===n&&l.closeTopicMappingModal()}))}}},uH8f:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e("QHgc");class u{constructor(l,n,e){this.router=l,this.route=n,this.commonService=e,this.questionTypes=[]}ngOnInit(){this.getQuestionTypeDetails()}getQuestionTypeDetails(){this.commonService.getQuestionTypeList().subscribe(l=>{this.questionTypes=l,this.setSelectedQuestionType(this.router.url)})}setSelectedQuestionType(l){let n,e=[];e=l.split("/"),n="./"+e.pop();for(let u=0;u<this.questionTypes.length;u++)n===this.questionTypes[u].router&&(this.questionTypes.find(l=>l.router===n).checked=!0)}navigateToUrl(l){this.router.navigate([l],{relativeTo:this.route})}}},xxMB:function(l,n,e){"use strict";var u=e("8Y7J"),t=e("IDBn"),s=e("s7LF"),i=e("XKba"),o=e("WOoW"),r=e("H/4C"),c=e("cUpR"),a=e("SVse");class d{constructor(l){this.elementRef=l}ngOnInit(){this.rootElement=$(this.elementRef.nativeElement)}ngOnChanges(l){if(this.rootElement=$(this.elementRef.nativeElement),this.rootElement){let l=this.question?this.question.replace(/{{response}}/g,'<span class="cloze--dropzone zone"></span>'):"";this.rootElement.html(l)}}}var b=e("gQ5b"),p=e("iInd");e.d(n,"a",(function(){return C}));var h=u.qb({encapsulation:0,styles:[[".choice--group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.choice--answer[_ngcontent-%COMP%]{width:5%}.choice-container[_ngcontent-%COMP%], .option-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:10px}.choice-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .option-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:45%}.choice-container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.option--container.zone[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-content:space-around;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap}.zone[_ngcontent-%COMP%]{border:1px dashed #e8e6e6;padding:10px 5px;margin-bottom:10px;min-height:50px}.zone[_ngcontent-%COMP%]   .option--container[_ngcontent-%COMP%]{justify-content:space-around;min-width:50px}.choice--label[_ngcontent-%COMP%]{min-height:50px;border:1px solid #eee;padding:10px 5px;width:95%}.option--container[_ngcontent-%COMP%]   .option--item[_ngcontent-%COMP%]{min-height:50px;border:1px solid #eee;padding:10px 5px;background-color:#eaeaea}.choice--group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:20px;width:100%}.choice--editor[_ngcontent-%COMP%]{width:95%}.choice--delete[_ngcontent-%COMP%]{width:5%;text-align:right;font-size:16px}.choice--delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]{outline:solid 1px;height:50px}.actions[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function g(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,10,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Question"])),(l()(),u.sb(3,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.viewModel.Question=e)&&u),u}),t.b,t.a)),u.rb(4,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(6,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(8,671744,[["questionInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(10,16384,null,0,s.p,[[4,s.o]],null,null)],(function(l,n){var e=n.component;l(n,4,0,!0),l(n,6,0,e.editorQuestionConfig),l(n,8,0,e.viewModel.Question)}),(function(l,n){l(n,3,0,u.Eb(n,4).required?"":null,u.Eb(n,10).ngClassUntouched,u.Eb(n,10).ngClassTouched,u.Eb(n,10).ngClassPristine,u.Eb(n,10).ngClassDirty,u.Eb(n,10).ngClassValid,u.Eb(n,10).ngClassInvalid,u.Eb(n,10).ngClassPending)}))}function m(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,11,"div",[["class","w-100 d-flex mb-2"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,8,"div",[["class","editor"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"ckeditor",[["class","w-100"],["placeholder","Enter question (min length: 3 and max length: 4000)"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.context.$implicit.OptionText=e)&&u),u}),t.b,t.a)),u.rb(3,16384,null,0,s.x,[],{required:[0,"required"]},null),u.Jb(1024,null,s.m,(function(l){return[l]}),[s.x]),u.rb(5,4374528,null,0,i.a,[u.k,u.y],{config:[0,"config"]},null),u.Jb(1024,null,s.n,(function(l){return[l]}),[i.a]),u.rb(7,671744,[["choiceInput",4]],0,s.s,[[8,null],[6,s.m],[8,null],[6,s.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Jb(2048,null,s.o,null,[s.s]),u.rb(9,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.sb(10,0,null,null,1,"div",[["class","delete d-flex align-items-end ml-4 font-20 text-danger"]],null,null,null,null,null)),(l()(),u.sb(11,0,null,null,0,"i",[["class","fa fa-trash"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteOption(l.context.$implicit.OptionId)&&u),u}),null,null))],(function(l,n){var e=n.component;l(n,3,0,!0),l(n,5,0,e.editorChoiceConfig),l(n,7,0,n.context.$implicit.OptionText)}),(function(l,n){l(n,2,0,u.Eb(n,3).required?"":null,u.Eb(n,9).ngClassUntouched,u.Eb(n,9).ngClassTouched,u.Eb(n,9).ngClassPristine,u.Eb(n,9).ngClassDirty,u.Eb(n,9).ngClassValid,u.Eb(n,9).ngClassInvalid,u.Eb(n,9).ngClassPending)}))}function f(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,2,"span",[["class","option--item"]],[[1,"data-option-id",0]],null,null,null,null)),u.rb(1,540672,null,0,o.a,[u.k],{texExpression:[0,"texExpression"]},null),u.Ib(2,1)],(function(l,n){var e=u.Nb(n,1,0,l(n,2,0,u.Eb(n.parent,0),n.context.$implicit.OptionText));l(n,1,0,e)}),(function(l,n){l(n,0,0,n.context.$implicit.OptionId)}))}function v(l){return u.Ob(0,[u.Gb(0,r.a,[c.b]),(l()(),u.ib(16777216,null,null,1,null,g)),u.rb(2,16384,null,0,a.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.sb(3,0,null,null,8,"div",[["class","w-100 d-block my-2"]],null,null,null,null,null)),(l()(),u.sb(4,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Response"])),(l()(),u.ib(16777216,null,null,1,null,m)),u.rb(7,278528,null,0,a.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(8,0,null,null,3,"div",[["class","w-100 d-flex justify-content-end my-2 align-self-start"]],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,2,"button",[["class","btn btn-info"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.addOption()&&u),u}),null,null)),(l()(),u.sb(10,0,null,null,0,"i",[["class","fa fa-plus-circle mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Add Option"])),(l()(),u.sb(12,0,null,null,7,"div",[["class","drag--container"]],null,null,null,null,null)),(l()(),u.sb(13,0,null,null,1,"p",[["class","font-20 font-bold"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,["Preview"])),(l()(),u.sb(15,0,null,null,1,"div",[["class","preview-panel"]],null,null,null,null,null)),u.rb(16,606208,null,0,d,[u.k],{question:[0,"question"]},null),(l()(),u.sb(17,0,null,null,2,"div",[["class","option--container options zone"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,f)),u.rb(19,278528,null,0,a.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.sb(20,0,null,null,6,"div",[["class","w-100 d-flex justify-content-end align-self-start my-2"]],null,null,null,null,null)),(l()(),u.sb(21,0,null,null,2,"button",[["class","btn btn-danger mr-2"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.cancel()&&u),u}),null,null)),(l()(),u.sb(22,0,null,null,0,"i",[["class","fa fa-times mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Cancel"])),(l()(),u.sb(24,0,null,null,2,"button",[["class","btn btn-success"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.saveQuestion()&&u),u}),null,null)),(l()(),u.sb(25,0,null,null,0,"i",[["class","fa fa-save mr-2"]],null,null,null,null,null)),(l()(),u.Mb(-1,null,[" Save Question"]))],(function(l,n){var e=n.component;l(n,2,0,e.viewmodel),l(n,7,0,e.viewmodel.Options),l(n,16,0,e.viewmodel.Question),l(n,19,0,e.viewmodel.Options)}),null)}function T(l){return u.Ob(0,[(l()(),u.sb(0,0,null,null,1,"ng-component",[],null,null,null,v,h)),u.rb(1,4308992,null,0,b.a,[p.k,p.a,u.k],null,null)],(function(l,n){l(n,1,0)}),null)}var C=u.ob("ng-component",b.a,T,{},{},[])},zsI8:function(l,n,e){"use strict";var u=e("An3Y");e.d(n,"a",(function(){return u.a}))}}]);