{"version":3,"sources":["./src/app/general-subject/general-subject-create.component.html","./src/app/general-subject/general-subject-details.component.html","./src/app/general-subject/general-subject-manage.component.html","./src/app/general-subject/general-subject-update.component.html","./src/app/curriculum/curriculum.service.ts","./src/app/general-subject/general-subject-create.component.ts","./src/app/general-subject/general-subject-delete.component.ts","./src/app/general-subject/general-subject-details.component.ts","./src/app/general-subject/general-subject-manage.component.ts","./src/app/general-subject/general-subject-update-publish.component.ts","./src/app/general-subject/general-subject-update-unpublish.component.ts","./src/app/general-subject/general-subject-update.component.ts","./src/app/general-subject/general-subject.module.ts","./src/app/general-subject/general-subject.route.ts","./src/app/general-subject/general-subject.service.ts","./src/app/general-subject/index.ts","./src/app/shared/constants/common.constants.ts","./src/app/shared/model/content/general-subject.model.ts"],"names":[],"mappings":"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","file":"general-subject-general-subject-module-es2015.js","sourcesContent":["export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row-flex stepper\\\">\\r\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\r\\n    <a class=\\\"nav-link active\\\" id=\\\"createSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createSubject\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"createSubject\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 1\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Create subject\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"createConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createConcept\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"createConcept\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 2\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Create concepts and topics\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 3\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Summary\\r\\n      </span>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\r\\n\\r\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"createSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createSubject-tab\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name*</label>\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\"\\r\\n            inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\" />\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\r\\n            characters - Alphabets</div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\r\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n          </label>\\r\\n          <textarea class=\\\"form-control description-form\\\" name=\\\"description\\\"\\r\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\r\\n            formControlName=\\\"generalSubjectDescription\\\" maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">\\r\\n            Allowed characters - Alphabets, Numbers and\\r\\n            Special characters\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Grade*\\r\\n          </label>\\r\\n          <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n            placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedSubjectGrade\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\"\\r\\n              (click)=\\\"loadGeneralSubjectTree()\\\">\\r\\n              Next\\r\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"createConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createConcept-tab\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xxl-4 p-2\\\">\\r\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"updatedJSONTree.length > 1\\\">\\r\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                Expand all\\r\\n              </span>\\r\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                Collapse all\\r\\n              </span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div id=\\\"buildTree\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-8\\\">\\r\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\r\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\r\\n              concept / topic\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\r\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\r\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"w-100 p-4\\\">\\r\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\r\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\r\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\r\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\r\\n              <p><b>Grade :</b> {{grade}}</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"my-2 rounded p-3 border-danger\\\" *ngIf=\\\"enableInstruction\\\">\\r\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check text-danger mr-2\\\"></i> Select a subject node and do your actions.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Add atleast one concept or one topic for general subject\\r\\n          creation.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't drag and drop on top of\\r\\n          root node\\r\\n        </p>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <div class=\\\"btn btn-danger prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\r\\n          </div>\\r\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\r\\n            Next\\r\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\r\\n\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>Before changes</h5>\\r\\n            <div id=\\\"beforeChangeTree\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>After changes</h5>\\r\\n            <div id=\\\"afterChangeTree\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\r\\n            Previous\\r\\n          </span>\\r\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\r\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n            Save as draft\\r\\n          </div>\\r\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\r\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\r\\n            Save and publish\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectEditModal\\\">\\r\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n        <h5 class=\\\"modal-title text-white\\\">\\r\\n          {{modalTitleName}} concept / topic\\r\\n        </h5>\\r\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\r\\n          <i class=\\\"fa fa-times\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"form-group mb-2\\\">\\r\\n          <label class=\\\"col-form-label\\\">Type\\r\\n          </label>\\r\\n          <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n            bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" (change)=\\\"onNodeTypeChange()\\\"\\r\\n            [searchable]=\\\"false\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Concept\\r\\n              name\\r\\n            </label>\\r\\n            <input type=\\\"text\\\" placeholder=\\\"Enter concept name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\r\\n              formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptName.errors }\\\">\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Concept\\r\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n            </label>\\r\\n            <textarea class=\\\"form-control description-form\\\"\\r\\n              placeholder=\\\"Enter description (minlength: 3 and maxlength: 250)\\\" formControlName=\\\"conceptDescription\\\"\\r\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptDescription.errors }\\\"></textarea>\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special characters\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Topic\\r\\n              name\\r\\n            </label>\\r\\n            <input type=\\\"text\\\" placeholder=\\\"Enter topic name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\r\\n              formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicName.errors }\\\">\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Topic\\r\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n            </label>\\r\\n            <textarea class=\\\"form-control description-form\\\"\\r\\n              placeholder=\\\"Enter description(minlength: 3 and maxlength: 250)\\\" formControlName=\\\"topicDescription\\\"\\r\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\r\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicDescription.errors }\\\"></textarea>\\r\\n            <div class=\\\"text-muted font-15 my-2\\\">\\r\\n              Allowed characters - Alphabets, Numbers and Special characters\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Primary\\r\\n              applicable curriculum and\\r\\n              grade\\r\\n            </label>\\r\\n            <div class=\\\"form-row pr-0 mr-0\\\">\\r\\n              <div class=\\\"col-md-6 mb-2\\\">\\r\\n                <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                  placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n              <div class=\\\"col-md-6 mb-2\\\">\\r\\n                <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                  placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\r\\n                </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\r\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\r\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n          Reset\\r\\n        </div>\\r\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\r\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n          Save\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n  <a class=\\\"btn btn-success mr-2\\\" [routerLink]=\\\"['/general-subject',subjectId, 'edit' ]\\\">\\r\\n    <i class=\\\"fa fa-edit mr-2\\\"></i>Edit general subject\\r\\n  </a>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row mb-3 p-3\\\">\\r\\n  <div class=\\\"col-xxl-4 mb-2\\\">\\r\\n    <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\r\\n      <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\r\\n        <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n        <span *ngIf=\\\"active === false\\\">\\r\\n          Expand all\\r\\n        </span>\\r\\n        <span *ngIf=\\\"active === true\\\">\\r\\n          Collapse all\\r\\n        </span>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"tree-scroll\\\">\\r\\n      <div id=\\\"treeView\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-xxl-8 mb-2\\\">\\r\\n    <div class=\\\"d-flex justify-content-start badge-lightBlue rounded p-2 mb-2\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\r\\n      <div>\\r\\n        NOTE : <i class=\\\"fa fa-book ml-2\\\"></i> - Subject,<i class=\\\"fa fa-sitemap ml-2\\\"></i> - Concept,\\r\\n        <i class=\\\"fa fa-file ml-2\\\"></i> - Topic\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'root'\\\">\\r\\n      <p><b>Subject name</b></p>\\r\\n      <p>{{nodeName}}</p>\\r\\n      <p><b>Subject description</b></p>\\r\\n      <p>{{nodeDescription}}</p>\\r\\n      <p><b>Grade</b></p>\\r\\n      <p>{{grade}}</p>\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"nodeType == 'concept'\\\" class=\\\"p-3\\\">\\r\\n      <p><b>Concept name</b></p>\\r\\n      <p>{{nodeName}}</p>\\r\\n      <p><b>Concept description</b></p>\\r\\n      <p>{{nodeDescription}}</p>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'topic'\\\">\\r\\n      <div class=\\\"d-flex w-100 justify-content-between mb-3\\\">\\r\\n        <div>\\r\\n          <p><b>Topic name</b></p>\\r\\n          <p>{{nodeName}}</p>\\r\\n          <p><b>Topic description</b></p>\\r\\n          <p>{{nodeDescription}}</p>\\r\\n          <p><b>Curriculum</b></p>\\r\\n          <p>{{curriculum}}</p>\\r\\n          <p><b>Grade</b></p>\\r\\n          <p>{{grade}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","export default \"<div class=\\\"w-100 d-flex justify-content-end my-3\\\">\\r\\n  <a [routerLink]=\\\"['/general-subject','create']\\\">\\r\\n    <div class=\\\"btn btn-primary\\\">\\r\\n      <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new subject\\r\\n    </div>\\r\\n  </a>\\r\\n</div>\\r\\n<div class=\\\"table-responsive\\\" *ngIf=\\\"generalSubjects\\\">\\r\\n  <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"generalSubjectsTable\\\">\\r\\n    <thead>\\r\\n      <tr jhiSort [(predicate)]=\\\"predicate\\\" [(ascending)]=\\\"reverse\\\" [callback]=\\\"reset.bind(this)\\\">\\r\\n        <th jhiSortBy=\\\"title\\\">Subject Name <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\r\\n        <th jhiSortBy=\\\"grade\\\">Grade<span class=\\\"fa fa-sort ml-1\\\"></span></th>\\r\\n        <th jhiSortBy=\\\"status\\\">Status <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\r\\n        <th class=\\\"fixed-column\\\">Update status</th>\\r\\n        <th class=\\\"fixed-column\\\">Actions</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody infinite-scroll (scrolled)=\\\"loadPage(page + 1)\\\" [infiniteScrollDisabled]=\\\"page >= links['last']\\\"\\r\\n      [infiniteScrollDistance]=\\\"0\\\">\\r\\n      <tr *ngFor=\\\"let generalSubject of generalSubjects ;trackBy: trackId\\\">\\r\\n        <td data-column=\\\"Subject name\\\">{{generalSubject.title}}</td>\\r\\n        <td data-column=\\\"Grade\\\">{{generalSubject.grade}}</td>\\r\\n        <td data-column=\\\"Status\\\">{{generalSubject.status}}</td>\\r\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Update status\\\">\\r\\n          <a class=\\\"btn btn-outline-success mr-1 mb-1\\\"\\r\\n            *ngIf=\\\"generalSubject.status === 'DRAFT' || generalSubject.status === 'INACTIVE'\\\"\\r\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'publish']\\\">\\r\\n            Publish\\r\\n          </a>\\r\\n          <a class=\\\"btn btn-outline-danger mr-1 mb-1\\\" *ngIf=\\\"generalSubject.status === 'ACTIVE'\\\"\\r\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'unpublish']\\\">\\r\\n            Unpublish\\r\\n          </a>\\r\\n        </td>\\r\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Actions\\\">\\r\\n          <div class=\\\"d-flex\\\">\\r\\n            <a class=\\\"btn btn-outline-info mr-1 btn-icon d-flex justify-content-center align-items-center mb-1\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'view' ]\\\" tooltip=\\\"View general subject\\\">\\r\\n              <i class=\\\"fa fa-eye\\\"></i>\\r\\n            </a>\\r\\n\\r\\n            <a class=\\\"btn btn-outline-success mr-1 btn-icon d-flex justify-content-center align-items-center mb-1\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'edit' ]\\\" tooltip=\\\"Edit general subject\\\">\\r\\n              <i class=\\\"fa fa-edit\\\"></i>\\r\\n            </a>\\r\\n\\r\\n            <div class=\\\"btn btn-outline-danger mr-1 btn-icon d-flex justify-content-center align-items-center mb-1\\\"\\r\\n              *ngIf=\\\"generalSubject.status === 'INACTIVE' || generalSubject.status === 'DRAFT'\\\"\\r\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'delete']\\\" tooltip=\\\"Delete general subject\\\">\\r\\n              <i class=\\\"fa fa-trash\\\"></i>\\r\\n            </div>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n</div>\"","export default \"<div class=\\\"col-xxl-12 justify-content-between d-flex my-3\\\">\\r\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\r\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row-flex stepper\\\">\\r\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\r\\n    <a class=\\\"nav-link active\\\" id=\\\"editSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#editSubject\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"editSubject\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 1\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Edit subject\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"manageConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#manageConcept\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"manageConcept\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 2\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Manage concepts and topics\\r\\n      </span>\\r\\n    </a>\\r\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\r\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\r\\n      <span class=\\\"index-round\\\">\\r\\n        Step 3\\r\\n      </span>\\r\\n      <span class=\\\"step-label\\\">\\r\\n        Summary\\r\\n      </span>\\r\\n    </a>\\r\\n  </div>\\r\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\r\\n\\r\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"editSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"editSubject-tab\\\">\\r\\n\\r\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name*</label>\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"subjectName\\\"\\r\\n            placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\" inputRestriction=\\\"alphabetsWithSpace\\\"\\r\\n            formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\" />\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\r\\n            characters - Alphabets</div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\r\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n          </label>\\r\\n          <textarea class=\\\"form-control description-form\\\" id=\\\"description\\\" name=\\\"description\\\"\\r\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\r\\n            formControlName=\\\"generalSubjectDescription\\\" maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\r\\n          <div class=\\\"text-muted font-15 my-2\\\">\\r\\n            Allowed characters - Alphabets, Numbers and\\r\\n            Special characters\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\r\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Grade*\\r\\n          </label>\\r\\n          <ng-select [items]=\\\"allGrades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n            placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedSubjectGrade\\\">\\r\\n          </ng-select>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\" (click)=\\\"updateSubjectTree()\\\">\\r\\n              Next\\r\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"manageConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"manageConcept-tab\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xxl-4 p-2\\\">\\r\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\r\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\r\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\r\\n                Expand all\\r\\n              </span>\\r\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\r\\n                Collapse all\\r\\n              </span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div id=\\\"buildTree\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xxl-8\\\">\\r\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\r\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\r\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\r\\n              concept / topic\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\r\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\r\\n            </div>\\r\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\r\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"w-100 p-4\\\">\\r\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\r\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\r\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\r\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\r\\n              <p><b>Grade :</b> {{grade}}</p>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"my-2 p-3 border-danger rounded\\\">\\r\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Select a node and do your actions.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Without any changes, you can't update general subject.\\r\\n        </p>\\r\\n        <p class=\\\"text-primary\\\">\\r\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't do drag and drop on top\\r\\n          of\\r\\n          root node\\r\\n        </p>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <div class=\\\"btn btn-danger prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\r\\n          </div>\\r\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\" (click)=\\\"loadUpdatedJsonTree()\\\">\\r\\n            Next\\r\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"row mb-3\\\">\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>Before changes</h5>\\r\\n            <div id=\\\"beforeChangeTree\\\"></div>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <h5>After changes</h5>\\r\\n            <div id=\\\"afterChangeTree\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\r\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\r\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\r\\n            Previous\\r\\n          </span>\\r\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\r\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n            Save as draft\\r\\n          </div>\\r\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\r\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\r\\n            Save and publish\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectModal\\\">\\r\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\r\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\r\\n        <h5 class=\\\"modal-title text-white\\\">\\r\\n          {{modalTitleName}} concept / topic\\r\\n        </h5>\\r\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\r\\n          <i class=\\\"fa fa-times\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <form [formGroup]=\\\"conceptAndTopicForm\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"col-form-label\\\">Type\\r\\n            </label>\\r\\n            <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n              bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" [searchable]=\\\"false\\\"\\r\\n              (change)=\\\"onNodeTypeChange()\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"nodeType === 'concept'\\\">\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Concept\\r\\n                name\\r\\n              </label>\\r\\n              <input type=\\\"text\\\" placeholder=\\\"Enter concept name (min length: 3 and max length: 75)\\\"\\r\\n                class=\\\"form-control\\\" formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"75\\\">\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Concept\\r\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n              </label>\\r\\n              <textarea class=\\\"form-control description-form\\\"\\r\\n                placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\" formControlName=\\\"conceptDescription\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special characters\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div *ngIf=\\\"nodeType === 'topic'\\\">\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Topic\\r\\n                name\\r\\n              </label>\\r\\n              <input type=\\\"text\\\" placeholder=\\\"Enter topic name(min length: 3 and max length: 75)\\\" class=\\\"form-control\\\"\\r\\n                formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\">\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Topic\\r\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\r\\n              </label>\\r\\n              <textarea class=\\\"form-control description-form\\\"\\r\\n                placeholder=\\\"Enter description(min length: 3 and max length: 250)\\\" formControlName=\\\"topicDescription\\\"\\r\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\r\\n              <div class=\\\"text-muted font-15 my-2\\\">\\r\\n                Allowed characters - Alphabets, Numbers and Special characters\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group mb-2\\\">\\r\\n              <label class=\\\"col-form-label\\\">Primary\\r\\n                applicable curriculum and\\r\\n                grade\\r\\n              </label>\\r\\n              <div class=\\\"form-row pr-0 mr-0\\\">\\r\\n                <div class=\\\"col-md-6 mb-2\\\">\\r\\n                  <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\r\\n                    placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-6 mb-2\\\">\\r\\n                  <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\r\\n                    placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\r\\n                  </ng-select>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\r\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\r\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\r\\n          Reset\\r\\n        </div>\\r\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\r\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\r\\n          Save\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","import { Injectable } from '@angular/core';\r\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { Observable } from 'rxjs';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { curriculum, curriculumSearch, curriculumAffiliations } from '../shared/constants/service.constants';\r\nimport { IOrganisationSubSchool } from '../shared/model/common/organisation-sub-school.model';\r\n\r\ntype EntityResponseType = HttpResponse<ICurriculum>;\r\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\r\ntype curriculumAffiliationArrayResponseType = HttpResponse<IOrganisationSubSchool[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class CurriculumService {\r\n    public curriculumResourceUrl = environment.API_URL + curriculum;\r\n    public curriculumResourceUrlSearch = environment.API_URL + curriculumSearch;\r\n    public curriculumAffiliationResourceUrlSearch = environment.API_URL + curriculumAffiliations;\r\n\r\n    constructor(protected http: HttpClient) { }\r\n\r\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\r\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\r\n    }\r\n\r\n    getCurriculumByCurriculumId(id: number): Observable<EntityResponseType> {\r\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\r\n        const options = createRequestOption(req);\r\n        var reqJSON = {\r\n            \"isExtraCurriculum\": false,\r\n            \"status\": ACTIVE\r\n        };\r\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\r\n    }\r\n\r\n    deleteCurriculum(id: number): Observable<HttpResponse<any>> {\r\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\r\n    }\r\n\r\n    getAffiliationsByCurriculumId(id: number): Observable<curriculumAffiliationArrayResponseType> {\r\n        return this.http.get<IOrganisationSubSchool[]>(`${this.curriculumAffiliationResourceUrlSearch}/${id}`, { observe: 'response' });\r\n    }\r\n}\r\n","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { DRAFT, CREATED, ACTIVE } from '../shared/constants/common.constants';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-create.component.html\",\r\n  providers: [GeneralSubjectService, CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectCreateComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n  generalSubjectForm: FormGroup;\r\n  conceptAndTopicForm: FormGroup;\r\n  generalSubject: IGeneralSubject;\r\n  curriculumList: IGeneralSubject[] = [];\r\n  conceptAndTopicTree: IGeneralSubject[] = [];\r\n  updatedJSONTree: IGeneralSubject[] = [];\r\n  nodeTypes: any[] = [];\r\n  allGrades: any[] = [];\r\n  grades: any[] = [];\r\n  subjectName: string;\r\n  subjectDescription: string;\r\n  nodeType: string;\r\n  nodeTitle: string;\r\n  nodeDescription: string;\r\n  curriculum: string;\r\n  grade: string;\r\n  nodeOperationType: string;\r\n  modalTitleName: string;\r\n  validateSubjectForm: boolean;\r\n  validateNodeForm: boolean;\r\n  enableNodeOperation: boolean;\r\n  enableEditNodeOperation: boolean;\r\n  enableInstruction: boolean;\r\n  enableModalOperation: boolean;\r\n  validateNode: boolean;\r\n  disableDropdown: boolean;\r\n  enableExpandNode: boolean;\r\n  selectedNodeType: any;\r\n  selectedCurriculum: any;\r\n  selectedGrade: any;\r\n  selectedSubjectGrade: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public commonService: CommonService,\r\n    private changeDetectRef: ChangeDetectorRef,\r\n    public errorHandler: CoreErrorHandler\r\n  ) {\r\n    this.validateSubjectForm = true;\r\n    this.validateNode = true;\r\n    this.validateNodeForm = true;\r\n    this.enableExpandNode = false;\r\n  }\r\n\r\n  getNodeTypeList() {\r\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\r\n      this.nodeTypes = nodeTypeData.generalSubject;\r\n      this.allGrades = nodeTypeData.grade;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.createGeneralSubjectGroup();\r\n    this.pluginService.stepper();\r\n    this.getCurriculumList();\r\n    this.getNodeTypeList();\r\n  }\r\n\r\n  createGeneralSubjectGroup() {\r\n    this.generalSubjectForm = this.formBuilder.group({\r\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    });\r\n    this.conceptAndTopicForm = this.formBuilder.group({\r\n      conceptName: new FormControl(''),\r\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\r\n      topicName: new FormControl(''),\r\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    })\r\n  }\r\n\r\n  get formControl() { return this.generalSubjectForm.controls; }\r\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  validateGeneralSubjectForm() {\r\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n    if (this.subjectName) {\r\n      this.validateSubjectForm = false;\r\n    } else {\r\n      this.validateSubjectForm = true;\r\n    }\r\n    if (this.selectedSubjectGrade) {\r\n      this.validateSubjectForm = false;\r\n    } else {\r\n      this.validateSubjectForm = true;\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      this.validateSubjectForm = true;\r\n    }\r\n    if (this.generalSubjectForm.valid) {\r\n      this.validateSubjectForm = false;\r\n    }\r\n  }\r\n\r\n  loadGeneralSubjectTree() {\r\n    if (this.generalSubjectForm.valid) {\r\n      this.conceptAndTopicTree = [\r\n        {\r\n          \"text\": this.subjectName,\r\n          \"icon\": \"fa fa-book\",\r\n          \"data\": {\r\n            \"name\": this.subjectName,\r\n            \"description\": this.subjectDescription,\r\n            \"baseGrade\": this.selectedSubjectGrade.name,\r\n            \"status\": null,\r\n            \"editStatus\": CREATED\r\n          },\r\n          \"parent\": \"#\",\r\n          \"type\": \"root\"\r\n        }\r\n      ];\r\n      this.pluginService.jsTree(\"#buildTree\", this.conceptAndTopicTree, true);\r\n      this.pluginService.jsTree(\"#beforeChangeTree\", this.conceptAndTopicTree, false);\r\n      this.enableInstruction = true;\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      return\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nodeOnSelection();\r\n    this.generateJSONTreeOnDragAndDrop();\r\n  }\r\n\r\n  onNodeTypeChange() {\r\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\r\n    if (this.selectedNodeType) {\r\n      this.nodeType = this.selectedNodeType.name;\r\n      if (this.nodeType === 'concept') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\r\n        this.resetConceptAndTopicFormValues();\r\n      } else if (this.nodeType === 'topic') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\r\n        this.resetConceptAndTopicFormValues();\r\n      }\r\n    }\r\n  }\r\n\r\n  onCurriculumChange() {\r\n    let gradesApplicableFrom, gradesApplicableTo;\r\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n      gradesApplicableFrom = null;\r\n      gradesApplicableTo = null;\r\n    } else {\r\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n    }\r\n  }\r\n\r\n  generateGradeList(min, max) {\r\n    this.grades = [];\r\n    for (var i = min; i <= max; i++) {\r\n      this.grades.push({\r\n        \"id\": i,\r\n        \"name\": i\r\n      });\r\n    }\r\n    return this.grades;\r\n  }\r\n\r\n  //Reset all form values\r\n  resetConceptAndTopicFormValues() {\r\n    this.conceptAndTopicForm.reset();\r\n    this.selectedNodeType = null;\r\n    this.selectedCurriculum = null;\r\n    this.selectedGrade = null;\r\n  }\r\n\r\n  validateConceptAndTopicForm() {\r\n    let conceptName, topicName;\r\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n    if (this.nodeType === 'concept') {\r\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    } else if (this.nodeType === 'topic') {\r\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    //General Subject Form Validation\r\n    this.validateGeneralSubjectForm();\r\n    //Concept and topic form validation\r\n    this.validateConceptAndTopicForm();\r\n    this.changeDetectRef.detectChanges();\r\n  }\r\n\r\n  //Tree selection and change method call\r\n  nodeOnSelection() {\r\n    let localThisObj = this;\r\n    $('#buildTree').on('changed.jstree', function (e, data) {\r\n      let i, j, curriculumId;\r\n      for (i = 0, j = data.selected.length; i < j; i++) {\r\n        localThisObj.nodeType = data.node.type;\r\n        if (localThisObj.nodeType === \"root\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        } else if (localThisObj.nodeType === \"concept\") {\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else if (localThisObj.nodeType === \"topic\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          curriculumId = data.node.data.baseCurriculumId;\r\n          if (curriculumId === null) {\r\n            localThisObj.selectedCurriculum = null;\r\n            localThisObj.curriculum = null;\r\n          } else {\r\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\r\n          }\r\n          localThisObj.grade = data.node.data.baseGrade;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else {\r\n          localThisObj.enableNodeOperation = false;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //Concept and topic details form setvalues method\r\n  conceptAndTopicFormSetValues(Objectthis) {\r\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\r\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\r\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\r\n    if (Objectthis.nodeType === \"concept\") {\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: Objectthis.nodeTitle,\r\n        conceptDescription: Objectthis.nodeDescription,\r\n        topicName: \"\",\r\n        topicDescription: \"\"\r\n      })\r\n    } else if (Objectthis.nodeType === \"topic\") {\r\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\r\n        this.selectedCurriculum = null;\r\n        this.selectedGrade = null;\r\n      } else {\r\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\r\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\r\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\r\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\r\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\r\n        this.selectedGrade = this.grades[gradeIndex];\r\n      }\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: \"\",\r\n        conceptDescription: \"\",\r\n        topicName: Objectthis.nodeTitle,\r\n        topicDescription: Objectthis.nodeDescription\r\n      })\r\n    }\r\n  }\r\n\r\n  openConceptAndTopicModal() {\r\n    this.pluginService.showModalWindow(\"#generalSubjectEditModal\");\r\n  }\r\n\r\n  closeConceptAndTopicModal() {\r\n    this.pluginService.hideModalWindow(\"#generalSubjectEditModal\");\r\n  }\r\n\r\n  closeWithOutSavingNode() {\r\n    var localthisObject = this;\r\n    swal({\r\n      title: \"Are you sure to close without saving ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm === true) {\r\n          localthisObject.closeConceptAndTopicModal();\r\n          localthisObject.disableNodeOperations();\r\n        }\r\n      });\r\n  }\r\n\r\n  disableNodeOperations() {\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"\"\r\n    this.resetConceptAndTopicFormValues();\r\n    let treeCallback = $('#buildTree').jstree(true);\r\n    treeCallback.deselect_all();\r\n  }\r\n\r\n  //Create node method\r\n  createNode() {\r\n    this.nodeOperationType = \"create\";\r\n    this.modalTitleName = \"Add new\";\r\n    this.openConceptAndTopicModal();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.disableDropdown = false;\r\n    this.enableModalOperation = false;\r\n    this.selectedNodeType = null;\r\n  }\r\n\r\n  //Edit node method\r\n  editNode() {\r\n    this.nodeOperationType = \"edit\";\r\n    this.modalTitleName = \"Edit\";\r\n    this.disableDropdown = true;\r\n    this.conceptAndTopicForm.patchValue({\r\n      conceptName: this.nodeTitle,\r\n      topicName: this.nodeTitle,\r\n      conceptDescription: this.nodeDescription,\r\n      topicDescription: this.nodeDescription\r\n    })\r\n    this.openConceptAndTopicModal();\r\n    this.enableModalOperation = true;\r\n  }\r\n\r\n  //Save node method\r\n  saveNode() {\r\n    if (this.conceptAndTopicForm.valid) {\r\n      this.validateNodeForm = false;\r\n      var newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, nodeID, data, curriculum, grade;\r\n      position = 'last';\r\n      parent = $('#buildTree').jstree('get_selected')[0];\r\n      treeCallback = $('#buildTree').jstree(true);\r\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n      nodeID = treeCallback.get_selected()[0];\r\n      nodeIndex = jsonArray.findIndex(item => item.id === nodeID);\r\n      if (this.nodeOperationType === \"create\") {\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"concept\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"orderNumber\": 0,\r\n              \"status\": null,\r\n              \"editStatus\": CREATED,\r\n              \"baseCurriculumId\": 0,\r\n              \"baseGrade\": 0,\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"topic\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"baseCurriculumId\": curriculum,\r\n              \"baseGrade\": grade,\r\n              \"orderNumber\": 0,\r\n              \"status\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n      } else if (this.nodeOperationType === \"edit\") {\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          data = {\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": 0,\r\n            \"baseCurriculumId\": 0,\r\n            \"baseGrade\": 0,\r\n            \"status\": null,\r\n            \"editStatus\": CREATED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        } else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          data = {\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"baseCurriculumId\": curriculum,\r\n            \"baseGrade\": grade,\r\n            \"orderNumber\": 0,\r\n            \"status\": null,\r\n            \"editStatus\": CREATED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        }\r\n      }\r\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true);\r\n      this.updateJSONTreeWithOrderNum(jsonArray);\r\n      treeCallback.deselect_all();\r\n      this.nodeType = \"\";\r\n      this.enableNodeOperation = false;\r\n      this.closeConceptAndTopicModal();\r\n      this.resetConceptAndTopicFormValues();\r\n    }\r\n    if (this.conceptAndTopicForm.invalid) {\r\n      this.validateNodeForm = true;\r\n      return;\r\n    }\r\n  }\r\n\r\n  //Delete node method\r\n  deleteNode() {\r\n    var nodeID, jsonArray, treeCallback;\r\n    this.nodeOperationType = \"delete\";\r\n    treeCallback = $(\"#buildTree\").jstree();\r\n    nodeID = treeCallback.get_selected()[0];\r\n    treeCallback.delete_node($('#' + nodeID))\r\n    jsonArray = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\r\n    this.updateJSONTreeWithOrderNum(jsonArray);\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"root\";\r\n  }\r\n\r\n  //Generate JSON tree on drag and drop\r\n  generateJSONTreeOnDragAndDrop() {\r\n    var localObj = this;\r\n    $(document).on('dnd_stop.vakata', function (e, data) {\r\n      setTimeout(function () {\r\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        localObj.updateJSONTreeWithOrderNum(json);\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  trimValue(value) {\r\n    if (value === null || value === undefined) {\r\n      return value;\r\n    } else {\r\n      return value.trim();\r\n    }\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (ErrRes: HttpErrorResponse) => this.onSaveError(ErrRes));\r\n  }\r\n\r\n  saveAsDraft() {\r\n    this.updatedJSONTree[0].data.status = DRAFT;\r\n    this.saveGeneralSubject();\r\n  }\r\n\r\n  saveAndPublish() {\r\n    this.updatedJSONTree[0].data.status = ACTIVE;\r\n    this.saveGeneralSubject();\r\n  }\r\n\r\n  saveGeneralSubject() {\r\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\r\n  }\r\n\r\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\r\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\r\n    this.previousUrl();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.generalSubjectForm.reset();\r\n  }\r\n\r\n  protected onSaveError(res: HttpErrorResponse) {\r\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\r\n  }\r\n\r\n  private createGeneralSubjectForm(): IGeneralSubject[] {\r\n    return this.updatedJSONTree;\r\n  }\r\n\r\n  //update JSON array with order number \r\n  updateJSONTreeWithOrderNum(json) {\r\n    this.updatedJSONTree = [];\r\n    this.updatedJSONTree = json;\r\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\r\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n      this.validateNode = true;\r\n    } else if (this.updatedJSONTree[0].type === \"root\") {\r\n      this.validateNode = false;\r\n    }\r\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\r\n      this.updatedJSONTree[i].data.orderNumber = i;\r\n      //Remove unwanted objects (for api call) from the JSON tree\r\n      delete this.updatedJSONTree[i].state;\r\n      delete this.updatedJSONTree[i].a_attr;\r\n      delete this.updatedJSONTree[i].li_attr;\r\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\r\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n        this.validateNode = true;\r\n      }\r\n    }\r\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\r\n  }\r\n\r\n  protected onError(errRes: HttpErrorResponse) {\r\n    this.errorHandler.handleError(errRes);\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    if (this.updatedJSONTree.length > 1) {\r\n      this.enableExpandNode = !this.enableExpandNode;\r\n      if (this.enableExpandNode) {\r\n        this.pluginService.openJsTreeAllNodes(\"#buildTree\");\r\n      } else {\r\n        this.pluginService.closeJsTreeAllNodes(\"#buildTree\")\r\n      }\r\n    }\r\n  }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject');\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { JhiEventManager } from 'ng-jhipster';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService, CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectDeleteComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        protected eventManager: JhiEventManager,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.deletegeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToDeleteResponse(resp: Observable<HttpResponse<any>>) {\r\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteSuccess(res), (res: HttpErrorResponse) => this.onError(res));\r\n    }\r\n\r\n    deletegeneralSubject(generalSubject) {\r\n        var localthisObject = this;\r\n        swal({\r\n            title: \"Are you sure to delete this general subject ?\",\r\n            type: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes\",\r\n            confirmButtonColor: \"#32b432\",\r\n            cancelButtonText: \"No\",\r\n            closeOnConfirm: false,\r\n            closeOnCancel: true\r\n        },\r\n            function (isConfirm) {\r\n                if (isConfirm) {\r\n                    localthisObject.confirmDelete(generalSubject.id);\r\n                } else {\r\n                    localthisObject.previousUrl();\r\n                }\r\n            });\r\n    }\r\n\r\n    confirmDelete(id: number) {\r\n        this.subscribeToDeleteResponse(this.generalSubjectService.delete(id));\r\n    }\r\n\r\n    previousUrl() {\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n    protected onDeleteSuccess(resp) {\r\n        this.pluginService.alertMessage(\"General subject deleted successfully\", \"success\");\r\n        this.previousUrl();\r\n    }\r\n\r\n    onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n}","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-details.component.html\",\r\n  providers: [GeneralSubjectService,CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectDetailsComponent implements OnInit {\r\n  generalSubject: IGeneralSubject[] = [];\r\n  curriculumList: IGeneralSubject[];\r\n  nodeType: string;\r\n  nodeName: string;\r\n  nodeDescription: string;\r\n  subjectId: number;\r\n  curriculum: string;\r\n  grade: string;\r\n  active: boolean;\r\n\r\n  constructor(\r\n    public pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public router: Router,\r\n    public errorHandler: CoreErrorHandler\r\n  ) {\r\n    this.active = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n      this.generalSubject = generalSubject;\r\n      this.updateGeneralSubjectValues(generalSubject);\r\n    });\r\n    this.getCurriculumList();\r\n  }\r\n\r\n  updateGeneralSubjectValues(generalSubject: IGeneralSubject[]) {\r\n    this.generalSubject = generalSubject;\r\n    this.pluginService.jsTree(\"#treeView\", this.generalSubject, false);\r\n    this.subjectId = this.generalSubject[0].data.id;\r\n  }\r\n\r\n  showConceptAndTopicDetails() {\r\n    var localThisObj = this;\r\n    $('#treeView')\r\n      .on('changed.jstree', function (e, data) {\r\n        var i, j, curriculumId;\r\n        for (i = 0, j = data.selected.length; i < j; i++) {\r\n          localThisObj.nodeType = data.node.type;\r\n          if (localThisObj.nodeType === \"root\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n            localThisObj.grade = data.node.data.baseGrade;\r\n          }\r\n          else if (localThisObj.nodeType === \"concept\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n          } else if (localThisObj.nodeType === \"topic\") {\r\n            localThisObj.nodeName = data.node.data.name;\r\n            localThisObj.nodeDescription = data.node.data.description;\r\n            curriculumId = data.node.data.baseCurriculumId;\r\n            if (curriculumId === null) {\r\n              localThisObj.curriculum = null;\r\n            } else {\r\n              localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\r\n            }\r\n            localThisObj.grade = data.node.data.baseGrade;\r\n          } else {\r\n            localThisObj.nodeType = \"\"\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.showConceptAndTopicDetails();\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    this.active = !this.active;\r\n    if (this.active) {\r\n      this.pluginService.openJsTreeAllNodes(\"#treeView\");\r\n    } else {\r\n      this.pluginService.closeJsTreeAllNodes(\"#treeView\")\r\n    }\r\n  }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  onError(errRes: HttpErrorResponse) {\r\n    this.errorHandler.handleError(errRes);\r\n    }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject')\r\n  }\r\n}","import { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport { Router } from '@angular/router';\r\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\r\nimport { Subscription } from 'rxjs';\r\nimport { Principal } from '../core';\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { ITEMS_PER_PAGE } from '../shared';\r\nimport { HttpResponse, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-manage.component.html\",\r\n  providers: [GeneralSubjectService,CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectManageComponent implements OnInit, OnDestroy {\r\n  generalSubjects: IGeneralSubject[];\r\n  eventSubscriber: Subscription;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n  currentAccount: any;\r\n  predicate: any;\r\n  reverse: any;\r\n  page: any;\r\n  links: any;\r\n\r\n  constructor(\r\n    public _router: Router,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    protected eventManager: JhiEventManager,\r\n    protected parseLinks: JhiParseLinks,\r\n    protected principalService: Principal,\r\n    public pluginService: PluginService,\r\n    public errorHandler: CoreErrorHandler\r\n  ) {\r\n    this.generalSubjects = [];\r\n    this.itemsPerPage = ITEMS_PER_PAGE;\r\n    this.page = 0;\r\n    this.links = {\r\n      last: 0\r\n    };\r\n    this.predicate = 'id';\r\n    this.reverse = false;\r\n  }\r\n\r\n  reset() {\r\n    this.page = 0;\r\n    this.generalSubjects = [];\r\n    this.loadGeneralSubjects();\r\n  }\r\n\r\n  loadPage(page) {\r\n    this.page = page;\r\n    this.loadGeneralSubjects();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadGeneralSubjects();\r\n    this.principalService.identity().then(account => {\r\n      this.currentAccount = account;\r\n    });\r\n    this.registerChangeInGeneralSubjects();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.eventManager.destroy(this.eventSubscriber);\r\n  }\r\n\r\n  trackId(index: number, item: IGeneralSubject) {\r\n    return item.id;\r\n  }\r\n\r\n  sort() {\r\n    const result = [this.predicate + ',' + (this.reverse ? 'asc' : 'desc')];\r\n    if (this.predicate !== 'id') {\r\n      result.push('id');\r\n    }\r\n    return result;\r\n  }\r\n\r\n  registerChangeInGeneralSubjects() {\r\n    this.eventSubscriber = this.eventManager.subscribe('generalSubjectListModification', response => this.reset());\r\n  }\r\n\r\n  loadGeneralSubjects() {\r\n    this.generalSubjectService\r\n      .getAllSubjects({\r\n        page: this.page,\r\n        size: this.itemsPerPage,\r\n        sort: this.sort()\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<IGeneralSubject[]>) => this.paginateGeneralSubjects(res.body, res.headers),\r\n        (res: HttpErrorResponse) => this.onError(res)\r\n      );\r\n  }\r\n\r\n  protected paginateGeneralSubjects(data: IGeneralSubject[], headers: HttpHeaders) {\r\n    this.links = this.parseLinks.parse(headers.get('link'));\r\n    this.totalItems = parseInt(headers.get('X-Total-Count'), 10);\r\n    if (data.length > 0) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        this.generalSubjects.push(data[i]);\r\n      }\r\n    } else {\r\n      this.pluginService.alertMessage(\"No data found..!\", \"warning\");\r\n    }\r\n  }\r\n\r\n  protected onError(errRes: HttpErrorResponse) {\r\n     this.errorHandler.handleError(errRes);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ACTIVE } from '../shared/constants/common.constants'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService,CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectPublishComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.publishGeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    publishGeneralSubject(generalSubject) {\r\n        generalSubject.status = ACTIVE;\r\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n\r\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\r\n        if (resp.body.status === ACTIVE) {\r\n            this.pluginService.alertMessage(\"General subject published successfully\", \"success\")\r\n        }\r\n    }\r\n\r\n    onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { INACTIVE } from '../shared/constants/common.constants'\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\n@Component({\r\n    template: \"\",\r\n    providers: [GeneralSubjectService,CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectUnpublishComponent implements OnInit {\r\n    constructor(\r\n        public router: Router,\r\n        public activatedRoute: ActivatedRoute,\r\n        public generalSubjectService: GeneralSubjectService,\r\n        protected pluginService: PluginService,\r\n        public errorHandler: CoreErrorHandler\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n            this.unpublishGeneralSubject(generalSubject);\r\n        });\r\n    }\r\n\r\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n    }\r\n\r\n    unpublishGeneralSubject(generalSubject) {\r\n        generalSubject.status = INACTIVE;\r\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\r\n        this.router.navigateByUrl('/general-subject');\r\n    }\r\n\r\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\r\n        if (resp.body.status === INACTIVE) {\r\n            this.pluginService.alertMessage(\"General subject unpublished successfully\", \"success\")\r\n        }\r\n    }\r\n\r\n    onError(errRes: HttpErrorResponse) {\r\n        this.errorHandler.handleError(errRes);\r\n    }\r\n}","import { Component, OnInit, AfterViewInit, ChangeDetectorRef } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\r\nimport { GeneralSubjectService } from './general-subject.service'\r\nimport { PluginService } from '../shared/plugin/plugin.service';\r\nimport { CREATED, DRAFT, ACTIVE, EDITED, NOCHANGE, DELETED } from '../shared/constants/common.constants';\r\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\r\nimport { CommonService } from '../shared/common/common.service';\r\nimport { CurriculumService } from '../curriculum/curriculum.service';\r\nimport { CoreErrorHandler } from '../shared/error-handler/error-handler.service';\r\n\r\ndeclare var $: any;\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  templateUrl: \"./general-subject-update.component.html\",\r\n  providers: [GeneralSubjectService, CoreErrorHandler]\r\n})\r\nexport class GeneralSubjectUpdateComponent implements OnInit, AfterViewInit {\r\n  generalSubjectForm: FormGroup;\r\n  conceptAndTopicForm: FormGroup;\r\n  generalSubject: IGeneralSubject[] = [];\r\n  updatedJSONTree: IGeneralSubject[] = [];\r\n  curriculumList: ICurriculum[] = [];\r\n  nodeTypes: any[] = [];\r\n  grades: any[] = [];\r\n  allGrades: any[] = [];\r\n  subjectName: string;\r\n  subjectDescription: string;\r\n  nodeType: string;\r\n  nodeTitle: string;\r\n  nodeDescription: string;\r\n  curriculum: string;\r\n  grade: string;\r\n  nodeId: string;\r\n  nodeOperationType: string;\r\n  modalTitleName: string;\r\n  curriculumId: number;\r\n  validateSubjectForm: boolean;\r\n  enableNodeOperation: boolean;\r\n  enableEditNodeOperation: boolean;\r\n  validateNodeForm: boolean;\r\n  enableModalOperation: boolean;\r\n  validateNode: boolean;\r\n  disableDropdown: boolean;\r\n  enableExpandNode: boolean;\r\n  selectedNodeType: any;\r\n  selectedCurriculum: any;\r\n  selectedGrade: any;\r\n  selectedSubjectGrade: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private pluginService: PluginService,\r\n    public curriculumService: CurriculumService,\r\n    public generalSubjectService: GeneralSubjectService,\r\n    public activatedRoute: ActivatedRoute,\r\n    public commonService: CommonService,\r\n    private changeDetectRef: ChangeDetectorRef,\r\n    public errorHandler: CoreErrorHandler\r\n  ) {\r\n    this.validateSubjectForm = true;\r\n    this.validateNode = true;\r\n    this.validateNodeForm = true;\r\n    this.enableExpandNode = false;\r\n    this.allGrades = [\r\n      {\r\n        \"id\": 1,\r\n        \"name\": 1\r\n      },\r\n      {\r\n        \"id\": 2,\r\n        \"name\": 2\r\n      },\r\n      {\r\n        \"id\": 3,\r\n        \"name\": 3\r\n      },\r\n      {\r\n        \"id\": 4,\r\n        \"name\": 4\r\n      },\r\n      {\r\n        \"id\": 5,\r\n        \"name\": 5\r\n      },\r\n      {\r\n        \"id\": 6,\r\n        \"name\": 6\r\n      },\r\n      {\r\n        \"id\": 7,\r\n        \"name\": 7\r\n      },\r\n      {\r\n        \"id\": 8,\r\n        \"name\": 8\r\n      },\r\n      {\r\n        \"id\": 9,\r\n        \"name\": 9\r\n      },\r\n      {\r\n        \"id\": 10,\r\n        \"name\": 10\r\n      },\r\n      {\r\n        \"id\": 11,\r\n        \"name\": 11\r\n      },\r\n      {\r\n        \"id\": 12,\r\n        \"name\": 12\r\n      }\r\n    ];\r\n  }\r\n\r\n  getNodeTypeList() {\r\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\r\n      this.nodeTypes = nodeTypeData.generalSubject;\r\n      this.allGrades = nodeTypeData.grade;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.pluginService.sideMenuToggle();\r\n    this.createGeneralSubjectGroup();\r\n    this.pluginService.stepper();\r\n    this.getCurriculumList();\r\n    this.getNodeTypeList();\r\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\r\n      this.updateGeneralSubjectValues(generalSubject);\r\n    });\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  createGeneralSubjectGroup() {\r\n    this.generalSubjectForm = this.formBuilder.group({\r\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\r\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    });\r\n    this.conceptAndTopicForm = this.formBuilder.group({\r\n      conceptName: new FormControl(''),\r\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\r\n      topicName: new FormControl(''),\r\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\r\n    })\r\n  }\r\n\r\n  get formControl() { return this.generalSubjectForm.controls; }\r\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\r\n\r\n  getCurriculumList() {\r\n    this.curriculumService.getStandardCurriculums().subscribe(\r\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\r\n      (res: HttpErrorResponse) => this.onError(res)\r\n    )\r\n  }\r\n\r\n  assignResponseToList(data: IGeneralSubject[]) {\r\n    this.curriculumList = data;\r\n  }\r\n\r\n  async updateGeneralSubjectValues(generalSubject: IGeneralSubject) {\r\n    this.updateStatusForAllNodes(generalSubject);\r\n    this.pluginService.jsTree(\"#beforeChangeTree\", generalSubject, false);\r\n    this.subjectName = generalSubject[0].data.name;\r\n    this.subjectDescription = generalSubject[0].data.description;\r\n    this.selectedSubjectGrade = this.allGrades.filter(item => item.name === generalSubject[0].data.baseGrade)[0];\r\n    this.generalSubjectForm.setValue({\r\n      generalSubjectName: this.subjectName,\r\n      generalSubjectDescription: this.subjectDescription\r\n    });\r\n  }\r\n\r\n  updateStatusForAllNodes(generalSubject) {\r\n    for (var i = 0; i < generalSubject.length; i++) {\r\n      generalSubject[i].data.editStatus = NOCHANGE;\r\n    }\r\n    this.generalSubject = generalSubject;\r\n    this.pluginService.jsTree(\"#buildTree\", generalSubject, true);\r\n  }\r\n\r\n  trimValue(value) {\r\n    if (value === null || value === undefined) {\r\n      return value;\r\n    } else {\r\n      return value.trim();\r\n    }\r\n  }\r\n\r\n  validateGeneralSubjectForm() {\r\n    let oldSubjectName, oldSubjectDesc;\r\n    oldSubjectName = this.generalSubject[0].data.name;\r\n    oldSubjectDesc = this.generalSubject[0].data.description;\r\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n    if (this.subjectName) {\r\n      this.validateSubjectForm = false;\r\n    } else {\r\n      this.validateSubjectForm = true;\r\n    }\r\n    if (this.selectedSubjectGrade) {\r\n      this.validateSubjectForm = false;\r\n    } else {\r\n      this.validateSubjectForm = true;\r\n    }\r\n\r\n    if (this.generalSubjectForm.invalid) {\r\n      this.validateSubjectForm = true;\r\n    }\r\n\r\n    if (this.generalSubjectForm.valid) {\r\n      this.validateSubjectForm = false;\r\n    }\r\n\r\n    if (oldSubjectName !== this.subjectName) {\r\n      this.validateNode = false;\r\n    }\r\n\r\n    if (oldSubjectDesc !== this.subjectDescription) {\r\n      this.validateNode = false;\r\n    }\r\n  }\r\n\r\n  updateSubjectTree() {\r\n    var name, description;\r\n    if (this.generalSubjectForm.valid) {\r\n      name = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\r\n      description = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\r\n      this.generalSubject[0].text = name;\r\n      this.generalSubject[0].data.name = name;\r\n      this.generalSubject[0].data.description = description;\r\n      this.generalSubject[0].data.baseGrade = this.selectedSubjectGrade.name;\r\n      this.pluginService.jsTree(\"#buildTree\", this.generalSubject, true);\r\n    }\r\n    if (this.generalSubjectForm.invalid) {\r\n      return\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nodeOnSelection();\r\n    this.generateJSONTreeOnDragAndDrop();\r\n  }\r\n\r\n  onNodeTypeChange() {\r\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\r\n    if (this.selectedNodeType) {\r\n      this.nodeType = this.selectedNodeType.name;\r\n      if (this.nodeType === 'concept') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\r\n      } else if (this.nodeType === 'topic') {\r\n        this.enableModalOperation = true;\r\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\r\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\r\n      }\r\n    }\r\n  }\r\n\r\n  onCurriculumChange() {\r\n    let gradesApplicableFrom, gradesApplicableTo;\r\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n      gradesApplicableFrom = null;\r\n      gradesApplicableTo = null;\r\n    } else {\r\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\r\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\r\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n    }\r\n  }\r\n\r\n  generateGradeList(min, max) {\r\n    this.grades = [];\r\n    for (var i = min; i <= max; i++) {\r\n      this.grades.push({\r\n        \"id\": i,\r\n        \"name\": i\r\n      });\r\n    }\r\n    return this.grades;\r\n  }\r\n\r\n  //Reset all form values\r\n  resetConceptAndTopicFormValues() {\r\n    this.conceptAndTopicForm.reset();\r\n    this.selectedNodeType = null;\r\n    this.selectedCurriculum = null;\r\n    this.selectedGrade = null;\r\n  }\r\n\r\n  //Tree selection and change method call\r\n  nodeOnSelection() {\r\n    let localThisObj = this;\r\n    $('#buildTree').on('changed.jstree', function (e, data) {\r\n      let i, j;\r\n      for (i = 0, j = data.selected.length; i < j; i++) {\r\n        localThisObj.nodeType = data.node.type;\r\n        if (localThisObj.nodeType === \"root\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        } else if (localThisObj.nodeType === \"concept\") {\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.nodeId = data.node.data.id;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else if (localThisObj.nodeType === \"topic\") {\r\n          localThisObj.enableNodeOperation = true;\r\n          localThisObj.enableEditNodeOperation = true;\r\n          localThisObj.nodeId = data.node.data.id;\r\n          localThisObj.nodeTitle = data.node.data.name;\r\n          localThisObj.nodeDescription = data.node.data.description;\r\n          localThisObj.curriculumId = data.node.data.baseCurriculumId;\r\n          if (localThisObj.curriculumId === null) {\r\n            localThisObj.selectedCurriculum = null;\r\n            localThisObj.curriculum = null;\r\n          } else {\r\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === localThisObj.curriculumId).acronym;\r\n          }\r\n          localThisObj.grade = data.node.data.baseGrade;\r\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\r\n        } else {\r\n          localThisObj.enableNodeOperation = false;\r\n          localThisObj.enableEditNodeOperation = false;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //Concept and topic details form setvalues method\r\n  conceptAndTopicFormSetValues(Objectthis) {\r\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\r\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\r\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\r\n    if (Objectthis.nodeType === \"concept\") {\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: Objectthis.nodeTitle,\r\n        conceptDescription: Objectthis.nodeDescription,\r\n        topicName: \"\",\r\n        topicDescription: \"\"\r\n      })\r\n    } else if (Objectthis.nodeType === \"topic\") {\r\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\r\n        this.selectedCurriculum = null;\r\n        this.selectedGrade = null;\r\n      } else {\r\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\r\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\r\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\r\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\r\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\r\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\r\n        this.selectedGrade = this.grades[gradeIndex];\r\n      }\r\n      this.conceptAndTopicForm.setValue({\r\n        conceptName: \"\",\r\n        conceptDescription: \"\",\r\n        topicName: Objectthis.nodeTitle,\r\n        topicDescription: Objectthis.nodeDescription\r\n      })\r\n    }\r\n  }\r\n\r\n  validateConceptAndTopicForm() {\r\n    let conceptName, topicName;\r\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n    if (this.nodeType === 'concept') {\r\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    } else if (this.nodeType === 'topic') {\r\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\r\n        this.validateNodeForm = true;\r\n      } else {\r\n        this.validateNodeForm = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    //General Subject Form Validation\r\n    this.validateGeneralSubjectForm();\r\n    //Concept and topic form validation\r\n    this.validateConceptAndTopicForm();\r\n    this.changeDetectRef.detectChanges();\r\n  }\r\n\r\n  //Create node method\r\n  createNode() {\r\n    this.nodeOperationType = \"create\";\r\n    this.modalTitleName = \"Add new\";\r\n    this.openConceptAndTopicModal();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.disableDropdown = false;\r\n    this.enableModalOperation = false;\r\n    this.selectedNodeType = null;\r\n  }\r\n\r\n  //Edit node method\r\n  editNode() {\r\n    this.nodeOperationType = \"edit\";\r\n    this.modalTitleName = \"Edit\";\r\n    this.disableDropdown = true;\r\n    this.conceptAndTopicForm.patchValue({\r\n      conceptName: this.nodeTitle,\r\n      topicName: this.nodeTitle,\r\n      conceptDescription: this.nodeDescription,\r\n      topicDescription: this.nodeDescription\r\n    })\r\n    this.enableModalOperation = true;\r\n    this.openConceptAndTopicModal();\r\n  }\r\n\r\n  loadUpdatedJsonTree() {\r\n    if (this.validateNode === false) {\r\n      let updatedJson = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n      this.updateJSONTreeWithOrderNum(updatedJson);\r\n    }\r\n  }\r\n\r\n  openConceptAndTopicModal() {\r\n    this.pluginService.showModalWindow(\"#generalSubjectModal\");\r\n  }\r\n\r\n  closeConceptAndTopicModal() {\r\n    this.pluginService.hideModalWindow(\"#generalSubjectModal\")\r\n  }\r\n\r\n  closeWithOutSavingNode() {\r\n    var localthisObject = this;\r\n    swal({\r\n      title: \"Are you sure to close without saving ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm === true) {\r\n          localthisObject.closeConceptAndTopicModal();\r\n          localthisObject.disableNodeOperations();\r\n        }\r\n      });\r\n  }\r\n\r\n  disableNodeOperations() {\r\n    this.enableNodeOperation = false;\r\n    this.nodeType = \"\"\r\n    this.resetConceptAndTopicFormValues();\r\n    let treeCallback = $('#buildTree').jstree(true);\r\n    treeCallback.deselect_all();\r\n  }\r\n\r\n  //Save node method\r\n  saveNode() {\r\n    if (this.conceptAndTopicForm.valid) {\r\n      this.validateNodeForm = false;\r\n      let newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, selectedNodeID, data, curriculum, grade;\r\n      position = 'last';\r\n      parent = $('#buildTree').jstree('get_selected')[0];\r\n      treeCallback = $('#buildTree').jstree(true);\r\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n      selectedNodeID = treeCallback.get_selected()[0];\r\n      nodeIndex = jsonArray.findIndex(item => item.id === selectedNodeID);\r\n      if (this.nodeOperationType === \"create\") {\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"concept\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"orderNumber\": null,\r\n              \"status\": null,\r\n              \"baseCurriculumId\": null,\r\n              \"baseGrade\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          newNodeArray = {\r\n            \"text\": this.nodeTitle,\r\n            \"type\": \"topic\",\r\n            \"state\": {\r\n              \"opened\": true,\r\n              \"selected\": false\r\n            },\r\n            \"data\": {\r\n              \"name\": this.nodeTitle,\r\n              \"description\": this.nodeDescription,\r\n              \"baseCurriculumId\": curriculum,\r\n              \"baseGrade\": grade,\r\n              \"orderNumber\": null,\r\n              \"status\": null,\r\n              \"editStatus\": CREATED\r\n            }\r\n          }\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\r\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        }\r\n        this.validateNode = false;\r\n      } if (this.nodeOperationType === \"edit\") {\r\n        this.validateNode = false;\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": null,\r\n            \"baseGrade\": null,\r\n            \"status\": null,\r\n            \"editStatus\": EDITED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        } else if (this.nodeType === \"topic\") {\r\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\r\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\r\n          jsonArray[nodeIndex].text = this.nodeTitle;\r\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\r\n            curriculum = null;\r\n          } else {\r\n            curriculum = this.selectedCurriculum.id;\r\n          }\r\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\r\n            grade = null;\r\n          } else {\r\n            grade = this.selectedGrade.id;\r\n          }\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"baseCurriculumId\": curriculum,\r\n            \"baseGrade\": grade,\r\n            \"orderNumber\": null,\r\n            \"status\": null,\r\n            \"editStatus\": EDITED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n        }\r\n      } else if (this.nodeOperationType === \"delete\") {\r\n        this.validateNode = false;\r\n        this.nodeType = jsonArray[nodeIndex].type;\r\n        if (this.nodeType === \"concept\") {\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": null,\r\n            \"baseGrade\": null,\r\n            \"status\": null,\r\n            \"editStatus\": DELETED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n          arrayDetails.type = 'concept';\r\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n          //Update a child node status\r\n          if (treeCallback.is_parent(selectedNodeID) === true) {\r\n            this.getChildrenDOM(selectedNodeID, jsonArray);\r\n          }\r\n        } else {\r\n          data = {\r\n            \"id\": this.nodeId,\r\n            \"name\": this.nodeTitle,\r\n            \"description\": this.nodeDescription,\r\n            \"orderNumber\": null,\r\n            \"baseCurriculumId\": this.curriculumId,\r\n            \"baseGrade\": this.grade,\r\n            \"status\": null,\r\n            \"editStatus\": DELETED\r\n          }\r\n          arrayDetails = jsonArray[nodeIndex];\r\n          arrayDetails.data = data;\r\n          arrayDetails.type = 'topic';\r\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n        }\r\n      } else {\r\n      }\r\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true)\r\n      this.changeNodeStatus(jsonArray);\r\n      treeCallback.deselect_all();\r\n      this.nodeType = \"\";\r\n      this.enableNodeOperation = false;\r\n      this.closeConceptAndTopicModal()\r\n      this.resetConceptAndTopicFormValues();\r\n    }\r\n    if (this.conceptAndTopicForm.invalid) {\r\n      this.validateNodeForm = true;\r\n      return;\r\n    }\r\n  }\r\n\r\n  //Delete node method\r\n  deleteNode() {\r\n    this.nodeOperationType = \"delete\";\r\n    this.saveNode();\r\n  }\r\n\r\n  //Get children DOM\r\n  getChildrenDOM(selectedNode, jsonArray) {\r\n    var treeCallBack, childrenDOM, childDOM, lastChildDOM, subChildDOM, i, j, k, l, childrenIDs1 = [], childrenIDs2 = [], childrenIDs3 = [], childrenIDs4 = [], childrenIDs = [];\r\n    treeCallBack = $(\"#buildTree\").jstree(true)\r\n    childrenDOM = treeCallBack.get_children_dom(selectedNode);\r\n    for (i = 0; i < childrenDOM.length; i++) {\r\n      childrenIDs1.push({ \"id\": childrenDOM[i].id });\r\n      if (treeCallBack.is_parent(childrenIDs1[i]) === true) {\r\n        childDOM = treeCallBack.get_children_dom(childrenIDs1[i]);\r\n        for (j = 0; j < childDOM.length; j++) {\r\n          childrenIDs2.push({ \"id\": childDOM[j].id });\r\n          if (treeCallBack.is_parent(childrenIDs2[j]) === true) {\r\n            subChildDOM = treeCallBack.get_children_dom(childrenIDs2[j]);\r\n            for (k = 0; k < subChildDOM.length; k++) {\r\n              childrenIDs3.push({ \"id\": subChildDOM[k].id });\r\n              if (treeCallBack.is_parent(childrenIDs3[k]) === true) {\r\n                lastChildDOM = treeCallBack.get_children_dom(childrenIDs3[k]);\r\n                for (l = 0; l < lastChildDOM.length; l++) {\r\n                  childrenIDs4.push({ \"id\": lastChildDOM[l].id });\r\n                  this.updateDeleteStatus(childrenIDs4, jsonArray);\r\n                }\r\n              }\r\n              this.updateDeleteStatus(childrenIDs3, jsonArray);\r\n            }\r\n          }\r\n          this.updateDeleteStatus(childrenIDs2, jsonArray);\r\n        }\r\n      }\r\n    }\r\n    this.updateDeleteStatus(childrenIDs1, jsonArray);\r\n    this.updatedJSONTree = jsonArray;\r\n  }\r\n\r\n  //Update delete status\r\n  updateDeleteStatus(childrenIDs, jsonArray) {\r\n    var k, nodeIndex, nodeType, data;\r\n    for (k = 0; k < childrenIDs.length; k++) {\r\n      nodeIndex = jsonArray.findIndex(item => item.id === childrenIDs[k].id);\r\n      nodeType = jsonArray[nodeIndex].type;\r\n      if (nodeType === \"concept\") {\r\n        data = {\r\n          \"id\": this.nodeId,\r\n          \"name\": this.nodeTitle,\r\n          \"description\": this.nodeDescription,\r\n          \"orderNumber\": null,\r\n          \"baseCurriculumId\": null,\r\n          \"baseGrade\": null,\r\n          \"status\": null,\r\n          \"editStatus\": DELETED\r\n        }\r\n        jsonArray[nodeIndex].data = data;\r\n        jsonArray[nodeIndex].type = 'concept';\r\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n      } else {\r\n        data = {\r\n          \"id\": this.nodeId,\r\n          \"name\": this.nodeTitle,\r\n          \"description\": this.nodeDescription,\r\n          \"orderNumber\": null,\r\n          \"baseCurriculumId\": this.curriculumId,\r\n          \"baseGrade\": this.grade,\r\n          \"status\": null,\r\n          \"editStatus\": DELETED\r\n        }\r\n        jsonArray[nodeIndex].data = data;\r\n        jsonArray[nodeIndex].type = 'topic';\r\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\r\n      }\r\n    }\r\n  }\r\n\r\n  //Generate JSON tree on drag and drop\r\n  generateJSONTreeOnDragAndDrop() {\r\n    var localObj = this, json: any[] = [];\r\n    $(document).on('dnd_stop.vakata', function (e, data) {\r\n      setTimeout(function () {\r\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\r\n        localObj.updateJSONTreeWithOrderNum(json);\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\r\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onError(errRes));\r\n  }\r\n\r\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\r\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\r\n    this.previousUrl();\r\n    this.resetConceptAndTopicFormValues();\r\n    this.generalSubjectForm.reset();\r\n  }\r\n\r\n  saveAsDraft() {\r\n    this.updatedJSONTree[0].data.status = DRAFT;\r\n    this.saveGeneralSubject();\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  saveAndPublish() {\r\n    this.updatedJSONTree[0].data.status = ACTIVE;\r\n    this.saveGeneralSubject();\r\n    this.resetConceptAndTopicFormValues();\r\n  }\r\n\r\n  saveGeneralSubject() {\r\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\r\n  }\r\n\r\n  private createGeneralSubjectForm(): IGeneralSubject[] {\r\n    return this.updatedJSONTree;\r\n  }\r\n\r\n  //update JSON array with order number \r\n  updateJSONTreeWithOrderNum(json) {\r\n    this.updatedJSONTree = [];\r\n    this.updatedJSONTree = json;\r\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\r\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n      this.validateNode = true;\r\n    } else if (this.updatedJSONTree[0].type === \"root\") {\r\n      this.validateNode = false;\r\n    }\r\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\r\n      this.updatedJSONTree[i].data.orderNumber = i;\r\n      //Remove unwanted objects (for api call) from the JSON tree\r\n      delete this.updatedJSONTree[i].state;\r\n      delete this.updatedJSONTree[i].a_attr;\r\n      delete this.updatedJSONTree[i].li_attr;\r\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\r\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\r\n        this.validateNode = true;\r\n      }\r\n    }\r\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\r\n  }\r\n\r\n  //If new node is created and edited , status will be created only \r\n  //If new node is created and deleted , remove an element from the updated array\r\n  changeNodeStatus(json) {\r\n    let selectedNodeID, treeCallback, updatedJson;\r\n    for (let i = 0; i < json.length; i++)\r\n      if (json[i].data.id === undefined) {\r\n        if (json[i].data.editStatus === EDITED) {\r\n          json[i].data.editStatus = CREATED\r\n        } else if (json[i].data.editStatus === DELETED) {\r\n          treeCallback = $('#buildTree').jstree(true);\r\n          selectedNodeID = treeCallback.get_selected()[0];\r\n          treeCallback.delete_node($('#' + selectedNodeID))\r\n          updatedJson = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\r\n          json = updatedJson;\r\n        }\r\n      }\r\n    this.updateJSONTreeWithOrderNum(json);\r\n  }\r\n\r\n  toggleTreeNodes() {\r\n    this.enableExpandNode = !this.enableExpandNode;\r\n    if (this.enableExpandNode) {\r\n      this.pluginService.openJsTreeAllNodes(\"#buildTree\");\r\n    } else {\r\n      this.pluginService.closeJsTreeAllNodes(\"#buildTree\");\r\n    }\r\n  }\r\n\r\n  protected onError(errRes: HttpErrorResponse) {\r\n    this.errorHandler.handleError(errRes);\r\n  }\r\n\r\n  previousUrl() {\r\n    this.router.navigateByUrl('/general-subject');\r\n  }\r\n\r\n  onBack() {\r\n    var localObj = this;\r\n    swal({\r\n      title: \"Are you sure to go previous page ?\",\r\n      type: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes\",\r\n      confirmButtonColor: \"#32b432\",\r\n      cancelButtonText: \"No\",\r\n      closeOnConfirm: true,\r\n      closeOnCancel: true\r\n    },\r\n      function (isConfirm) {\r\n        if (isConfirm) {\r\n          localObj.previousUrl();\r\n          localObj.pluginService.sideMenuToggle();\r\n        }\r\n      });\r\n  }\r\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgJhipsterModule } from 'ng-jhipster';\r\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { SharedModule } from '../shared';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { generalSubjectRoute } from './general-subject.route';\r\nimport {\r\n  GeneralSubjectManageComponent,\r\n  GeneralSubjectCreateComponent,\r\n  GeneralSubjectUpdateComponent,\r\n  GeneralSubjectDetailsComponent,\r\n  GeneralSubjectDeleteComponent,\r\n  GeneralSubjectPublishComponent,\r\n  GeneralSubjectUnpublishComponent,\r\n  GeneralSubjectService\r\n} from './index';\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(generalSubjectRoute),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    NgJhipsterModule,\r\n    InfiniteScrollModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [\r\n    GeneralSubjectManageComponent,\r\n    GeneralSubjectCreateComponent,\r\n    GeneralSubjectUpdateComponent,\r\n    GeneralSubjectDetailsComponent,\r\n    GeneralSubjectDeleteComponent,\r\n    GeneralSubjectPublishComponent,\r\n    GeneralSubjectUnpublishComponent\r\n  ],\r\n  providers: [GeneralSubjectService],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class GeneralSubjectsModule {\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, Routes } from '@angular/router';\r\nimport { UserRouteAccessService } from '../core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { GeneralSubjectService } from './general-subject.service';\r\nimport { GeneralSubjectManageComponent } from './general-subject-manage.component';\r\nimport { GeneralSubjectDetailsComponent } from './general-subject-details.component';\r\nimport { GeneralSubjectUpdateComponent } from './general-subject-update.component';\r\nimport { IGeneralSubject, GeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { GeneralSubjectCreateComponent } from './general-subject-create.component';\r\nimport { GeneralSubjectPublishComponent } from './general-subject-update-publish.component';\r\nimport { GeneralSubjectUnpublishComponent } from './general-subject-update-unpublish.component';\r\nimport { GeneralSubjectDeleteComponent } from './general-subject-delete.component';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectResolve implements Resolve<IGeneralSubject> {\r\n  constructor(private service: GeneralSubjectService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IGeneralSubject> {\r\n    const id = route.params['id'] ? route.params['id'] : null;\r\n    if (id) {\r\n      return this.service.getSubjectBySubjectId(id).pipe(\r\n        filter((response: HttpResponse<GeneralSubject>) => response.ok),\r\n        map((generalSubject: HttpResponse<GeneralSubject>) => generalSubject.body)\r\n      );\r\n    }\r\n    return of(new GeneralSubject());\r\n  }\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectWithTreeResolve implements Resolve<any> {\r\n  constructor(private service: GeneralSubjectService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\r\n    const id = route.params['id'] ? route.params['id'] : null;\r\n    if (id) {\r\n      return this.service.getSubjectTreeBySubjectId(id).pipe(\r\n        filter((response: HttpResponse<any>) => response.ok),\r\n        map((generalSubject: HttpResponse<any>) => generalSubject.body)\r\n      );\r\n    }\r\n    return of(new GeneralSubject());\r\n  }\r\n}\r\n\r\nexport const generalSubjectRoute: Routes = [\r\n  {\r\n    path: '',\r\n    component: GeneralSubjectManageComponent,\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Manage general subjects'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: GeneralSubjectCreateComponent,\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Create new general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/edit',\r\n    component: GeneralSubjectUpdateComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectWithTreeResolve\r\n    },\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Edit general subject',\r\n      action: 'edit'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/view',\r\n    component: GeneralSubjectDetailsComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectWithTreeResolve\r\n    },\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'View general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/delete',\r\n    component: GeneralSubjectDeleteComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Delete general subject'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/publish',\r\n    component: GeneralSubjectPublishComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Publish general subject',\r\n      action: 'publish'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  },\r\n  {\r\n    path: ':id/unpublish',\r\n    component: GeneralSubjectUnpublishComponent,\r\n    resolve: {\r\n      generalSubject: GeneralSubjectResolve\r\n    },\r\n    data: {\r\n      authorities: ['SYSTEM_ADMIN'],\r\n      pageTitle: 'Unpublish general subject',\r\n      action: 'unpublish'\r\n    },\r\n    canActivate: [UserRouteAccessService]\r\n  }\r\n];\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { createRequestOption } from '../shared';\r\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\r\nimport { ACTIVE } from '../shared/constants/common.constants';\r\nimport { generalSubject, generalSubjectSearch, generalSubjectTree } from '../shared/constants/service.constants';\r\n\r\ntype EntityResponseType = HttpResponse<IGeneralSubject>;\r\ntype EntityArrayResponseType = HttpResponse<IGeneralSubject[]>;\r\n\r\nlet headers: HttpHeaders = new HttpHeaders();\r\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GeneralSubjectService {\r\n  public generalSubjectResourceUrl = environment.API_URL + generalSubject;\r\n  public generalSubjectSearchResourceUrl = environment.API_URL + generalSubjectSearch;\r\n  public generalSubjectResourceUrlWithTree = environment.API_URL + generalSubjectTree;\r\n\r\n  constructor(protected http: HttpClient) { }\r\n\r\n  getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\r\n    return this.http.get<IGeneralSubject>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectSearchList(): Observable<EntityArrayResponseType> {\r\n    var reqJSON = {\r\n      \"status\": ACTIVE\r\n    };\r\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectListByGrade(grade, status): Observable<EntityArrayResponseType> {\r\n    var reqJSON = {\r\n      \"grade\": grade,\r\n      \"status\": status\r\n    };\r\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\r\n  }\r\n\r\n  getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\r\n    return this.http.get<IGeneralSubject[]>(`${this.generalSubjectResourceUrlWithTree}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  updateGeneralSubjectStatus(generalSubject: IGeneralSubject): Observable<EntityResponseType> {\r\n    return this.http.put<IGeneralSubject>(this.generalSubjectResourceUrl, generalSubject, { observe: 'response' });\r\n  }\r\n\r\n  getAllSubjects(req?: any): Observable<EntityArrayResponseType> {\r\n    const options = createRequestOption(req);\r\n    return this.http.get<IGeneralSubject[]>(this.generalSubjectResourceUrl, { params: options, observe: 'response' });\r\n  }\r\n\r\n  delete(id: number): Observable<HttpResponse<any>> {\r\n    return this.http.delete<any>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\r\n  }\r\n\r\n  saveGeneralSubject(generalSubject: IGeneralSubject[]): Observable<EntityResponseType> {\r\n    return this.http.post<IGeneralSubject>(this.generalSubjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\r\n  }\r\n}\r\n","export * from \"./general-subject-manage.component\";\r\nexport * from \"./general-subject-update.component\";\r\nexport * from \"./general-subject-create.component\";\r\nexport * from \"./general-subject-details.component\";\r\nexport * from \"./general-subject-delete.component\";\r\nexport * from \"./general-subject-update-publish.component\";\r\nexport * from \"./general-subject-update-unpublish.component\";\r\nexport * from \"./general-subject.service\";","export const DRAFT = 'DRAFT';\r\nexport const ACTIVE = 'ACTIVE';\r\nexport const INACTIVE = 'INACTIVE';\r\nexport const ARCHIVED = 'ARCHIVED';\r\nexport const NOCHANGE = 'NOCHANGE';\r\nexport const CREATED = 'CREATED';\r\nexport const EDITED = 'EDITED';\r\nexport const DELETED = 'DELETED';","export interface IGeneralSubject {\r\n  id?: number;\r\n  title?: string;\r\n  description?: string;\r\n  status?: string;\r\n  data?: {\r\n    orderNumber?: number,\r\n    baseCurriculumId?: number,\r\n    baseGrade?: number,\r\n    description?: string,\r\n    editStatus?: string,\r\n    id?: number,\r\n    name?: string,\r\n    status?: string,\r\n    contentsCount?: number,\r\n    orgContentsCount?: number,\r\n    questionsCount?: number,\r\n    orgQuestionsCount?: number\r\n  };\r\n  icon?: string;\r\n  disabled?: boolean;\r\n  parent?: string;\r\n  text?: string;\r\n  type?: string;\r\n  state?: string;\r\n  a_attr?: string;\r\n  li_attr?: string;\r\n  curriculumID?: number;\r\n  name?: string;\r\n  acronym?: string;\r\n  gradesApplicableFrom?: number,\r\n  gradesApplicableTo?: number,\r\n  grades?: IGeneralSubject[];\r\n}\r\n\r\nexport class GeneralSubject implements IGeneralSubject {\r\n  constructor(\r\n    public id?: number,\r\n    public title?: string,\r\n    public description?: string,\r\n    public status?: string,\r\n    public data?: {\r\n      orderNumber?: number,\r\n      baseCurriculumId?: number,\r\n      baseGrade?: number,\r\n      description?: string,\r\n      editStatus?: string,\r\n      id?: number,\r\n      name?: string,\r\n      status?: string,\r\n      contentsCount?: number,\r\n      orgContentsCount?: number,\r\n      questionsCount?: number,\r\n      orgQuestionsCount?: number\r\n    },\r\n    public icon?: string,\r\n    public parent?: string,\r\n    public disabled?: boolean,\r\n    public text?: string,\r\n    public type?: string,\r\n    public state?: string,\r\n    public a_attr?: string,\r\n    public li_attr?: string,\r\n    public curriculumID?: number,\r\n    public name?: string,\r\n    public acronym?: string,\r\n    public gradesApplicableFrom?: number,\r\n    public gradesApplicableTo?: number,\r\n    public grades?: IGeneralSubject[]) { }\r\n}\r\n"],"sourceRoot":"webpack:///"}